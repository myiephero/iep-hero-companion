const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/web.js-DKmlJmEE.js","js/chunk-DsWtD-um.js","js/chunk--CdJ9rTh.js","js/chunk-CIO6T0Sb.js","js/chunk-DiCKXT8z.js","js/MobileTestingPage.tsx-CEvB6nvC.js","js/chunk-g-Fdx7Wh.js","js/chunk-DoUlYkqf.js","js/chunk-DvatESFC.js","js/Auth.tsx-BltgfSD4.js","js/SetupPassword.tsx-DtvqhoIQ.js","js/SubscriptionSetup.tsx-DJmNi2u5.js","js/chunk-Csgv8Z6q.js","js/SubscriptionSuccess.tsx-BS4Benes.js","js/AccountCreated.tsx-CY1wg7AR.js","js/VerifyEmail.tsx-aKkZs8qW.js","js/Onboarding.tsx-D0hlg-32.js","js/PricingSelection.tsx-BKCFUWYo.js","js/ParentDashboard.tsx-C3iLK3ec.js","js/chunk-gc4Qg77s.js","js/chunk-C0YN7bLl.js","js/chunk-BNq8D1fv.js","js/chunk-CWxgGY0F.js","js/chunk-CLg4OT_Z.js","js/chunk-f1NJljzd.js","js/AdvocateDashboard.tsx-C1Lph7BU.js","js/chunk-Bfk4g-oS.js","js/ParentStudents.tsx-Dn6zqkJw.js","js/chunk-C5PCvCMA.js","js/chunk-CUrnfQtB.js","js/chunk-C-UEibDY.js","js/chunk-Dhmd5fRp.js","js/chunk-CKxibhWI.js","js/AdvocateStudents.tsx-_bw25p8k.js","js/chunk-Dd-vdh4v.js","js/AdvocateParents.tsx-C3TRbEqN.js","js/chunk-NENDS_-e.js","js/StudentProfiles.tsx-CVWskoE1.js","js/AdvocateMessages.tsx-5GvSbBcH.js","js/chunk-C62XqJeg.js","js/chunk--P05M-BP.js","js/chunk-Cxjqa3wU.js","js/chunk-3lxlifzP.js","js/ParentMessages.tsx-BNaSLBOg.js","js/UnifiedScheduleHub.tsx-Bhcs6w13.js","js/AdvocateSchedule.tsx-DEuN9U-L.js","js/ScheduleMeeting.tsx-CR3OyvS0.js","js/ParentSchedule.tsx-V2kPCk5j.js","js/RequestMeeting.tsx-C_7tI4ei.js","js/ParentMeetingPrep.tsx-DyKWG6fT.js","js/MeetingPrepWizard.tsx-BVFkjGNY.js","js/chunk-BTdI5t8C.js","js/ToolsHub.tsx-CugeP3mJ.js","js/chunk-D2fK216O.js","js/AdvocateToolsHubPremium.tsx-BmyGTXRz.js","js/IEPReview.tsx-BWOenhRp.js","js/AIIEPReview.tsx-DwB29eZq.js","js/chunk-D1kkJdjZ.js","js/chunk-D4-oByZb.js","js/UnifiedIEPReview.tsx-F2Rjd10e.js","js/IEPMasterSuite.tsx-CtXl6ZQ3.js","js/ParentIEPMasterSuite.tsx-ka0OmTvC.js","js/ExpertAnalysis.tsx-xJnjCH7a.js","js/AutismToolsHub.tsx-BW_CjnVT.js","js/AutismAccommodations.tsx-CghgnrZf.js","js/chunk-CGmihbRH.js","js/AutismAccommodationBuilder.tsx-viUEkeuA.js","js/ParentAutismAccommodations.tsx-CDXklmCE.js","js/AdvocateAutismAccommodations.tsx-BybYiaC6.js","js/AutismSensoryTool.tsx-Cwd8v9Nt.js","js/AutismCommunicationTool.tsx-D-hLYQ76.js","js/AutismBehavioralTool.tsx-B9oUWL9G.js","js/AutismAIInsightsTool.tsx-DQlat9_e.js","js/GiftedToolsHub.tsx-BW2OrZcB.js","js/AdvocateGiftedToolsHub.tsx-BgWlOjOY.js","js/GiftedCognitiveTool.tsx-BBQ1cD56.js","js/GiftedAcademicTool.tsx-D4AS-Zd9.js","js/GiftedCreativeTool.tsx-lD8o8h6y.js","js/GiftedLeadershipTool.tsx-CxF4kpFf.js","js/GiftedAIInsightsTool.tsx-DMlHSjVw.js","js/GiftedTwoeLearners.tsx-dgAopWF3.js","js/SmartLetterGeneratorNew.tsx-TFw1pqlt.js","js/DocumentVault.tsx-CYXp5opm.js","js/CommunicationTracker.tsx-CVifbsYz.js","js/AskAIDocs.tsx-C6tqnFUJ.js","js/AskAIDocuments.tsx-GDn9Ekya.js","js/ProgressAnalyzer.tsx-VRHcGNR8.js","js/GoalGenerator.tsx-WKfSK5RO.js","js/ParentGoalGenerator.tsx-zJBOd296.js","js/ProgressNotes.tsx-BkuBrhf6.js","js/ProgressNotesTracker.tsx-BKM2Eot3.js","js/TimelineCalculator.tsx-CoEN4Hg_.js","js/EmotionTracker.tsx-D_Hb5RJp.js","js/ParentEmotionTracker.tsx-cUm6NAWu.js","js/CopingStrategies.tsx-DgfOHbrd.js","js/WarningSignsDetection.tsx-BThuanUS.js","js/SupportSchedule.tsx-sIyGNAOE.js","js/IDEARightsGuide.tsx-DwKltznB.js","js/ParentIDEARightsGuide.tsx-CvME2GYQ.js","js/chunk-Cbq0m5_E.js","js/FERPAOverview.tsx-DsJz-6KX.js","js/Plan504Guide.tsx-DVH9HTkI.js","js/Plan504Builder.tsx-B92Kmnu2.js","js/OTRecommender.tsx-CZ5lO6Jq.js","js/OTActivityRecommender.tsx-BdiCpRHQ.js","js/SmartMatching.tsx-C2flnxaC.js","js/MatchingDashboard.tsx-wCXS7L_X.js","js/AdvocacyReports.tsx-Bz2JTqWP.js","js/AdvocatePricingPlan.tsx-AVM4-v-5.js","js/chunk-B4R6Sx5z.js","js/ParentPricingPlan.tsx-DfMIXwJ5.js","js/ParentHeroPlan.tsx-zPVR5_KU.js","js/ParentHeroUpsell.tsx-l1Ixc80X.js","js/HeroPlan.tsx-CwWe3ooK.js","js/Profile.tsx-ZAfDT8jb.js","js/Settings.tsx-5V5ZL7Uc.js","js/ParentSettings.tsx-CiA2cMfm.js","js/AdvocateSettings.tsx-BmWUcrQ3.js","js/EmergentToolsHubNew.tsx-DAc2PUd5.js","js/EmergentToolsHub.tsx-xyOn4u2-.js","js/PremiumToolsDemo.tsx-Qn2GeY-_.js","js/AllPagesView.tsx-Cngah5Nh.js","js/CardShowcase.tsx-DE4EHWmN.js","js/FABDemo.tsx-l5V45ijn.js"])))=>i.map(i=>d[i]);
var e,t=Object.defineProperty,a=(e,a,s)=>((e,a,s)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s)(e,"symbol"!=typeof a?a+"":a,s);import{c as s,a as r,u as o,j as n,B as i,P as l,V as d,b as c,d as u,e as p,f as m,R as h,g,h as f,i as x,k as v,A as b,D as y,C as w,l as j,m as N,n as E,o as _,p as P,S as R,O as T,q as A,r as k,T as S,s as I,t as C,v as L,w as D,x as O,y as M,z,I as q,E as $,F as V,G as B,L as F,H as G,J as U,K as W}from"../js/chunk-DsWtD-um.js";import{a as H,r as Y,R as K,b as X,u as J,N as Q,L as Z,d as ee,B as te,e as ae,f as se}from"../js/chunk--CdJ9rTh.js";import{c as re,t as oe,X as ne,P as ie,B as le,F as de,a as ce,S as ue,L as pe,C as me,T as he,M as ge,b as fe,d as xe,e as ve,f as be,g as ye,D as we,U as je,G as Ne,h as Ee,Z as _e,i as Pe,j as Re,k as Te,l as Ae,m as ke,n as Se,H as Ie,o as Ce,p as Le,q as De,r as Oe,s as Me,u as ze,v as qe,w as $e,R as Ve,A as Be,E as Fe,x as Ge,y as Ue,z as We,I as He}from"../js/chunk-CIO6T0Sb.js";import{u as Ye,Q as Ke,a as Xe}from"../js/chunk-DiCKXT8z.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Je=H;e=Je.createRoot,Je.hydrateRoot;const Qe={},Ze=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=e?.nonce||e?.getAttribute("nonce");s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Qe)return;Qe[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,a)=>{r.addEventListener("load",t),r.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};let et=0;const tt=new Map,at=e=>{if(tt.has(e))return;const t=setTimeout(()=>{tt.delete(e),nt({type:"REMOVE_TOAST",toastId:e})},1e6);tt.set(e,t)},st=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?at(a):e.toasts.forEach(e=>{at(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},rt=[];let ot={toasts:[]};function nt(e){ot=st(ot,e),rt.forEach(e=>{e(ot)})}function it({...e}){const t=(et=(et+1)%Number.MAX_SAFE_INTEGER,et.toString()),a=()=>nt({type:"DISMISS_TOAST",toastId:t});return nt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>nt({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function lt(){const[e,t]=Y.useState(ot);return Y.useEffect(()=>(rt.push(t),()=>{const e=rt.indexOf(t);e>-1&&rt.splice(e,1)}),[e]),{...e,toast:it,dismiss:e=>nt({type:"DISMISS_TOAST",toastId:e})}}var dt="ToastProvider",[ct,ut,pt]=s("Toast"),[mt,ht]=r("Toast",[pt]),[gt,ft]=mt(dt),xt=e=>{const{__scopeToast:t,label:a="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:o=50,children:i}=e,[l,d]=Y.useState(null),[c,u]=Y.useState(0),p=Y.useRef(!1),m=Y.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${dt}\`. Expected non-empty \`string\`.`),n.jsx(ct.Provider,{scope:t,children:n.jsx(gt,{scope:t,label:a,duration:s,swipeDirection:r,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:Y.useCallback(()=>u(e=>e+1),[]),onToastRemove:Y.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:i})})};xt.displayName=dt;var vt="ToastViewport",bt=["F8"],yt="toast.viewportPause",wt="toast.viewportResume",jt=Y.forwardRef((e,t)=>{const{__scopeToast:a,hotkey:s=bt,label:r="Notifications ({hotkey})",...d}=e,c=ft(vt,a),u=ut(a),p=Y.useRef(null),m=Y.useRef(null),h=Y.useRef(null),g=Y.useRef(null),f=o(t,g,c.onViewportChange),x=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=c.toastCount>0;Y.useEffect(()=>{const e=e=>{0!==s.length&&s.every(t=>e[t]||e.code===t)&&g.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),Y.useEffect(()=>{const e=p.current,t=g.current;if(v&&e&&t){const a=()=>{if(!c.isClosePausedRef.current){const e=new CustomEvent(yt);t.dispatchEvent(e),c.isClosePausedRef.current=!0}},s=()=>{if(c.isClosePausedRef.current){const e=new CustomEvent(wt);t.dispatchEvent(e),c.isClosePausedRef.current=!1}},r=t=>{!e.contains(t.relatedTarget)&&s()},o=()=>{e.contains(document.activeElement)||s()};return e.addEventListener("focusin",a),e.addEventListener("focusout",r),e.addEventListener("pointermove",a),e.addEventListener("pointerleave",o),window.addEventListener("blur",a),window.addEventListener("focus",s),()=>{e.removeEventListener("focusin",a),e.removeEventListener("focusout",r),e.removeEventListener("pointermove",a),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",a),window.removeEventListener("focus",s)}}},[v,c.isClosePausedRef]);const b=Y.useCallback(({tabbingDirection:e})=>{const t=u().map(t=>{const a=t.ref.current,s=[a,...Vt(a)];return"forwards"===e?s:s.reverse()});return("forwards"===e?t.reverse():t).flat()},[u]);return Y.useEffect(()=>{const e=g.current;if(e){const t=t=>{const a=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!a){const a=document.activeElement,s=t.shiftKey;if(t.target===e&&s)return void m.current?.focus();const r=b({tabbingDirection:s?"backwards":"forwards"}),o=r.findIndex(e=>e===a);Bt(r.slice(o+1))?t.preventDefault():s?m.current?.focus():h.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[u,b]),n.jsxs(i,{ref:p,role:"region","aria-label":r.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(Et,{ref:m,onFocusFromOutsideViewport:()=>{Bt(b({tabbingDirection:"forwards"}))}}),n.jsx(ct.Slot,{scope:a,children:n.jsx(l.ol,{tabIndex:-1,...d,ref:f})}),v&&n.jsx(Et,{ref:h,onFocusFromOutsideViewport:()=>{Bt(b({tabbingDirection:"backwards"}))}})]})});jt.displayName=vt;var Nt="ToastFocusProxy",Et=Y.forwardRef((e,t)=>{const{__scopeToast:a,onFocusFromOutsideViewport:s,...r}=e,o=ft(Nt,a);return n.jsx(d,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!o.viewport?.contains(t)&&s()}})});Et.displayName=Nt;var _t="Toast",Pt=Y.forwardRef((e,t)=>{const{forceMount:a,open:s,defaultOpen:r,onOpenChange:o,...i}=e,[l,d]=c({prop:s,defaultProp:r??!0,onChange:o,caller:_t});return n.jsx(u,{present:a||l,children:n.jsx(At,{open:l,...i,ref:t,onClose:()=>d(!1),onPause:p(e.onPause),onResume:p(e.onResume),onSwipeStart:m(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:m(e.onSwipeMove,e=>{const{x:t,y:a}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${a}px`)}),onSwipeCancel:m(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:m(e.onSwipeEnd,e=>{const{x:t,y:a}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${a}px`),d(!1)})})})});Pt.displayName=_t;var[Rt,Tt]=mt(_t,{onClose(){}}),At=Y.forwardRef((e,t)=>{const{__scopeToast:a,type:s="foreground",duration:r,open:i,onClose:d,onEscapeKeyDown:c,onPause:u,onResume:g,onSwipeStart:f,onSwipeMove:x,onSwipeCancel:v,onSwipeEnd:b,...y}=e,w=ft(_t,a),[j,N]=Y.useState(null),E=o(t,e=>N(e)),_=Y.useRef(null),P=Y.useRef(null),R=r||w.duration,T=Y.useRef(0),A=Y.useRef(R),k=Y.useRef(0),{onToastAdd:S,onToastRemove:I}=w,C=p(()=>{const e=j?.contains(document.activeElement);e&&w.viewport?.focus(),d()}),L=Y.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(k.current),T.current=(new Date).getTime(),k.current=window.setTimeout(C,e))},[C]);Y.useEffect(()=>{const e=w.viewport;if(e){const t=()=>{L(A.current),g?.()},a=()=>{const e=(new Date).getTime()-T.current;A.current=A.current-e,window.clearTimeout(k.current),u?.()};return e.addEventListener(yt,a),e.addEventListener(wt,t),()=>{e.removeEventListener(yt,a),e.removeEventListener(wt,t)}}},[w.viewport,R,u,g,L]),Y.useEffect(()=>{i&&!w.isClosePausedRef.current&&L(R)},[i,R,w.isClosePausedRef,L]),Y.useEffect(()=>(S(),()=>I()),[S,I]);const D=Y.useMemo(()=>j?zt(j):null,[j]);return w.viewport?n.jsxs(n.Fragment,{children:[D&&n.jsx(kt,{__scopeToast:a,role:"status","aria-live":"foreground"===s?"assertive":"polite","aria-atomic":!0,children:D}),n.jsx(Rt,{scope:a,onClose:C,children:H.createPortal(n.jsx(ct.ItemSlot,{scope:a,children:n.jsx(h,{asChild:!0,onEscapeKeyDown:m(c,()=>{w.isFocusedToastEscapeKeyDownRef.current||C(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(l.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...y,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:m(e.onKeyDown,e=>{"Escape"===e.key&&(c?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:m(e.onPointerDown,e=>{0===e.button&&(_.current={x:e.clientX,y:e.clientY})}),onPointerMove:m(e.onPointerMove,e=>{if(!_.current)return;const t=e.clientX-_.current.x,a=e.clientY-_.current.y,s=Boolean(P.current),r=["left","right"].includes(w.swipeDirection),o=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,n=r?o(0,t):0,i=r?0:o(0,a),l="touch"===e.pointerType?10:2,d={x:n,y:i},c={originalEvent:e,delta:d};s?(P.current=d,qt("toast.swipeMove",x,c,{discrete:!1})):$t(d,w.swipeDirection,l)?(P.current=d,qt("toast.swipeStart",f,c,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(a)>l)&&(_.current=null)}),onPointerUp:m(e.onPointerUp,e=>{const t=P.current,a=e.target;if(a.hasPointerCapture(e.pointerId)&&a.releasePointerCapture(e.pointerId),P.current=null,_.current=null,t){const a=e.currentTarget,s={originalEvent:e,delta:t};$t(t,w.swipeDirection,w.swipeThreshold)?qt("toast.swipeEnd",b,s,{discrete:!0}):qt("toast.swipeCancel",v,s,{discrete:!0}),a.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),kt=e=>{const{__scopeToast:t,children:a,...s}=e,r=ft(_t,t),[o,i]=Y.useState(!1),[l,c]=Y.useState(!1);return function(e=()=>{}){const t=p(e);f(()=>{let e=0,a=0;return e=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(a)}},[t])}(()=>i(!0)),Y.useEffect(()=>{const e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),l?null:n.jsx(g,{asChild:!0,children:n.jsx(d,{...s,children:o&&n.jsxs(n.Fragment,{children:[r.label," ",a]})})})},St=Y.forwardRef((e,t)=>{const{__scopeToast:a,...s}=e;return n.jsx(l.div,{...s,ref:t})});St.displayName="ToastTitle";var It=Y.forwardRef((e,t)=>{const{__scopeToast:a,...s}=e;return n.jsx(l.div,{...s,ref:t})});It.displayName="ToastDescription";var Ct="ToastAction",Lt=Y.forwardRef((e,t)=>{const{altText:a,...s}=e;return a.trim()?n.jsx(Mt,{altText:a,asChild:!0,children:n.jsx(Ot,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ct}\`. Expected non-empty \`string\`.`),null)});Lt.displayName=Ct;var Dt="ToastClose",Ot=Y.forwardRef((e,t)=>{const{__scopeToast:a,...s}=e,r=Tt(Dt,a);return n.jsx(Mt,{asChild:!0,children:n.jsx(l.button,{type:"button",...s,ref:t,onClick:m(e.onClick,r.onClose)})})});Ot.displayName=Dt;var Mt=Y.forwardRef((e,t)=>{const{__scopeToast:a,altText:s,...r}=e;return n.jsx(l.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:t})});function zt(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const a=e.ariaHidden||e.hidden||"none"===e.style.display,s=""===e.dataset.radixToastAnnounceExclude;if(!a)if(s){const a=e.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...zt(e))}}),t}function qt(e,t,a,{discrete:s}){const r=a.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:a});t&&r.addEventListener(e,t,{once:!0}),s?x(r,o):r.dispatchEvent(o)}var $t=(e,t,a=0)=>{const s=Math.abs(e.x),r=Math.abs(e.y),o=s>r;return"left"===t||"right"===t?o&&s>a:!o&&r>a};function Vt(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function Bt(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var Ft=jt,Gt=Pt,Ut=St,Wt=It,Ht=Lt,Yt=Ot;const Kt=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Xt=re,Jt=(e,t)=>a=>{var s;if(null==(null==t?void 0:t.variants))return Xt(e,null==a?void 0:a.class,null==a?void 0:a.className);const{variants:r,defaultVariants:o}=t,n=Object.keys(r).map(e=>{const t=null==a?void 0:a[e],s=null==o?void 0:o[e];if(null===t)return null;const n=Kt(t)||Kt(s);return r[e][n]}),i=a&&Object.entries(a).reduce((e,t)=>{let[a,s]=t;return void 0===s||(e[a]=s),e},{}),l=null==t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:a,className:s,...r}=t;return Object.entries(r).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...o,...i}[t]):{...o,...i}[t]===a})?[...e,a,s]:e},[]);return Xt(e,n,l,null==a?void 0:a.class,null==a?void 0:a.className)};function Qt(...e){return oe(re(e))}function Zt(e){if(!e)return"bg-muted text-muted-foreground";switch(e.toLowerCase()){case"active":return"bg-success text-success-foreground";case"review":case"developing":return"bg-warning text-warning-foreground";case"expired":case"inactive":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}}const ea=xt,ta=Y.forwardRef(({className:e,...t},a)=>n.jsx(Ft,{ref:a,className:Qt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ta.displayName=Ft.displayName;const aa=Jt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sa=Y.forwardRef(({className:e,variant:t,...a},s)=>n.jsx(Gt,{ref:s,className:Qt(aa({variant:t}),e),...a}));sa.displayName=Gt.displayName;Y.forwardRef(({className:e,...t},a)=>n.jsx(Ht,{ref:a,className:Qt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=Ht.displayName;const ra=Y.forwardRef(({className:e,...t},a)=>n.jsx(Yt,{ref:a,className:Qt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ne,{className:"h-4 w-4"})}));ra.displayName=Yt.displayName;const oa=Y.forwardRef(({className:e,...t},a)=>n.jsx(Ut,{ref:a,className:Qt("text-sm font-semibold",e),...t}));oa.displayName=Ut.displayName;const na=Y.forwardRef(({className:e,...t},a)=>n.jsx(Wt,{ref:a,className:Qt("text-sm opacity-90",e),...t}));function ia(){const{toasts:e}=lt();return n.jsxs(ea,{children:[e.map(function({id:e,title:t,description:a,action:s,...r}){return n.jsxs(sa,{...r,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(oa,{children:t}),a&&n.jsx(na,{children:a})]}),s,n.jsx(ra,{})]},e)}),n.jsx(ta,{})]})}na.displayName=Wt.displayName;var la=["light","dark"],da=Y.createContext(void 0),ca={setTheme:e=>{},themes:[]};Y.memo(({forcedTheme:e,storageKey:t,attribute:a,enableSystem:s,enableColorScheme:r,defaultTheme:o,value:n,attrs:i,nonce:l})=>{let d="system"===o,c="class"===a?`var d=document.documentElement,c=d.classList;c.remove(${i.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${a}',s='setAttribute';`,u=r?la.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(e,t=!1,s=!0)=>{let o=n?n[e]:e,i=t?e+"|| ''":`'${o}'`,l="";return r&&s&&!t&&la.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===a?l+=t||o?`c.add(${i})`:"null":o&&(l+=`d[s](n,${i})`),l},m=e?`!function(){${c}${p(e)}}()`:s?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${n?`var x=${JSON.stringify(n)};`:""}${p(n?"x[e]":"e",!0)}}${d?"":"else{"+p(o,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${n?`var x=${JSON.stringify(n)};`:""}${p(n?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${u}}catch(t){}}();`;return Y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var ua=Array(12).fill(0),pa=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},ua.map((e,t)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),ma=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ha=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ga=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fa=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xa=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),va=1,ba=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:a,...s}=e,r="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:va++,o=this.toasts.find(e=>e.id===r),n=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),o?this.toasts=this.toasts.map(t=>t.id===r?(this.publish({...t,...e,id:r,title:a}),{...t,...e,id:r,dismissible:n,title:a}):t):this.addToast({title:a,...s,dismissible:n,id:r}),r},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let a;void 0!==t.loading&&(a=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let s,r=e instanceof Promise?e:e(),o=void 0!==a,n=r.then(async e=>{if(s=["resolve",e],K.isValidElement(e))o=!1,this.create({id:a,type:"default",message:e});else if(ya(e)&&!e.ok){o=!1;let s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,r="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:a,type:"error",message:s,description:r})}else if(void 0!==t.success){o=!1;let s="function"==typeof t.success?await t.success(e):t.success,r="function"==typeof t.description?await t.description(e):t.description;this.create({id:a,type:"success",message:s,description:r})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){o=!1;let s="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description;this.create({id:a,type:"error",message:s,description:r})}}).finally(()=>{var e;o&&(this.dismiss(a),a=void 0),null==(e=t.finally)||e.call(t)}),i=()=>new Promise((e,t)=>n.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof a&&"number"!=typeof a?{unwrap:i}:Object.assign(a,{unwrap:i})},this.custom=(e,t)=>{let a=(null==t?void 0:t.id)||va++;return this.create({jsx:e(a),id:a,...t}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ya=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,wa=(e,t)=>{let a=(null==t?void 0:t.id)||va++;return ba.addToast({title:e,...t,id:a}),a};function ja(e){return void 0!==e.label}Object.assign(wa,{success:ba.success,info:ba.info,warning:ba.warning,error:ba.error,custom:ba.custom,message:ba.message,promise:ba.promise,dismiss:ba.dismiss,loading:ba.loading},{getHistory:()=>ba.toasts,getToasts:()=>ba.getActiveToasts()}),function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===t&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Na=3,Ea=14;function _a(...e){return e.filter(Boolean).join(" ")}var Pa=e=>{var t,a,s,r,o,n,i,l,d,c,u;let{invert:p,toast:m,unstyled:h,interacting:g,setHeights:f,visibleToasts:x,heights:v,index:b,toasts:y,expanded:w,removeToast:j,defaultRichColors:N,closeButton:E,style:_,cancelButtonStyle:P,actionButtonStyle:R,className:T="",descriptionClassName:A="",duration:k,position:S,gap:I,loadingIcon:C,expandByDefault:L,classNames:D,icons:O,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:z}=e,[q,$]=K.useState(null),[V,B]=K.useState(null),[F,G]=K.useState(!1),[U,W]=K.useState(!1),[H,X]=K.useState(!1),[J,Q]=K.useState(!1),[Z,ee]=K.useState(!1),[te,ae]=K.useState(0),[se,re]=K.useState(0),oe=K.useRef(m.duration||k||4e3),ne=K.useRef(null),ie=K.useRef(null),le=0===b,de=b+1<=x,ce=m.type,ue=!1!==m.dismissible,pe=m.className||"",me=m.descriptionClassName||"",he=K.useMemo(()=>v.findIndex(e=>e.toastId===m.id)||0,[v,m.id]),ge=K.useMemo(()=>{var e;return null!=(e=m.closeButton)?e:E},[m.closeButton,E]),fe=K.useMemo(()=>m.duration||k||4e3,[m.duration,k]),xe=K.useRef(0),ve=K.useRef(0),be=K.useRef(0),ye=K.useRef(null),[we,je]=S.split("-"),Ne=K.useMemo(()=>v.reduce((e,t,a)=>a>=he?e:e+t.height,0),[v,he]),Ee=(()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),_e=m.invert||p,Pe="loading"===ce;ve.current=K.useMemo(()=>he*I+Ne,[he,Ne]),K.useEffect(()=>{oe.current=fe},[fe]),K.useEffect(()=>{G(!0)},[]),K.useEffect(()=>{let e=ie.current;if(e){let t=e.getBoundingClientRect().height;return re(t),f(e=>[{toastId:m.id,height:t,position:m.position},...e]),()=>f(e=>e.filter(e=>e.toastId!==m.id))}},[f,m.id]),K.useLayoutEffect(()=>{if(!F)return;let e=ie.current,t=e.style.height;e.style.height="auto";let a=e.getBoundingClientRect().height;e.style.height=t,re(a),f(e=>e.find(e=>e.toastId===m.id)?e.map(e=>e.toastId===m.id?{...e,height:a}:e):[{toastId:m.id,height:a,position:m.position},...e])},[F,m.title,m.description,f,m.id]);let Re=K.useCallback(()=>{W(!0),ae(ve.current),f(e=>e.filter(e=>e.toastId!==m.id)),setTimeout(()=>{j(m)},200)},[m,j,f,ve]);return K.useEffect(()=>{if(m.promise&&"loading"===ce||m.duration===1/0||"loading"===m.type)return;let e;return w||g||z&&Ee?(()=>{if(be.current<xe.current){let e=(new Date).getTime()-xe.current;oe.current=oe.current-e}be.current=(new Date).getTime()})():oe.current!==1/0&&(xe.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=m.onAutoClose)||e.call(m,m),Re()},oe.current)),()=>clearTimeout(e)},[w,g,m,ce,z,Ee,Re]),K.useEffect(()=>{m.delete&&Re()},[Re,m.delete]),K.createElement("li",{tabIndex:0,ref:ie,className:_a(T,pe,null==D?void 0:D.toast,null==(t=null==m?void 0:m.classNames)?void 0:t.toast,null==D?void 0:D.default,null==D?void 0:D[ce],null==(a=null==m?void 0:m.classNames)?void 0:a[ce]),"data-sonner-toast":"","data-rich-colors":null!=(s=m.richColors)?s:N,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":F,"data-promise":!!m.promise,"data-swiped":Z,"data-removed":U,"data-visible":de,"data-y-position":we,"data-x-position":je,"data-index":b,"data-front":le,"data-swiping":H,"data-dismissible":ue,"data-type":ce,"data-invert":_e,"data-swipe-out":J,"data-swipe-direction":V,"data-expanded":!!(w||L&&F),style:{"--index":b,"--toasts-before":b,"--z-index":y.length-b,"--offset":`${U?te:ve.current}px`,"--initial-height":L?"auto":`${se}px`,..._,...m.style},onDragEnd:()=>{X(!1),$(null),ye.current=null},onPointerDown:e=>{Pe||!ue||(ne.current=new Date,ae(ve.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(X(!0),ye.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,a,s;if(J||!ue)return;ye.current=null;let r=Number((null==(e=ie.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=ie.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),n=(new Date).getTime()-(null==(a=ne.current)?void 0:a.getTime()),i="x"===q?r:o,l=Math.abs(i)/n;if(Math.abs(i)>=20||l>.11)return ae(ve.current),null==(s=m.onDismiss)||s.call(m,m),B("x"===q?r>0?"right":"left":o>0?"down":"up"),Re(),Q(!0),void ee(!1);X(!1),$(null)},onPointerMove:t=>{var a,s,r,o;if(!ye.current||!ue||(null==(a=window.getSelection())?void 0:a.toString().length)>0)return;let n=t.clientY-ye.current.y,i=t.clientX-ye.current.x,l=null!=(s=e.swipeDirections)?s:function(e){let[t,a]=e.split("-"),s=[];return t&&s.push(t),a&&s.push(a),s}(S);!q&&(Math.abs(i)>1||Math.abs(n)>1)&&$(Math.abs(i)>Math.abs(n)?"x":"y");let d={x:0,y:0};"y"===q?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&n<0||l.includes("bottom")&&n>0)&&(d.y=n):"x"===q&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&i<0||l.includes("right")&&i>0)&&(d.x=i),(Math.abs(d.x)>0||Math.abs(d.y)>0)&&ee(!0),null==(r=ie.current)||r.style.setProperty("--swipe-amount-x",`${d.x}px`),null==(o=ie.current)||o.style.setProperty("--swipe-amount-y",`${d.y}px`)}},ge&&!m.jsx?K.createElement("button",{"aria-label":M,"data-disabled":Pe,"data-close-button":!0,onClick:Pe||!ue?()=>{}:()=>{var e;Re(),null==(e=m.onDismiss)||e.call(m,m)},className:_a(null==D?void 0:D.closeButton,null==(r=null==m?void 0:m.classNames)?void 0:r.closeButton)},null!=(o=null==O?void 0:O.close)?o:xa):null,m.jsx||Y.isValidElement(m.title)?m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title:K.createElement(K.Fragment,null,ce||m.icon||m.promise?K.createElement("div",{"data-icon":"",className:_a(null==D?void 0:D.icon,null==(n=null==m?void 0:m.classNames)?void 0:n.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||(null!=O&&O.loading?K.createElement("div",{className:_a(null==D?void 0:D.loader,null==(Te=null==m?void 0:m.classNames)?void 0:Te.loader,"sonner-loader"),"data-visible":"loading"===ce},O.loading):C?K.createElement("div",{className:_a(null==D?void 0:D.loader,null==(Ae=null==m?void 0:m.classNames)?void 0:Ae.loader,"sonner-loader"),"data-visible":"loading"===ce},C):K.createElement(pa,{className:_a(null==D?void 0:D.loader,null==(ke=null==m?void 0:m.classNames)?void 0:ke.loader),visible:"loading"===ce})):null,"loading"!==m.type?m.icon||(null==O?void 0:O[ce])||(e=>{switch(e){case"success":return ma;case"info":return ga;case"warning":return ha;case"error":return fa;default:return null}})(ce):null):null,K.createElement("div",{"data-content":"",className:_a(null==D?void 0:D.content,null==(i=null==m?void 0:m.classNames)?void 0:i.content)},K.createElement("div",{"data-title":"",className:_a(null==D?void 0:D.title,null==(l=null==m?void 0:m.classNames)?void 0:l.title)},"function"==typeof m.title?m.title():m.title),m.description?K.createElement("div",{"data-description":"",className:_a(A,me,null==D?void 0:D.description,null==(d=null==m?void 0:m.classNames)?void 0:d.description)},"function"==typeof m.description?m.description():m.description):null),Y.isValidElement(m.cancel)?m.cancel:m.cancel&&ja(m.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:e=>{var t,a;ja(m.cancel)&&ue&&(null==(a=(t=m.cancel).onClick)||a.call(t,e),Re())},className:_a(null==D?void 0:D.cancelButton,null==(c=null==m?void 0:m.classNames)?void 0:c.cancelButton)},m.cancel.label):null,Y.isValidElement(m.action)?m.action:m.action&&ja(m.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:e=>{var t,a;ja(m.action)&&(null==(a=(t=m.action).onClick)||a.call(t,e),!e.defaultPrevented&&Re())},className:_a(null==D?void 0:D.actionButton,null==(u=null==m?void 0:m.classNames)?void 0:u.actionButton)},m.action.label):null));var Te,Ae,ke};function Ra(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Ta(e,t){let a={};return[e,t].forEach((e,t)=>{let s=1===t,r=s?"--mobile-offset":"--offset",o=s?"16px":"32px";function n(e){["top","right","bottom","left"].forEach(t=>{a[`${r}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?n(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?a[`${r}-${t}`]=o:a[`${r}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):n(o)}),a}var Aa=Y.forwardRef(function(e,t){let{invert:a,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:o,closeButton:n,className:i,offset:l,mobileOffset:d,theme:c="light",richColors:u,duration:p,style:m,visibleToasts:h=Na,toastOptions:g,dir:f=Ra(),gap:x=Ea,loadingIcon:v,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w}=e,[j,N]=K.useState([]),E=K.useMemo(()=>Array.from(new Set([s].concat(j.filter(e=>e.position).map(e=>e.position)))),[j,s]),[_,P]=K.useState([]),[R,T]=K.useState(!1),[A,k]=K.useState(!1),[S,I]=K.useState("system"!==c?c:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=K.useRef(null),L=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=K.useRef(null),O=K.useRef(!1),M=K.useCallback(e=>{N(t=>{var a;return null!=(a=t.find(t=>t.id===e.id))&&a.delete||ba.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return K.useEffect(()=>ba.subscribe(e=>{e.dismiss?N(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{X.flushSync(()=>{N(t=>{let a=t.findIndex(t=>t.id===e.id);return-1!==a?[...t.slice(0,a),{...t[a],...e},...t.slice(a+1)]:[e,...t]})})})}),[]),K.useEffect(()=>{if("system"!==c)return void I(c);if("system"===c&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{I(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{I(e?"dark":"light")}catch(t){console.error(t)}})}},[c]),K.useEffect(()=>{j.length<=1&&T(!1)},[j]),K.useEffect(()=>{let e=e=>{var t,a;r.every(t=>e[t]||e.code===t)&&(T(!0),null==(t=C.current)||t.focus()),"Escape"===e.code&&(document.activeElement===C.current||null!=(a=C.current)&&a.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),K.useEffect(()=>{if(C.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,O.current=!1)}},[C.current]),K.createElement("section",{ref:t,"aria-label":`${y} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((t,s)=>{var r;let[c,y]=t.split("-");return j.length?K.createElement("ol",{key:t,dir:"auto"===f?Ra():f,tabIndex:-1,ref:C,className:i,"data-sonner-toaster":!0,"data-theme":S,"data-y-position":c,"data-lifted":R&&j.length>1&&!o,"data-x-position":y,style:{"--front-toast-height":`${(null==(r=_[0])?void 0:r.height)||0}px`,"--width":"356px","--gap":`${x}px`,...m,...Ta(l,d)},onBlur:e=>{O.current&&!e.currentTarget.contains(e.relatedTarget)&&(O.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||O.current||(O.current=!0,D.current=e.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{A||T(!1)},onDragEnd:()=>T(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||k(!0)},onPointerUp:()=>k(!1)},j.filter(e=>!e.position&&0===s||e.position===t).map((s,r)=>{var i,l;return K.createElement(Pa,{key:s.id,icons:b,index:r,toast:s,defaultRichColors:u,duration:null!=(i=null==g?void 0:g.duration)?i:p,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:a,visibleToasts:h,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:n,interacting:A,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,removeToast:M,toasts:j.filter(e=>e.position==s.position),heights:_.filter(e=>e.position==s.position),setHeights:P,expandByDefault:o,gap:x,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const ka=({...e})=>{const{theme:t="system"}=null!=(a=Y.useContext(da))?a:ca;var a;return n.jsx(Aa,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[Sa,Ia]=r("Tooltip",[v]),Ca=v(),La="TooltipProvider",Da=700,Oa="tooltip.open",[Ma,za]=Sa(La),qa=e=>{const{__scopeTooltip:t,delayDuration:a=Da,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:o}=e,i=Y.useRef(!0),l=Y.useRef(!1),d=Y.useRef(0);return Y.useEffect(()=>{const e=d.current;return()=>window.clearTimeout(e)},[]),n.jsx(Ma,{scope:t,isOpenDelayedRef:i,delayDuration:a,onOpen:Y.useCallback(()=>{window.clearTimeout(d.current),i.current=!1},[]),onClose:Y.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:Y.useCallback(e=>{l.current=e},[]),disableHoverableContent:r,children:o})};qa.displayName=La;var $a="Tooltip",[Va,Ba]=Sa($a),Fa=e=>{const{__scopeTooltip:t,children:a,open:s,defaultOpen:r,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,d=za($a,e.__scopeTooltip),u=Ca(t),[p,m]=Y.useState(null),h=E(),g=Y.useRef(0),f=i??d.disableHoverableContent,x=l??d.delayDuration,v=Y.useRef(!1),[b,y]=c({prop:s,defaultProp:r??!1,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(Oa))):d.onClose(),o?.(e)},caller:$a}),w=Y.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),j=Y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v.current=!1,y(!0)},[y]),N=Y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),P=Y.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{v.current=!0,y(!0),g.current=0},x)},[x,y]);return Y.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),n.jsx(_,{...u,children:n.jsx(Va,{scope:t,contentId:h,open:b,stateAttribute:w,trigger:p,onTriggerChange:m,onTriggerEnter:Y.useCallback(()=>{d.isOpenDelayedRef.current?P():j()},[d.isOpenDelayedRef,P,j]),onTriggerLeave:Y.useCallback(()=>{f?N():(window.clearTimeout(g.current),g.current=0)},[N,f]),onOpen:j,onClose:N,disableHoverableContent:f,children:a})})};Fa.displayName=$a;var Ga="TooltipTrigger",Ua=Y.forwardRef((e,t)=>{const{__scopeTooltip:a,...s}=e,r=Ba(Ga,a),i=za(Ga,a),d=Ca(a),c=Y.useRef(null),u=o(t,c,r.onTriggerChange),p=Y.useRef(!1),h=Y.useRef(!1),g=Y.useCallback(()=>p.current=!1,[]);return Y.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),n.jsx(b,{asChild:!0,...d,children:n.jsx(l.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:u,onPointerMove:m(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||i.isPointerInTransitRef.current||(r.onTriggerEnter(),h.current=!0))}),onPointerLeave:m(e.onPointerLeave,()=>{r.onTriggerLeave(),h.current=!1}),onPointerDown:m(e.onPointerDown,()=>{r.open&&r.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:m(e.onFocus,()=>{p.current||r.onOpen()}),onBlur:m(e.onBlur,r.onClose),onClick:m(e.onClick,r.onClose)})})});Ua.displayName=Ga;var[Wa,Ha]=Sa("TooltipPortal",{forceMount:void 0}),Ya="TooltipContent",Ka=Y.forwardRef((e,t)=>{const a=Ha(Ya,e.__scopeTooltip),{forceMount:s=a.forceMount,side:r="top",...o}=e,i=Ba(Ya,e.__scopeTooltip);return n.jsx(u,{present:s||i.open,children:i.disableHoverableContent?n.jsx(es,{side:r,...o,ref:t}):n.jsx(Xa,{side:r,...o,ref:t})})}),Xa=Y.forwardRef((e,t)=>{const a=Ba(Ya,e.__scopeTooltip),s=za(Ya,e.__scopeTooltip),r=Y.useRef(null),i=o(t,r),[l,d]=Y.useState(null),{trigger:c,onClose:u}=a,p=r.current,{onPointerInTransitChange:m}=s,h=Y.useCallback(()=>{d(null),m(!1)},[m]),g=Y.useCallback((e,t)=>{const a=e.currentTarget,s={x:e.clientX,y:e.clientY},r=function(e,t,a=5){const s=[];switch(t){case"top":s.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":s.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":s.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":s.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return s}(s,function(e,t){const a=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(a,s,r,o)){case o:return"left";case r:return"right";case a:return"top";case s:return"bottom";default:throw new Error("unreachable")}}(s,a.getBoundingClientRect())),o=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const e=t[t.length-1],s=t[t.length-2];if(!((e.x-s.x)*(a.y-s.y)>=(e.y-s.y)*(a.x-s.x)))break;t.pop()}t.push(a)}t.pop();const a=[];for(let s=e.length-1;s>=0;s--){const t=e[s];for(;a.length>=2;){const e=a[a.length-1],s=a[a.length-2];if(!((e.x-s.x)*(t.y-s.y)>=(e.y-s.y)*(t.x-s.x)))break;a.pop()}a.push(t)}return a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}(t)}([...r,...function(e){const{top:t,right:a,bottom:s,left:r}=e;return[{x:r,y:t},{x:a,y:t},{x:a,y:s},{x:r,y:s}]}(t.getBoundingClientRect())]);d(o),m(!0)},[m]);return Y.useEffect(()=>()=>h(),[h]),Y.useEffect(()=>{if(c&&p){const e=e=>g(e,p),t=e=>g(e,c);return c.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[c,p,g,h]),Y.useEffect(()=>{if(l){const e=e=>{const t=e.target,a={x:e.clientX,y:e.clientY},s=c?.contains(t)||p?.contains(t),r=!function(e,t){const{x:a,y:s}=e;let r=!1;for(let o=0,n=t.length-1;o<t.length;n=o++){const e=t[o],i=t[n],l=e.x,d=e.y,c=i.x,u=i.y;d>s!=u>s&&a<(c-l)*(s-d)/(u-d)+l&&(r=!r)}return r}(a,l);s?h():r&&(h(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,p,l,u,h]),n.jsx(es,{...e,ref:i})}),[Ja,Qa]=Sa($a,{isInside:!1}),Za=P("TooltipContent"),es=Y.forwardRef((e,t)=>{const{__scopeTooltip:a,children:s,"aria-label":r,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,d=Ba(Ya,a),c=Ca(a),{onClose:u}=d;return Y.useEffect(()=>(document.addEventListener(Oa,u),()=>document.removeEventListener(Oa,u)),[u]),Y.useEffect(()=>{if(d.trigger){const e=e=>{const t=e.target;t?.contains(d.trigger)&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,u]),n.jsx(y,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:n.jsxs(w,{"data-state":d.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(Za,{children:s}),n.jsx(Ja,{scope:a,isInside:!0,children:n.jsx(j,{id:d.contentId,role:"tooltip",children:r||s})})]})})});Ka.displayName=Ya;var ts="TooltipArrow";Y.forwardRef((e,t)=>{const{__scopeTooltip:a,...s}=e,r=Ca(a);return Qa(ts,a).isInside?null:n.jsx(N,{...r,...s,ref:t})}).displayName=ts;var as=Ka;const ss=qa,rs=Fa,os=Ua,ns=Y.forwardRef(({className:e,sideOffset:t=4,...a},s)=>n.jsx(as,{ref:s,sideOffset:t,className:Qt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));ns.displayName=as.displayName;const is=Y.createContext({user:null,loading:!0,profile:null,signOut:async()=>{},refreshUser:async()=>{},isAuthenticated:!1}),ls=()=>{const e=Y.useContext(is);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ds=({children:e})=>{const[t,a]=Y.useState(null),[s,r]=Y.useState(!0),[o,i]=Y.useState(null);Y.useEffect(()=>{(async()=>{try{const e=window.location.pathname;if(["/parent/pricing","/advocate/pricing"].some(t=>e.includes(t)))return a(null),i(null),void r(!1);const t=()=>{["authToken","user","profile","lastAuthCheck"].forEach(e=>{localStorage.getItem(e)&&(console.log(`🧹 Cleared potentially contaminated localStorage key: ${e}`),localStorage.removeItem(e))}),window.sessionStorage&&(console.log("🧹 Clearing sessionStorage to prevent session contamination"),window.sessionStorage.clear())};let s=localStorage.getItem("authToken");if(s){const e=s.split("-");e.length<3||e[0].length<8?(console.log("⚠️ useAuth: Invalid token format detected - clearing localStorage"),t(),s=null):console.log("✅ useAuth: Found token format in localStorage:",`${s.substring(0,20)}...`)}if(!s)return console.log("❌ useAuth: No auth token found - user not authenticated"),a(null),i(null),void r(!1);const o=await fetch("/api/auth/user",{credentials:"include",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(o.ok){const e=await o.json();if(console.log("🔍 useAuth - Received user data:",e),console.log("🔍 useAuth - subscriptionPlan from server:",e.subscriptionPlan),s&&e.id){const o=s.split("-")[0],n=e.id;if(o!==n)return console.error("🚨 SECURITY ALERT: Token user ID mismatch!"),console.error(`🚨 Token belongs to: ${o}, but received data for: ${n}`),console.error("🚨 This indicates potential authentication bypass - clearing all auth data"),t(),a(null),i(null),r(!1),void window.location.replace("/m/auth");console.log("✅ Token ownership validated - user ID matches")}if(a(e),i(e),!e||e.role||e.subscriptionStatus||e.subscriptionPlan){if(e&&e.role){const t=window.location.pathname,a=["free","basic","plus","explorer","premium","hero"];let s;if("parent"===e.role){const t=e.subscriptionPlan?.toLowerCase().replace(/\s+/g,"")||"free";s=`/parent/dashboard-${a.includes(t)?t:"free"}`}else if("advocate"===e.role){const t={starter:"starter",pro:"pro",agency:"agency","agency plus":"agency-plus",agencyplus:"agency-plus"},a=e.subscriptionPlan?.toLowerCase()||"starter";s=`/advocate/dashboard-${t[a]||"starter"}`}else s="/";if("/auth"===t||"/onboarding"===t||"/"===t)window.location.replace(s);else if("parent"===e.role){const e="/parent/dashboard"===t,a=t.startsWith("/parent/dashboard-")&&t!==s;(e||a)&&window.location.replace(s)}else if("advocate"===e.role){const e=t.startsWith("/parent/dashboard"),a=t.startsWith("/advocate/dashboard-")&&t!==s;(e||a)&&window.location.replace(s)}}}else{const e=window.location.pathname;e.includes("/onboarding")||e.includes("/subscribe")||window.location.replace("/onboarding")}}else if(401===o.status){console.log("🚫 Authentication failed - clearing expired token"),localStorage.removeItem("authToken"),a(null),i(null);const e=window.location.pathname;!["/parent/pricing","/advocate/pricing","/","/auth","/login"].some(t=>e===t||e.includes(t))&&(console.log("🔄 Redirecting to login due to expired authentication"),window.location.replace("/m/auth"))}else a(null),i(null)}catch(e){a(null),i(null)}finally{r(!1)}})()},[]);const l={user:t,loading:s,profile:o,signOut:async()=>{try{localStorage.removeItem("authToken"),a(null),i(null),fetch("/api/logout",{credentials:"include"}).catch(()=>{})}catch(e){console.error("Sign out failed:",e)}},refreshUser:async()=>{try{if(!localStorage.getItem("authToken"))return;const e=await fetch("/api/auth/user",{credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();a(t),i(t)}}catch(e){console.error("Failed to refresh user:",e)}},isAuthenticated:!!t};return n.jsx(is.Provider,{value:l,children:e})},cs=Y.createContext(void 0);function us({children:e}){const[t,a]=Y.useState(()=>{const e=localStorage.getItem("theme");return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});Y.useEffect(()=>{const e=document.documentElement;"dark"===t?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);return n.jsx(cs.Provider,{value:{theme:t,toggleTheme:()=>{a(e=>"light"===e?"dark":"light")}},children:e})}function ps(){const e=Y.useContext(cs);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const ms="miephero_active_role";let hs=null;function gs(){if(hs)return hs;const e=localStorage.getItem(ms);var t;return e&&("parent"===(t=e)||"advocate"===t)&&(hs=e),hs}function fs(e){hs=e,localStorage.setItem(ms,e)}function xs({children:e,allowedRoles:t,redirectTo:a="/auth",requiredPlan:s,allowedPlans:r}){const{user:o,profile:i,loading:l}=ls(),d=J();console.log("🛡️ ProtectedRoute check:",{path:d.pathname,loading:l,hasUser:!!o,userEmail:o?.email,userRole:o?.role});const c=gs(),u=1===t.length?t[0]:null,p=o?.role||i?.role||c||"parent";if(Y.useEffect(()=>{u&&u!==c&&fs(u)},[u,c]),l)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!o)return console.log("🚨 ProtectedRoute: No user found, redirecting to:",a),n.jsx(Q,{to:a,state:{from:d},replace:!0});if(!t.includes(p)){const e=o.subscriptionPlan?.toLowerCase().replace(/\s+/g,"")||"free",t={starter:"starter",pro:"pro",agency:"agency",agencyplus:"agency-plus","agency-annual":"agency","pro-annual":"pro","starter-annual":"starter"}[e]||e,a="advocate"===p?`/advocate/dashboard-${t}`:`/parent/dashboard-${t}`;return n.jsx(Q,{to:a,replace:!0})}if(s||r){const e=o.subscriptionPlan?.toLowerCase().replace(/\s+/g,"")||"free",t={starter:"starter",pro:"pro",agency:"agency",agencyplus:"agency-plus","agency-annual":"agency","pro-annual":"pro","starter-annual":"starter"}[e]||e;if(s&&t!==s){const e="parent"===o.role?`/parent/dashboard-${t}`:`/advocate/dashboard-${t}`;return n.jsx(Q,{to:e,replace:!0})}if(r&&!r.includes(t)){const e="parent"===o.role?`/parent/dashboard-${t}`:`/advocate/dashboard-${t}`;return n.jsx(Q,{to:e,replace:!0})}}return e}function vs({parentRoute:e,advocateRoute:t}){const{user:a,profile:s,loading:r}=ls(),o=a?.role||s?.role||gs()||"parent";if(Y.useEffect(()=>{o!==gs()&&fs(o)},[o]),r)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const i="advocate"===o?t:e;return n.jsx(Q,{to:i,replace:!0})}
/*! Capacitor: https://capacitorjs.com/ - MIT License */var bs,ys;(ys=bs||(bs={})).Unimplemented="UNIMPLEMENTED",ys.Unavailable="UNAVAILABLE";class ws extends Error{constructor(e,t,a){super(e),this.message=e,this.code=t,this.data=a}}const js=e=>{const t=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},s=a.Plugins=a.Plugins||{},r=()=>null!==t?t.name:(e=>{var t,a;return(null==e?void 0:e.androidBridge)?"android":(null===(a=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===a?void 0:a.bridge)?"ios":"web"})(e),o=e=>{var t;return null===(t=a.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},n=new Map;return a.convertFileSrc||(a.convertFileSrc=e=>e),a.getPlatform=r,a.handleError=t=>e.console.error(t),a.isNativePlatform=()=>"web"!==r(),a.isPluginAvailable=e=>{const t=n.get(e);return!!(null==t?void 0:t.platforms.has(r()))||!!o(e)},a.registerPlugin=(e,i={})=>{const l=n.get(e);if(l)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),l.proxy;const d=r(),c=o(e);let u;const p=s=>{let r;const o=(...o)=>{const n=(async()=>(!u&&d in i?u=u="function"==typeof i[d]?await i[d]():i[d]:null!==t&&!u&&"web"in i&&(u=u="function"==typeof i.web?await i.web():i.web),u))().then(t=>{const n=((t,s)=>{var r,o;if(!c){if(t)return null===(o=t[s])||void 0===o?void 0:o.bind(t);throw new ws(`"${e}" plugin is not implemented on ${d}`,bs.Unimplemented)}{const o=null==c?void 0:c.methods.find(e=>s===e.name);if(o)return"promise"===o.rtype?t=>a.nativePromise(e,s.toString(),t):(t,r)=>a.nativeCallback(e,s.toString(),t,r);if(t)return null===(r=t[s])||void 0===r?void 0:r.bind(t)}})(t,s);if(n){const e=n(...o);return r=null==e?void 0:e.remove,e}throw new ws(`"${e}.${s}()" is not implemented on ${d}`,bs.Unimplemented)});return"addListener"===s&&(n.remove=async()=>r()),n};return o.toString=()=>`${s.toString()}() { [capacitor code] }`,Object.defineProperty(o,"name",{value:s,writable:!1,configurable:!1}),o},m=p("addListener"),h=p("removeListener"),g=(e,t)=>{const a=m({eventName:e},t),s=async()=>{const s=await a;h({eventName:e,callbackId:s},t)},r=new Promise(e=>a.then(()=>e({remove:s})));return r.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()},r},f=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return c?g:m;case"removeListener":return h;default:return p(t)}}});return s[e]=f,n.set(e,{name:e,proxy:f,platforms:new Set([...Object.keys(i),...c?[d]:[]])}),f},a.Exception=ws,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},Ns=(e=>e.Capacitor=js(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),Es=Ns.registerPlugin;class _s{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(t);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),a&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,a){const s=this.listeners[e];if(s)s.forEach(e=>e(t));else if(a){let a=this.retainedEventArguments[e];a||(a=[]),a.push(t),this.retainedEventArguments[e]=a}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new Ns.Exception(e,bs.Unimplemented)}unavailable(e="not available"){return new Ns.Exception(e,bs.Unavailable)}async removeListener(e,t){const a=this.listeners[e];if(!a)return;const s=a.indexOf(t);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const Ps=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Rs=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ts extends _s{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[a,s]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Rs(a).trim(),s=Rs(s).trim(),t[a]=s}),t}async setCookie(e){try{const t=Ps(e.key),a=Ps(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${a||""}${s}; path=${r}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Es("CapacitorCookies",{web:()=>new Ts});const As=(e,t={})=>{const a=Object.assign({method:e.method||"GET",headers:e.headers},t),s=((e={})=>{const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((a,s,r)=>(a[s]=e[t[r]],a),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)a.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[a,s]of Object.entries(e.data||{}))t.set(a,s);a.body=t.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,a)=>{t.append(a,e)});else for(const a of Object.keys(e.data))t.append(a,e.data[a]);a.body=t;const s=new Headers(a.headers);s.delete("content-type"),a.headers=s}else(s.includes("application/json")||"object"==typeof e.data)&&(a.body=JSON.stringify(e.data));return a};class ks extends _s{async request(e){const t=As(e,e.webFetchExtra),a=((e,t=!0)=>e?Object.entries(e).reduce((e,a)=>{const[s,r]=a;let o,n;return Array.isArray(r)?(n="",r.forEach(e=>{o=t?encodeURIComponent(e):e,n+=`${s}=${o}&`}),n.slice(0,-1)):(o=t?encodeURIComponent(r):r,n=`${s}=${o}`),`${e}&${n}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),s=a?`${e.url}?${a}`:e.url,r=await fetch(s,t),o=r.headers.get("content-type")||"";let n,i,{responseType:l="text"}=r.ok?e:{};switch(o.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":i=await r.blob(),n=await(async e=>new Promise((t,a)=>{const s=new FileReader;s.onload=()=>{const e=s.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},s.onerror=e=>a(e),s.readAsDataURL(e)}))(i);break;case"json":n=await r.json();break;default:n=await r.text()}const d={};return r.headers.forEach((e,t)=>{d[t]=e}),{data:n,headers:d,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Es("CapacitorHttp",{web:()=>new ks});const Ss=Es("PushNotifications",{}),Is=()=>{const[e,t]=Y.useState({granted:!1,denied:!1,prompt:!0}),[a,s]=Y.useState(!1),[r,o]=Y.useState(null),{toast:n}=lt(),{user:i}=ls(),l=Ns.isNativePlatform();Y.useEffect(()=>{if(!l)return;(async()=>{try{const e=await Ss.checkPermissions();t({granted:"granted"===e.receive,denied:"denied"===e.receive,prompt:"prompt"===e.receive}),"granted"===e.receive&&await c()}catch(e){console.error("Error initializing push notifications:",e)}})()},[l]),Y.useEffect(()=>{if(!l)return;const e=Ss.addListener("registration",e=>{console.log("Push registration success, token: "+e.value),o(e.value),s(!0),p(e.value)}),t=Ss.addListener("registrationError",e=>{console.error("Registration error: ",e.error),n({title:"Notification Setup Error",description:"Failed to register for push notifications. Please try again.",variant:"destructive"})}),a=Ss.addListener("pushNotificationReceived",e=>{console.log("Push notification received: ",e),n({title:e.title||"New Notification",description:e.body||"You have received a new notification."})}),r=Ss.addListener("pushNotificationActionPerformed",e=>{console.log("Push notification action performed",e.actionId,e.inputValue);const t=e.notification.data;t?.route&&window.location.replace(t.route)});return()=>{e.then(e=>e.remove()),t.then(e=>e.remove()),a.then(e=>e.remove()),r.then(e=>e.remove())}},[l,n]);const d=Y.useCallback(async()=>{if(!l)return console.log("Push notifications not supported on this platform"),!1;try{const e=await Ss.requestPermissions(),a="granted"===e.receive;return t({granted:a,denied:"denied"===e.receive,prompt:"prompt"===e.receive}),a?(n({title:"Notifications Enabled",description:"You will now receive important updates and reminders."}),await c()):n({title:"Notifications Disabled",description:"You can enable notifications later in your device settings.",variant:"destructive"}),a}catch(e){return console.error("Error requesting permission:",e),n({title:"Permission Error",description:"Failed to request notification permission. Please try again.",variant:"destructive"}),!1}},[l,n]),c=Y.useCallback(async()=>{if(l)try{await Ss.register()}catch(e){throw console.error("Error registering for notifications:",e),e}},[l]),u=Y.useCallback(async()=>{if(l)try{await Ss.removeAllListeners(),s(!1),o(null),i&&await p(""),n({title:"Notifications Disabled",description:"You have been unregistered from push notifications."})}catch(e){console.error("Error unregistering from notifications:",e),n({title:"Error",description:"Failed to disable notifications. Please try again.",variant:"destructive"})}},[l,i,n]),p=Y.useCallback(async e=>{if(i)try{const t=localStorage.getItem("authToken");if(!(await fetch("/api/auth/update-push-token",{method:"PUT",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}},credentials:"include",body:JSON.stringify({pushNotificationToken:e,platform:Ns.getPlatform()})})).ok)throw new Error("Failed to update push notification token");console.log("Push notification token updated successfully")}catch(t){console.error("Error sending token to server:",t)}},[i]);return{isSupported:l,permissionState:e,isRegistered:a,token:r,requestPermission:d,registerForNotifications:c,unregisterFromNotifications:u,sendTokenToServer:p}};function Cs(){const{user:e,isAuthenticated:t}=ls();lt();const{isSupported:a,permissionState:s,isRegistered:r,requestPermission:o}=Is();return Y.useEffect(()=>{(async()=>{if(t&&e&&a&&!s.granted&&!s.denied&&s.prompt){const e=setTimeout(async()=>{try{console.log("Auto-requesting push notification permissions for authenticated user"),await o()}catch(e){console.error("Error auto-requesting push notification permission:",e)}},2e3)}})()},[t,e,a,s,o]),Y.useEffect(()=>{a&&t&&console.log("Push notification status:",{granted:s.granted,denied:s.denied,prompt:s.prompt,registered:r,platform:"mobile"})},[s,r,a,t]),null}const Ls=Jt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-glow shadow-md hover:shadow-lg",hero:"bg-gradient-hero text-primary-foreground hover:shadow-glow transform hover:scale-105 font-semibold",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-sm hover:shadow-md",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",outline:"border-2 border-primary bg-background text-primary hover:bg-primary hover:text-primary-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",sidebar:"justify-start bg-transparent text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground rounded-md"},size:{default:"h-11 px-4 py-2",sm:"h-11 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-lg px-10 text-lg",icon:"h-11 w-11","icon-sm":"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),Ds=Y.forwardRef(({className:e,variant:t,size:a,asChild:s=!1,...r},o)=>{const i=s?R:"button";return n.jsx(i,{className:Qt(Ls({variant:t,size:a,className:e})),ref:o,...r})});Ds.displayName="Button";const Os=Y.forwardRef(({className:e,type:t,...a},s)=>n.jsx("input",{type:t,className:Qt("flex h-11 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));Os.displayName="Input";var Ms="horizontal",zs=["horizontal","vertical"],qs=Y.forwardRef((e,t)=>{const{decorative:a,orientation:s=Ms,...r}=e,o=function(e){return zs.includes(e)}(s)?s:Ms,i=a?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return n.jsx(l.div,{"data-orientation":o,...i,...r,ref:t})});qs.displayName="Separator";var $s=qs;const Vs=Y.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...s},r)=>n.jsx($s,{ref:r,decorative:a,orientation:t,className:Qt("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Vs.displayName=$s.displayName;const Bs=C,Fs=L,Gs=Y.forwardRef(({className:e,...t},a)=>n.jsx(T,{className:Qt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));Gs.displayName=T.displayName;const Us=Jt("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ws=Y.forwardRef(({side:e="right",className:t,children:a,...s},r)=>n.jsxs(Fs,{children:[n.jsx(Gs,{}),n.jsxs(A,{ref:r,className:Qt(Us({side:e}),t),...s,children:[a,n.jsxs(k,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(ne,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ws.displayName=A.displayName;Y.forwardRef(({className:e,...t},a)=>n.jsx(S,{ref:a,className:Qt("text-lg font-semibold text-foreground",e),...t})).displayName=S.displayName;function Hs({className:e,...t}){return n.jsx("div",{className:Qt("animate-pulse rounded-md bg-muted",e),...t})}Y.forwardRef(({className:e,...t},a)=>n.jsx(I,{ref:a,className:Qt("text-sm text-muted-foreground",e),...t})).displayName=I.displayName;const Ys=Y.createContext(null);function Ks(){const e=Y.useContext(Ys);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Xs=Y.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:a,className:s,style:r,children:o,...i},l)=>{const d=function(){const[e,t]=Y.useState(null);return Y.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),a=e=>{t(e.matches)};return t(e.matches),e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[]),e??!1}(),[c,u]=Y.useState(!1),[p,m]=Y.useState(e),h=t??p,g=Y.useCallback(e=>{const t="function"==typeof e?e(h):e;a?a(t):m(t),document.cookie=`sidebar:state=${t}; path=/; max-age=604800`},[a,h]),f=Y.useCallback(()=>{d?u(e=>!e):g(e=>!e)},[d,g,u]);Y.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),f())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f]);const x=h?"expanded":"collapsed",v=Y.useMemo(()=>({state:x,open:h,setOpen:g,isMobile:d,openMobile:c,setOpenMobile:u,toggleSidebar:f}),[x,h,g,d,c,u,f]);return n.jsx(Ys.Provider,{value:v,children:n.jsx(ss,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...r},className:Qt("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:l,...i,children:o})})})});Xs.displayName="SidebarProvider";const Js=Y.forwardRef(({side:e="left",variant:t="sidebar",collapsible:a="offcanvas",className:s,children:r,...o},i)=>{const{isMobile:l,state:d,openMobile:c,setOpenMobile:u}=Ks();return"none"===a?n.jsx("div",{className:Qt("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:i,...o,children:r}):l?n.jsx(Bs,{open:c,onOpenChange:u,...o,children:n.jsx(Ws,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden safe-area-inset",style:{"--sidebar-width":"18rem",maxWidth:"calc(100vw - 2rem)",touchAction:"manipulation"},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col overflow-hidden",children:r})})}):n.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":"collapsed"===d?a:"","data-variant":t,"data-side":e,children:[n.jsx("div",{className:Qt("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===t||"inset"===t?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:Qt("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===e?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===t||"inset"===t?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...o,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});Js.displayName="Sidebar";const Qs=Y.forwardRef(({className:e,onClick:t,...a},s)=>{const{toggleSidebar:r}=Ks();return n.jsxs(Ds,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Qt("min-h-[44px] min-w-[44px] h-11 w-11 active:scale-95 transition-transform duration-150",e),onClick:e=>{t?.(e),r()},"aria-label":"Toggle navigation sidebar",...a,children:[n.jsx(ie,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Qs.displayName="SidebarTrigger";Y.forwardRef(({className:e,...t},a)=>{const{toggleSidebar:s}=Ks();return n.jsx("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:Qt("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}).displayName="SidebarRail";Y.forwardRef(({className:e,...t},a)=>n.jsx("main",{ref:a,className:Qt("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t})).displayName="SidebarInset";Y.forwardRef(({className:e,...t},a)=>n.jsx(Os,{ref:a,"data-sidebar":"input",className:Qt("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t})).displayName="SidebarInput";Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,"data-sidebar":"header",className:Qt("flex flex-col gap-2 p-2",e),...t})).displayName="SidebarHeader";Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,"data-sidebar":"footer",className:Qt("flex flex-col gap-2 p-2",e),...t})).displayName="SidebarFooter";Y.forwardRef(({className:e,...t},a)=>n.jsx(Vs,{ref:a,"data-sidebar":"separator",className:Qt("mx-2 w-auto bg-sidebar-border",e),...t})).displayName="SidebarSeparator";const Zs=Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,"data-sidebar":"content",className:Qt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Zs.displayName="SidebarContent";Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,"data-sidebar":"group",className:Qt("relative flex w-full min-w-0 flex-col p-2",e),...t})).displayName="SidebarGroup";Y.forwardRef(({className:e,asChild:t=!1,...a},s)=>{const r=t?R:"div";return n.jsx(r,{ref:s,"data-sidebar":"group-label",className:Qt("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...a})}).displayName="SidebarGroupLabel";Y.forwardRef(({className:e,asChild:t=!1,...a},s)=>{const r=t?R:"button";return n.jsx(r,{ref:s,"data-sidebar":"group-action",className:Qt("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden","active:bg-sidebar-accent/80 transition-colors duration-150",e),...a})}).displayName="SidebarGroupAction";Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,"data-sidebar":"group-content",className:Qt("w-full text-sm",e),...t})).displayName="SidebarGroupContent";Y.forwardRef(({className:e,...t},a)=>n.jsx("ul",{ref:a,"data-sidebar":"menu",className:Qt("flex w-full min-w-0 flex-col gap-1",e),...t})).displayName="SidebarMenu";Y.forwardRef(({className:e,...t},a)=>n.jsx("li",{ref:a,"data-sidebar":"menu-item",className:Qt("group/menu-item relative",e),...t})).displayName="SidebarMenuItem";const er=Jt("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}});Y.forwardRef(({asChild:e=!1,isActive:t=!1,variant:a="default",size:s="default",tooltip:r,className:o,...i},l)=>{const d=e?R:"button",{isMobile:c,state:u}=Ks(),p=n.jsx(d,{ref:l,"data-sidebar":"menu-button","data-size":s,"data-active":t,className:Qt(er({variant:a,size:s}),o),...i});return r?("string"==typeof r&&(r={children:r}),n.jsxs(rs,{children:[n.jsx(os,{asChild:!0,children:p}),n.jsx(ns,{side:"right",align:"center",hidden:"collapsed"!==u||c,...r})]})):p}).displayName="SidebarMenuButton";Y.forwardRef(({className:e,asChild:t=!1,showOnHover:a=!1,...s},r)=>{const o=t?R:"button";return n.jsx(o,{ref:r,"data-sidebar":"menu-action",className:Qt("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","active:bg-sidebar-accent/80 transition-colors duration-150","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})}).displayName="SidebarMenuAction";Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,"data-sidebar":"menu-badge",className:Qt("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t})).displayName="SidebarMenuBadge";Y.forwardRef(({className:e,showIcon:t=!1,...a},s)=>{const r=Y.useMemo(()=>`${Math.floor(40*Math.random())+50}%`,[]);return n.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:Qt("rounded-md h-8 flex gap-2 px-2 items-center",e),...a,children:[t&&n.jsx(Hs,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(Hs,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})}).displayName="SidebarMenuSkeleton";Y.forwardRef(({className:e,...t},a)=>n.jsx("ul",{ref:a,"data-sidebar":"menu-sub",className:Qt("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t})).displayName="SidebarMenuSub";Y.forwardRef(({...e},t)=>n.jsx("li",{ref:t,...e})).displayName="SidebarMenuSubItem";Y.forwardRef(({asChild:e=!1,size:t="md",isActive:a,className:s,...r},o)=>{const i=e?R:"a";return n.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":a,className:Qt("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===t&&"text-xs","md"===t&&"text-sm","group-data-[collapsible=icon]:hidden",s),...r})}).displayName="SidebarMenuSubButton";const tr="/assets/iep-hero-icon-DLy48_6q.png",ar=void 0!==import.meta&&!1;function sr(e,...t){ar&&console.log(e,...t)}const rr={free:{goalManagement:!1,meetingScheduler:!1,aiInsights:!1,progressAnalytics:!1,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!1,unifiedIEPReview:!1,askAIAboutDocs:!1,expertAnalysis:!1,aiIEPReview:!1,smartLetterGenerator:!0,documentVault:!1,parentMessages:!1,communicationTracker:!1,progressNotes:!1,meetingPrepWizard:!1,meetingPrepAssistant:!1,parentMeetingPrep:!1,timelineCalculator:!0,accommodationBuilder:!1,autismAccommodationBuilder:!1,giftedTwoeSupport:!1,plan504Builder:!1,goalGenerator:!1,otActivityRecommender:!1,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!1,emotionTracker:!1,parentEmotionTracker:!1,heroPlan:!1,advocateMatchingTool:!1,expertSupport:!1,clientManagement:!1,caseAnalytics:!1,caseMatching:!1,billingTools:!1,scheduleManagement:!1,teamCollaboration:!1,professionalAnalysis:!1,advocateMessaging:!1,advocacyReports:!1,caseManagement:!1,professionalPlanning:!1,professionalResources:!1,businessManagement:!1,specializedProfessionalTools:!1,storageLimit:"Community access only",supportLevel:"Community forum",prioritySupport:!1,maxChildren:1,maxDocuments:1,aiAnalysisLimit:0,letterGenerationLimit:1},essential:{goalManagement:!0,meetingScheduler:!0,aiInsights:!0,progressAnalytics:!0,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!0,unifiedIEPReview:!0,askAIAboutDocs:!0,expertAnalysis:!1,aiIEPReview:!0,smartLetterGenerator:!0,documentVault:!0,parentMessages:!0,communicationTracker:!0,progressNotes:!0,meetingPrepWizard:!0,meetingPrepAssistant:!0,parentMeetingPrep:!0,timelineCalculator:!0,accommodationBuilder:!0,autismAccommodationBuilder:!1,giftedTwoeSupport:!1,plan504Builder:!0,goalGenerator:!0,otActivityRecommender:!1,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!0,emotionTracker:!0,parentEmotionTracker:!0,heroPlan:!1,advocateMatchingTool:!1,expertSupport:!1,clientManagement:!1,caseAnalytics:!1,caseMatching:!1,billingTools:!1,scheduleManagement:!1,teamCollaboration:!1,professionalAnalysis:!1,advocateMessaging:!1,advocacyReports:!1,caseManagement:!1,professionalPlanning:!1,professionalResources:!1,businessManagement:!1,specializedProfessionalTools:!1,storageLimit:"10GB",supportLevel:"Priority email support",prioritySupport:!0,maxChildren:1,maxDocuments:5,aiAnalysisLimit:5,letterGenerationLimit:5},premium:{goalManagement:!0,meetingScheduler:!0,aiInsights:!0,progressAnalytics:!0,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!0,unifiedIEPReview:!0,askAIAboutDocs:!0,expertAnalysis:!0,aiIEPReview:!0,smartLetterGenerator:!0,documentVault:!0,parentMessages:!0,communicationTracker:!0,progressNotes:!0,meetingPrepWizard:!0,meetingPrepAssistant:!0,parentMeetingPrep:!0,timelineCalculator:!0,accommodationBuilder:!0,autismAccommodationBuilder:!0,giftedTwoeSupport:!0,plan504Builder:!0,goalGenerator:!0,otActivityRecommender:!0,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!0,emotionTracker:!0,parentEmotionTracker:!0,heroPlan:!1,advocateMatchingTool:!0,expertSupport:!0,clientManagement:!1,caseAnalytics:!1,caseMatching:!1,billingTools:!1,scheduleManagement:!1,teamCollaboration:!1,professionalAnalysis:!1,advocateMessaging:!1,advocacyReports:!1,caseManagement:!1,professionalPlanning:!1,professionalResources:!1,businessManagement:!1,specializedProfessionalTools:!1,storageLimit:"25GB",supportLevel:"Phone & email support",prioritySupport:!0,maxChildren:3,maxDocuments:20,aiAnalysisLimit:20,letterGenerationLimit:20},hero:{goalManagement:!0,meetingScheduler:!0,aiInsights:!0,progressAnalytics:!0,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!0,unifiedIEPReview:!0,askAIAboutDocs:!0,expertAnalysis:!0,aiIEPReview:!0,smartLetterGenerator:!0,documentVault:!0,parentMessages:!0,communicationTracker:!0,progressNotes:!0,meetingPrepWizard:!0,meetingPrepAssistant:!0,parentMeetingPrep:!0,timelineCalculator:!0,accommodationBuilder:!0,autismAccommodationBuilder:!0,giftedTwoeSupport:!0,plan504Builder:!0,goalGenerator:!0,otActivityRecommender:!0,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!0,emotionTracker:!0,parentEmotionTracker:!0,heroPlan:!0,advocateMatchingTool:!0,expertSupport:!0,clientManagement:!0,caseAnalytics:!1,caseMatching:!1,billingTools:!1,scheduleManagement:!0,teamCollaboration:!1,professionalAnalysis:!0,advocateMessaging:!0,advocacyReports:!1,caseManagement:!0,professionalPlanning:!0,professionalResources:!0,businessManagement:!1,specializedProfessionalTools:!0,storageLimit:"Unlimited",supportLevel:"Dedicated support manager + White-glove setup + Monthly strategy calls",prioritySupport:!0,maxChildren:999999,maxDocuments:999999,aiAnalysisLimit:999999,letterGenerationLimit:999999},starter:{goalManagement:!0,meetingScheduler:!0,aiInsights:!1,progressAnalytics:!0,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!0,unifiedIEPReview:!1,askAIAboutDocs:!1,expertAnalysis:!1,aiIEPReview:!1,smartLetterGenerator:!1,documentVault:!0,parentMessages:!1,communicationTracker:!0,progressNotes:!0,meetingPrepWizard:!0,meetingPrepAssistant:!0,parentMeetingPrep:!0,timelineCalculator:!0,accommodationBuilder:!0,autismAccommodationBuilder:!0,giftedTwoeSupport:!1,plan504Builder:!0,goalGenerator:!0,otActivityRecommender:!1,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!0,emotionTracker:!0,parentEmotionTracker:!1,heroPlan:!1,advocateMatchingTool:!0,expertSupport:!1,clientManagement:!0,caseAnalytics:!1,caseMatching:!1,billingTools:!1,scheduleManagement:!0,teamCollaboration:!1,professionalAnalysis:!0,advocateMessaging:!0,advocacyReports:!1,caseManagement:!0,professionalPlanning:!0,professionalResources:!0,businessManagement:!1,specializedProfessionalTools:!1,storageLimit:"10GB",supportLevel:"Email support",prioritySupport:!1,maxChildren:10,maxDocuments:100,aiAnalysisLimit:0,letterGenerationLimit:0},pro:{goalManagement:!0,meetingScheduler:!0,aiInsights:!0,progressAnalytics:!0,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!0,unifiedIEPReview:!0,askAIAboutDocs:!0,expertAnalysis:!0,aiIEPReview:!0,smartLetterGenerator:!0,documentVault:!0,parentMessages:!0,communicationTracker:!0,progressNotes:!0,meetingPrepWizard:!0,meetingPrepAssistant:!0,parentMeetingPrep:!0,timelineCalculator:!0,accommodationBuilder:!0,autismAccommodationBuilder:!0,giftedTwoeSupport:!0,plan504Builder:!0,goalGenerator:!0,otActivityRecommender:!0,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!0,emotionTracker:!0,parentEmotionTracker:!0,heroPlan:!1,advocateMatchingTool:!0,expertSupport:!0,clientManagement:!0,caseAnalytics:!0,caseMatching:!0,billingTools:!1,scheduleManagement:!0,teamCollaboration:!1,professionalAnalysis:!0,advocateMessaging:!0,advocacyReports:!0,caseManagement:!0,professionalPlanning:!0,professionalResources:!0,businessManagement:!1,specializedProfessionalTools:!1,storageLimit:"50GB",supportLevel:"Priority support",prioritySupport:!0,maxChildren:25,maxDocuments:500,aiAnalysisLimit:100,letterGenerationLimit:200},agency:{goalManagement:!0,meetingScheduler:!0,aiInsights:!0,progressAnalytics:!0,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!0,unifiedIEPReview:!0,askAIAboutDocs:!0,expertAnalysis:!0,aiIEPReview:!0,smartLetterGenerator:!0,documentVault:!0,parentMessages:!0,communicationTracker:!0,progressNotes:!0,meetingPrepWizard:!0,meetingPrepAssistant:!0,parentMeetingPrep:!0,timelineCalculator:!0,accommodationBuilder:!0,autismAccommodationBuilder:!0,giftedTwoeSupport:!0,plan504Builder:!0,goalGenerator:!0,otActivityRecommender:!0,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!0,emotionTracker:!0,parentEmotionTracker:!0,heroPlan:!0,advocateMatchingTool:!0,expertSupport:!0,clientManagement:!0,caseAnalytics:!0,caseMatching:!0,billingTools:!0,scheduleManagement:!0,teamCollaboration:!0,professionalAnalysis:!0,advocateMessaging:!0,advocacyReports:!0,caseManagement:!0,professionalPlanning:!0,professionalResources:!0,businessManagement:!0,specializedProfessionalTools:!0,storageLimit:"200GB",supportLevel:"Premium support + training",prioritySupport:!0,maxChildren:100,maxDocuments:2e3,aiAnalysisLimit:500,letterGenerationLimit:1e3},"agency-plus":{goalManagement:!0,meetingScheduler:!0,aiInsights:!0,progressAnalytics:!0,studentProfileManagement:!0,subscriptionManagement:!0,iepReviewTool:!0,unifiedIEPReview:!0,askAIAboutDocs:!0,expertAnalysis:!0,aiIEPReview:!0,smartLetterGenerator:!0,documentVault:!0,parentMessages:!0,communicationTracker:!0,progressNotes:!0,meetingPrepWizard:!0,meetingPrepAssistant:!0,parentMeetingPrep:!0,timelineCalculator:!0,accommodationBuilder:!0,autismAccommodationBuilder:!0,giftedTwoeSupport:!0,plan504Builder:!0,goalGenerator:!0,otActivityRecommender:!0,ideaRightsGuide:!0,ferpaOverview:!0,plan504Guide:!0,emotionTracker:!0,parentEmotionTracker:!0,heroPlan:!0,advocateMatchingTool:!0,expertSupport:!0,clientManagement:!0,caseAnalytics:!0,caseMatching:!0,billingTools:!0,scheduleManagement:!0,teamCollaboration:!0,professionalAnalysis:!0,advocateMessaging:!0,advocacyReports:!0,caseManagement:!0,professionalPlanning:!0,professionalResources:!0,businessManagement:!0,specializedProfessionalTools:!0,storageLimit:"Unlimited",supportLevel:"White-glove support + dedicated account manager",prioritySupport:!0,maxChildren:999999,maxDocuments:999999,aiAnalysisLimit:999999,letterGenerationLimit:999999}};function or(e,t){if(!["free","essential","premium","hero","starter","pro","agency","agency-plus"].includes(e))return console.warn("🚨 hasFeatureAccess - Unknown plan detected:",e,"-> DENYING access to feature:",t),!1;const a=rr[e];if(!a)return console.warn("🚨 hasFeatureAccess - No features found for plan:",e,"-> DENYING access to feature:",t),!1;const s=a[t];return console.log("🔍 hasFeatureAccess - Plan:",e,"| Feature:",t,"| Access:",s),s}function nr(e){return rr[e]}function ir(e){if(console.log("🔍 normalizeSubscriptionPlan - Input plan:",e),!e)return console.log('🔍 normalizeSubscriptionPlan - No plan provided, defaulting to "free"'),"free";const t=e.toLowerCase().replace(/\s+/g,"").replace(/[-_]/g,"");let a;switch(console.log("🔍 normalizeSubscriptionPlan - Normalized:",t),t){case"herofamilypack":case"herofamily":case"familypack":a="hero";break;case"essential":case"basic":a="essential";break;case"premium":case"plus":a="premium";break;case"free":case"trial":a="free";break;case"starter":case"start":a="starter";break;case"pro":case"professional":a="pro";break;case"agency":a="agency";break;case"agencyplus":case"agency+":a="agency-plus";break;default:["free","essential","premium","hero","starter","pro","agency","agency-plus"].includes(t)?a=t:(console.warn("Unknown plan format detected:",e,'- defaulting to "free"'),a="free")}return sr("Final normalized plan result:",a),a}function lr(e){switch(e){case"free":default:return"Free";case"essential":return"Essential";case"premium":return"Premium";case"hero":return"Hero Family Pack"}}const dr=[...[{id:"unified-iep-review",title:"Unified IEP Review",description:"Comprehensive AI-powered IEP analysis with quality scoring, compliance checks, and actionable improvement recommendations.",route:"/advocate/tools/unified-iep-review",icon:le,category:"AI Analysis",badge:"Enhanced",features:["AI-powered analysis","Quality scoring","Compliance checks","Professional insights"],requiredFeature:"unifiedIEPReview",requiredPlan:"starter",isPopular:!0},{id:"iep-master-suite",title:"IEP Master Suite",description:"Complete IEP management toolkit with goal tracking, progress monitoring, and comprehensive reporting for professional advocacy.",route:"/advocate/tools/iep-master-suite",icon:de,category:"IEP Planning",badge:"Master",features:["Goal tracking","Progress monitoring","Comprehensive reporting","Professional analysis"],requiredFeature:"professionalAnalysis",requiredPlan:"starter"},{id:"smart-letter-generator",title:"Smart Letter Generator",description:"Generate legally sound advocacy letters with professional templates and customization options.",route:"/smart-letter-generator",icon:ce,category:"Communication",badge:"Templates",features:["Legal Language","Professional Format","Customization","Client Templates"],requiredFeature:"smartLetterGenerator",requiredPlan:"starter"},{id:"rights-explainer",title:"Rights Explainer",description:"Plain-language legal rights guide with comprehensive special education law explanations.",route:"/idea-rights-guide",icon:ue,category:"Legal Support",badge:"Legal",features:["Legal Rights","Plain Language","Case Examples","Resource Links"],requiredFeature:"ideaRightsGuide",requiredPlan:"starter"},{id:"meeting-prep-assistant",title:"Meeting Prep Assistant",description:"Generate talking points, meeting agendas, and professional preparation materials for IEP meetings.",route:"/meeting-prep-wizard",icon:pe,category:"Meeting Support",badge:"Prep",features:["Meeting Agenda","Talking Points","Legal Strategy","Documentation"],requiredFeature:"meetingPrepWizard",requiredPlan:"starter"},{id:"progress-analyzer",title:"Progress Analyzer",description:"Data-driven analysis and recommendations for IEP goals with professional reporting capabilities.",route:"/advocate/tools/progress-analyzer",icon:me,category:"Data Analysis",badge:"Analytics",features:["Data Analysis","Progress Reports","Goal Tracking","Outcome Metrics"],requiredFeature:"caseAnalytics",requiredPlan:"pro",isPopular:!0},{id:"goal-generator",title:"IEP Goal Generator",description:"AI-powered SMART goal creation with professional standards and compliance verification.",route:"/advocate/tools/goal-generator",icon:he,category:"IEP Planning",badge:"SMART",features:["SMART Goals","Standards Alignment","Progress Metrics","Compliance Check"],requiredFeature:"goalGenerator",requiredPlan:"starter"},{id:"advocate-messaging",title:"Advocate Messaging",description:"Secure communication platform for client interactions with professional documentation features.",route:"/messages",icon:ge,category:"Professional Support",badge:"Secure",features:["Secure Messages","Client Portal","Document Sharing","Communication Log"],requiredFeature:"advocateMessaging",requiredPlan:"starter"},{id:"ask-ai-docs",title:"Ask AI About Docs",description:"Query uploaded documents with AI assistance for quick insights and professional analysis.",route:"/advocate/tools/ask-ai-docs",icon:fe,category:"AI Tools",badge:"AI",features:["Document Query","AI Analysis","Quick Insights","Professional Reports"],requiredFeature:"askAIAboutDocs",requiredPlan:"starter"},{id:"progress-notes",title:"Progress Notes & Service Log",description:"Comprehensive tracking of service delivery, client interactions, and professional outcomes.",route:"/advocate/tools/progress-notes",icon:xe,category:"Case Management",badge:"Tracking",features:["Service Logs","Progress Notes","Billing Support","Compliance Records"],requiredFeature:"progressNotes",requiredPlan:"starter"},{id:"communication-tracker",title:"Communication Tracker",description:"Monitor and document all parent-school communications with professional analysis and recommendations.",route:"/advocate/tools/communication-tracker",icon:ve,category:"Case Management",badge:"Monitor",features:["Communication Log","Analysis Tools","Follow-up Tracking","Legal Documentation"],requiredFeature:"communicationTracker",requiredPlan:"starter"},{id:"advocacy-reports",title:"Advocacy Reports",description:"Generate comprehensive client reports with professional analysis and actionable recommendations.",route:"/advocate/tools/advocacy-reports",icon:be,category:"Professional Support",badge:"Reports",features:["Client Reports","Progress Analysis","Legal Summary","Action Plans"],requiredFeature:"advocacyReports",requiredPlan:"pro"},{id:"emotion-tracker",title:"Emotion Tracker",description:"Student well-being monitoring tools with professional behavioral analysis and intervention planning.",route:"/advocate/tools/emotion-tracker",icon:ye,category:"Behavioral Support",badge:"Wellness",features:["Behavior Tracking","Intervention Plans","Progress Monitoring","Professional Analysis"],requiredFeature:"emotionTracker",requiredPlan:"starter"},{id:"billing-tools",title:"Billing & Invoice Manager",description:"Professional billing system with time tracking, invoice generation, and client payment management.",route:"/advocate/tools/billing",icon:we,category:"Business Management",badge:"Agency",features:["Time Tracking","Invoice Generation","Payment Processing","Financial Reports"],requiredFeature:"billingTools",requiredPlan:"agency",isNew:!0},{id:"team-collaboration",title:"Team Collaboration Hub",description:"Multi-advocate collaboration tools with shared case management and team communication features.",route:"/advocate/tools/team-hub",icon:je,category:"Team Management",badge:"Agency",features:["Team Chat","Shared Cases","Role Management","Collaborative Notes"],requiredFeature:"teamCollaboration",requiredPlan:"agency"}],...[{id:"autism-accommodations",title:"Autism Accommodation Builder",description:"Professional autism-specific accommodations with sensory, communication, and behavioral support.",route:"/autism-accommodations",icon:le,category:"Specialized Needs",badge:"Autism",features:["Sensory Support","Communication Plans","Behavioral Strategies","Professional Standards"],requiredFeature:"autismAccommodationBuilder",requiredPlan:"starter"},{id:"gifted-2e-tools",title:"Gifted & 2e Assessment Tools",description:"Comprehensive gifted assessment tools including cognitive, academic, creative, leadership, and AI insights.",route:"/advocate/gifted-tools",icon:Ne,category:"Specialized Needs",badge:"2e",features:["Cognitive Assessment","Academic Evaluation","Creative Analysis","Leadership Profile","AI Insights"],requiredFeature:"giftedTwoeSupport",requiredPlan:"pro"},{id:"504-plan-builder",title:"504 Plan Builder",description:"Section 504 accommodation planning with legal compliance and professional documentation.",route:"/advocate/tools/504-plan-builder",icon:Ee,category:"Legal Planning",badge:"504",features:["504 Compliance","Accommodation Plans","Legal Standards","Documentation Tools"],requiredFeature:"plan504Builder",requiredPlan:"starter"},{id:"ot-activity-recommender",title:"OT Activity Recommender",description:"Professional occupational therapy activity suggestions and adaptations for IEP implementation.",route:"/advocate/tools/ot-recommender",icon:_e,category:"Therapeutic Support",badge:"OT",features:["OT Activities","Professional Adaptations","Progress Tracking","Therapy Plans"],requiredFeature:"otActivityRecommender",requiredPlan:"pro"},{id:"business-manager",title:"Business Management Suite",description:"Complete business management tools for advocacy practices including client onboarding, contracts, and performance analytics.",route:"/advocate/tools/business-manager",icon:Pe,category:"Business Management",badge:"Enterprise",features:["Client Onboarding","Contract Management","Performance Analytics","Practice Growth Tools"],requiredFeature:"businessManagement",requiredPlan:"agency"},{id:"compliance-auditor",title:"Compliance Auditor",description:"Automated compliance checking for all advocacy work with regulatory updates and risk assessment.",route:"/advocate/tools/compliance-auditor",icon:Re,category:"Quality Assurance",badge:"Agency+",features:["Automated Compliance","Risk Assessment","Regulatory Updates","Audit Trails"],requiredFeature:"specializedProfessionalTools",requiredPlan:"agency-plus"}]];function cr(){const{user:e}=ls(),t=e?.subscriptionPlan,a=ir(t),s=["free","essential","premium","hero","starter","pro","agency","agency-plus"].includes(a)?a:"free",r=e=>or(s,e),o=e=>!or(s,e),n=e=>{const t=["starter","pro","agency","agency-plus"];for(const s of t)if(rr[s]?.[e])return s;const a=["free","essential","premium","hero"];for(const s of a)if(rr[s]?.[e])return s;return"agency-plus"};return{currentPlan:s,checkAccess:e=>{const t=function(e,t){if(sr("Checking tool access - UserPlan:",e,"RequiredTool:",t),!["free","essential","premium","hero","starter","pro","agency","agency-plus"].includes(e))return console.warn("🚨 checkToolAccess - Invalid userPlan detected:",e,"-> DENYING access"),{hasAccess:!1,upgradeRequired:"essential",message:"Invalid subscription plan - please contact support."};const a=or(e,t);if(console.log("🔍 checkToolAccess - Access result:",a),a)return console.log("✅ checkToolAccess - ACCESS GRANTED for",e,"to use",t),{hasAccess:!0};const s=["essential","premium","hero"];for(const r of s)if(or(r,t))return console.log("🔒 checkToolAccess - ACCESS DENIED - Need to upgrade from",e,"to",r,"for",t),{hasAccess:!1,upgradeRequired:r,message:`This tool requires ${lr(r)} plan or higher.`};return console.log("🚨 checkToolAccess - Tool not available in any plan:",t),{hasAccess:!1,message:"This tool is not available in any current plan."}}(s,e);return t},hasAccess:e=>or(s,e),getCurrentPlan:()=>s,isUpgradeRequired:e=>!or(s,e),user:e,canUse:r,needsUpgrade:o,requiredPlanFor:n,getToolAccessInfo:e=>{const t=(a=e,dr.find(e=>e.id===a));var a;if(!t)return{tool:null,hasAccess:!1,needsUpgrade:!0,requiredPlan:"agency-plus",upgradeMessage:"Tool not found"};const s=r(t.requiredFeature),i=o(t.requiredFeature),l=n(t.requiredFeature),d=i?`This ${t.title} requires ${l.charAt(0).toUpperCase()+l.slice(1)} plan or higher`:"";return{tool:t,hasAccess:s,needsUpgrade:i,requiredPlan:l,upgradeMessage:d}},getPlanUpgradeOptions:()=>{const e={free:0,essential:1,premium:2,hero:3,starter:1,pro:2,agency:3,"agency-plus":4},t=e[s]||0;return Object.entries(e).map(([e,a])=>({plan:e,displayName:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "),isUpgrade:a>t})).filter(e=>e.isUpgrade)}}}function ur(){Ks();J().pathname;const{user:e}=ls();cr();const t=ir(e?.subscriptionPlan||"free");Ye({queryKey:["/api/messages/unread-count"],enabled:"advocate"===e?.role});const a="advocate"===e?.role;return n.jsx(Js,{className:"w-64",children:n.jsxs(Zs,{className:"bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:tr,alt:"My IEP Hero",className:"h-8 w-8 rounded-lg shadow-sm"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm leading-tight",children:"My IEP Hero"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-tight",children:a?"Advocate Portal":"Parent Portal"})]})]})}),n.jsx("div",{className:"flex-1"}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:n.jsx(Te,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e?.email}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t," Plan"]})]})]})})})]})})}function pr(){const e=J(),{user:t}=ls(),a="advocate"===t?.role,s=ir(t?.subscriptionPlan),r=a?`/advocate/dashboard-${{starter:"starter",pro:"pro",agency:"agency","agency-plus":"agency-plus"}[s]||"starter"}`:`/parent/dashboard-${s}`,o=a?[{title:"Cases",url:r,icon:Ae,"data-testid":"bottom-nav-dashboard"},{title:"Parents",url:"/advocate/parents",icon:je,"data-testid":"bottom-nav-parents"},{title:"Messages",url:"/advocate/messages",icon:ge,"data-testid":"bottom-nav-messages"},{title:"Tools",url:"/advocate/tools",icon:ke,"data-testid":"bottom-nav-tools"},{title:"Account",url:"/advocate/profile",icon:Te,"data-testid":"bottom-nav-account"}]:[{title:"Dashboard",url:r,icon:Ae,"data-testid":"bottom-nav-dashboard"},{title:"Advocates",url:"/parent/matching",icon:Se,"data-testid":"bottom-nav-matching"},{title:"Messages",url:"/parent/messages",icon:ge,"data-testid":"bottom-nav-messages"},{title:"Account",url:"/parent/profile",icon:Te,"data-testid":"bottom-nav-account"}],i=e.pathname;return n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur border-t border-border md:hidden safe-area-inset",children:n.jsx("div",{className:"flex items-center justify-around px-2 py-2 pb-safe",children:o.map(e=>{const t=(a=e.url)===r?i===a||i.startsWith("/parent/dashboard")||i.startsWith("/advocate/dashboard"):i.startsWith(a);var a;return n.jsxs(Z,{to:e.url,className:"group relative flex flex-col items-center gap-1.5 px-3 py-2.5 rounded-xl transition-all duration-200 min-w-0 flex-1 min-h-[56px] active:scale-95 "+(t?"text-primary bg-primary/15 shadow-sm":"text-muted-foreground active:bg-accent/50"),"data-testid":e["data-testid"],children:[t&&n.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"}),n.jsx("div",{className:"p-1 rounded-lg transition-all duration-200 "+(t?"bg-primary/20 scale-110":"group-active:bg-primary/10"),children:n.jsx(e.icon,{className:"h-5 w-5 flex-shrink-0 transition-colors duration-200 "+(t?"text-primary":"text-muted-foreground group-active:text-foreground")})}),n.jsx("span",{className:"text-xs font-medium truncate w-full text-center transition-all duration-200 "+(t?"text-primary font-semibold":"text-muted-foreground group-active:text-foreground"),children:e.title})]},e.title)})})})}function mr({className:e="",showBackButton:t=!1}){const a=J();ee();const{user:s}=ls(),r=ir(s?.subscriptionPlan),o="advocate"===s?.role,i=o?`/advocate/dashboard-${{starter:"starter",pro:"pro",agency:"agency","agency-plus":"agency-plus"}[r]||"starter"}`:`/parent/dashboard-${r}`,l=(()=>{const e=a.pathname.split("/").filter(Boolean),t=[];if(t.push({label:"Dashboard",href:i}),e.length>1){const a=e[0],s=e[1],r={messages:"Messages",parents:"Parent Clients",students:"Client Students",tools:"",matching:o?"Client Matching":"Find Advocates",profile:"Profile",settings:"Settings",pricing:"Pricing Plans"};if(r[s]&&""!==r[s]&&t.push({label:r[s],href:`/${a}/${s}`}),e.length>2){const r=e[2],o={autism:"Autism Tools",gifted:"Gifted Tools",emergent:"Emergent Tools"};o[r]&&t.push({label:o[r],href:`/${a}/${s}/${r}`})}}return t.length>0&&(t[t.length-1].isLast=!0),t})(),d=l.length>1;return a.pathname.includes("/dashboard")?null:n.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[d&&n.jsxs("nav",{className:"hidden md:flex items-center gap-1 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[n.jsx(Z,{to:i,className:"flex items-center gap-1 hover:text-foreground transition-colors p-1 rounded",children:n.jsx(Ie,{className:"h-4 w-4"})}),l.slice(1).map((e,t)=>n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ce,{className:"h-4 w-4 text-muted-foreground/50"}),e.isLast?n.jsx("span",{className:"font-medium text-foreground px-1 py-0.5 rounded",children:e.label}):n.jsx(Z,{to:e.href,className:"hover:text-foreground transition-colors px-1 py-0.5 rounded",children:e.label})]},t))]}),n.jsx("div",{className:"md:hidden flex-1 min-w-0",children:n.jsx("h1",{className:"font-semibold text-lg truncate",children:l[l.length-1]?.label||"Page"})})]})}const hr=U,gr=W;Y.forwardRef(({className:e,inset:t,children:a,...s},r)=>n.jsxs(D,{ref:r,className:Qt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[a,n.jsx(Ce,{className:"ml-auto h-4 w-4"})]})).displayName=D.displayName;Y.forwardRef(({className:e,...t},a)=>n.jsx(O,{ref:a,className:Qt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=O.displayName;const fr=Y.forwardRef(({className:e,sideOffset:t=4,...a},s)=>n.jsx(M,{children:n.jsx(z,{ref:s,sideOffset:t,className:Qt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));fr.displayName=z.displayName;const xr=Y.forwardRef(({className:e,inset:t,...a},s)=>n.jsx(q,{ref:s,className:Qt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));xr.displayName=q.displayName;Y.forwardRef(({className:e,children:t,checked:a,...s},r)=>n.jsxs($,{ref:r,className:Qt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(V,{children:n.jsx(Le,{className:"h-4 w-4"})})}),t]})).displayName=$.displayName;Y.forwardRef(({className:e,children:t,...a},s)=>n.jsxs(B,{ref:s,className:Qt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(V,{children:n.jsx(De,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=B.displayName;Y.forwardRef(({className:e,inset:t,...a},s)=>n.jsx(F,{ref:s,className:Qt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a})).displayName=F.displayName;const vr=Y.forwardRef(({className:e,...t},a)=>n.jsx(G,{ref:a,className:Qt("-mx-1 my-1 h-px bg-muted",e),...t}));function br({children:e}){const t=ee();J();const{user:a,profile:s,signOut:r}=ls(),{toast:o}=lt(),i=ir(a?.subscriptionPlan),l="free"!==i;return n.jsx(Xs,{children:n.jsxs("div",{className:"min-h-screen flex w-full max-w-none bg-background relative overflow-x-clip",children:[n.jsx(ur,{}),n.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-none",children:[n.jsx("header",{className:"hidden md:block sticky top-0 z-40 w-full border-b border-border bg-background/95 backdrop-blur",children:n.jsxs("div",{className:"flex h-16 items-center justify-between px-4 md:px-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Qs,{}),n.jsx("div",{className:"font-semibold text-lg",children:"My IEP Hero"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:["parent"===a?.role&&"hero"!==i&&n.jsx(Ds,{asChild:!0,variant:"hero",className:"min-h-[44px]","data-testid":"button-parent-upgrade-header",children:n.jsxs(Z,{to:"/parent/pricing",children:[n.jsx(Oe,{className:"h-4 w-4 mr-1"}),"free"===i?"HERO Plan":"Upgrade"]})}),"advocate"===a?.role&&"agency-plus"!==i&&n.jsx(Ds,{asChild:!0,variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50 min-h-[44px]","data-testid":"button-advocate-upgrade-header",children:n.jsxs(Z,{to:"/advocate/pricing",children:[n.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Upgrade Plan"]})}),n.jsxs(hr,{children:[n.jsx(gr,{asChild:!0,children:n.jsxs(Ds,{variant:"ghost",className:"flex items-center gap-2 px-3 min-h-[44px] active:scale-95 transition-transform duration-150","aria-label":"User menu",children:[n.jsx(Te,{className:"h-5 w-5"}),(s?.full_name||a?.email)&&n.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-[120px]",children:s?.full_name||a?.email})]})}),n.jsxs(fr,{align:"end",className:"w-56 shadow-lg",sideOffset:12,children:[n.jsxs(xr,{onClick:()=>{const e=window.location.pathname.startsWith("/advocate");t(e?"/advocate/profile":"/parent/profile")},className:"min-h-[48px] px-4 py-3 active:bg-accent/80 transition-colors cursor-pointer","data-testid":"dropdown-profile",children:[n.jsx(Te,{className:"h-5 w-5 mr-3"}),n.jsx("span",{className:"font-medium",children:"Profile"})]}),n.jsxs(xr,{onClick:()=>{const e=window.location.pathname.startsWith("/advocate");t(e?"/advocate/settings":"/parent/settings")},className:"min-h-[48px] px-4 py-3 active:bg-accent/80 transition-colors cursor-pointer","data-testid":"dropdown-settings",children:[n.jsx(Pe,{className:"h-5 w-5 mr-3"}),n.jsx("span",{className:"font-medium",children:"Settings"})]}),n.jsx(vr,{}),n.jsxs("div",{className:"px-4 py-3 text-sm text-muted-foreground border-b border-border bg-muted/20",children:["Current Plan: ",n.jsx("span",{className:"font-semibold capitalize text-foreground",children:i})]}),l&&n.jsxs(xr,{onClick:()=>{const e=window.location.pathname.startsWith("/advocate");t(e?"/advocate/pricing?manage=true":"/parent/pricing?manage=true")},className:"min-h-[48px] px-4 py-3 active:bg-accent/80 transition-colors cursor-pointer","data-testid":"dropdown-manage-plan",children:[n.jsx(Me,{className:"h-5 w-5 mr-3"}),n.jsx("span",{className:"font-medium",children:"Manage Plan"})]}),"parent"===a?.role&&"hero"!==i&&n.jsxs(xr,{onClick:()=>{t("/parent/pricing")},className:"min-h-[48px] px-4 py-3 active:bg-accent/80 transition-colors cursor-pointer","data-testid":"dropdown-upgrade-plan-parent",children:[n.jsx(Oe,{className:"h-5 w-5 mr-3 text-yellow-500"}),n.jsx("span",{className:"font-medium",children:"Upgrade Plan"})]}),"advocate"===a?.role&&"agency-plus"!==i&&n.jsxs(xr,{onClick:()=>{t("/advocate/pricing")},className:"min-h-[48px] px-4 py-3 active:bg-accent/80 transition-colors cursor-pointer","data-testid":"dropdown-upgrade-plan-advocate",children:[n.jsx(Oe,{className:"h-5 w-5 mr-3 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Upgrade Plan"})]}),n.jsx(vr,{}),n.jsxs(xr,{onClick:async()=>{try{await r(),o({title:"Signed out successfully",description:"You have been logged out of your account."}),t("/auth")}catch(e){o({title:"Error signing out",description:"There was a problem signing you out. Please try again.",variant:"destructive"})}},className:"min-h-[48px] px-4 py-3 active:bg-accent/80 transition-colors cursor-pointer text-destructive focus:text-destructive","data-testid":"dropdown-sign-out",children:[n.jsx(ze,{className:"h-5 w-5 mr-3"}),n.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})]})]})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"w-full max-w-none overflow-x-clip p-3 sm:p-4 md:p-6 pb-20 md:pb-6 min-h-0",children:[n.jsx("div",{className:"mb-4 md:mb-6",children:n.jsx(mr,{showBackButton:!0,className:"md:mb-0"})}),e]})})]}),n.jsx(pr,{})]})})}vr.displayName=G.displayName;const yr=Es("App",{web:()=>Ze(()=>import("../js/web.js-DKmlJmEE.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>new e.AppWeb)});function wr(e){if(console.log("🔗 Processing deep link:",e),e.includes("/verify-email")){const t=e.replace("/verify-email","/m/verify-email");return console.log("🔗 Email verification deep link → mobile path:",t),t}if(e.includes("/reset-password")){const t=e.replace("/reset-password","/m/reset-password");return console.log("🔗 Password reset deep link → mobile path:",t),t}if(!e.includes("/m/")&&function(){try{if(Ns.isNativePlatform())return!0;if("undefined"!=typeof window){const e=window.location.protocol;if("capacitor:"===e||"file:"===e)return!0;if(void 0!==window.Capacitor)return!0}return!1}catch(e){return!1}}()){const t="/m"+new URL(e).pathname+new URL(e).search;return console.log("🔗 Generic deep link → mobile path:",t),t}return e}function jr({className:e,message:t="Loading...",variant:a="default"}){return"minimal"===a?n.jsx("div",{className:Qt("flex items-center justify-center p-4",e),children:n.jsx(qe,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):"skeleton"===a?n.jsxs("div",{className:Qt("space-y-4 p-6",e),children:[n.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((e,t)=>n.jsx("div",{className:"h-32 bg-muted rounded animate-pulse"},t))})]}):n.jsxs("div",{className:Qt("flex flex-col items-center justify-center min-h-[400px] space-y-4",e),children:[n.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})}function Nr(){return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"flex h-16 items-center px-6",children:[n.jsx("div",{className:"h-6 w-32 bg-muted rounded animate-pulse"}),n.jsx("div",{className:"ml-auto flex items-center space-x-4",children:n.jsx("div",{className:"h-8 w-8 bg-muted rounded-full animate-pulse"})})]})}),n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-64 border-r bg-background",children:n.jsx("div",{className:"p-4 space-y-2",children:[...Array(8)].map((e,t)=>n.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"},t))})}),n.jsx("div",{className:"flex-1 p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"h-8 bg-muted rounded w-1/3 animate-pulse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>n.jsx("div",{className:"h-48 bg-muted rounded-lg animate-pulse"},t))})]})})]})]})}function Er(){return n.jsx(jr,{variant:"skeleton",message:"Loading tools...",className:"min-h-screen"})}function _r(){return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs("div",{className:"space-y-4 text-center",children:[n.jsx(qe,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Preparing authentication..."})]})})}function Pr(){return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"flex h-full",children:[n.jsx("div",{className:"w-80 border-r bg-background",children:n.jsx("div",{className:"p-4 space-y-2",children:[...Array(6)].map((e,t)=>n.jsx("div",{className:"h-16 bg-muted rounded animate-pulse"},t))})}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx("div",{className:"border-b p-4",children:n.jsx("div",{className:"h-6 bg-muted rounded w-1/3 animate-pulse"})}),n.jsx("div",{className:"flex-1 p-4 space-y-4",children:[...Array(5)].map((e,t)=>n.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},t))})]})]})})}function Rr(){return n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"h-8 bg-muted rounded w-1/4 animate-pulse"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-6 bg-muted rounded w-1/3 animate-pulse"}),[...Array(3)].map((e,t)=>n.jsx("div",{className:"h-24 bg-muted rounded animate-pulse"},t))]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-6 bg-muted rounded w-1/3 animate-pulse"}),n.jsx("div",{className:"h-96 bg-muted rounded animate-pulse"})]})]})]})})}const Tr=Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:Qt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Tr.displayName="Card";const Ar=Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:Qt("flex flex-col space-y-1.5 p-6",e),...t}));Ar.displayName="CardHeader";const kr=Y.forwardRef(({className:e,...t},a)=>n.jsx("h3",{ref:a,className:Qt("text-2xl font-semibold leading-none tracking-tight",e),...t}));kr.displayName="CardTitle";const Sr=Y.forwardRef(({className:e,...t},a)=>n.jsx("p",{ref:a,className:Qt("text-sm text-muted-foreground",e),...t}));Sr.displayName="CardDescription";const Ir=Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:Qt("p-6 pt-0",e),...t}));Ir.displayName="CardContent";Y.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:Qt("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";class Cr extends K.Component{constructor(e){super(e),a(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})}),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Lazy load error:",e,t)}render(){if(this.state.hasError){const e=this.props.fallback||Lr;return n.jsx(e,{error:this.state.error,retry:this.handleRetry})}return this.props.children}}function Lr({error:e,retry:t}){return n.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-6",children:n.jsxs(Tr,{className:"w-full max-w-md",children:[n.jsxs(Ar,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:n.jsx($e,{className:"w-6 h-6 text-destructive"})}),n.jsx(kr,{className:"text-lg",children:"Failed to Load Page"}),n.jsx(Sr,{children:"There was an error loading this page. This might be due to a network issue or temporary problem."})]}),n.jsxs(Ir,{className:"space-y-4",children:[e&&n.jsxs("details",{className:"text-sm text-muted-foreground",children:[n.jsx("summary",{className:"cursor-pointer hover:text-foreground",children:"Technical details"}),n.jsx("pre",{className:"mt-2 text-xs bg-muted p-2 rounded overflow-auto",children:e.message})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ds,{onClick:t,className:"flex-1",children:[n.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Try Again"]}),n.jsx(Ds,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]})]})]})})}function Dr({children:e}){return n.jsx(Cr,{fallback:({error:e,retry:t})=>n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"flex h-16 items-center px-6",children:n.jsx("div",{className:"h-6 w-32 bg-muted rounded"})})}),n.jsx("div",{className:"flex items-center justify-center p-6 flex-1",children:n.jsx(Lr,{error:e,retry:t})})]}),children:e})}function Or({children:e}){return n.jsx(Cr,{fallback:({error:e,retry:t})=>n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsx(Lr,{error:e,retry:t})}),children:e})}function Mr({children:e}){return n.jsx(Cr,{fallback:({error:e,retry:t})=>n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(Lr,{error:e,retry:t})}),children:e})}var zr=Y.forwardRef((e,t)=>n.jsx(l.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));zr.displayName="Label";var qr=zr;const $r=Jt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vr=Y.forwardRef(({className:e,...t},a)=>n.jsx(qr,{ref:a,className:Qt($r(),e),...t}));Vr.displayName=qr.displayName;const Br=[{icon:n.jsx(be,{className:"h-6 w-6"}),title:"AI IEP Analysis",description:"Upload IEPs and get instant, expert-level insights on compliance and recommendations."},{icon:n.jsx(je,{className:"h-6 w-6"}),title:"Advocate Matching",description:"Connect with certified special education advocates in your area for personalized support."},{icon:n.jsx(We,{className:"h-6 w-6"}),title:"Meeting Preparation",description:"Comprehensive tools to prepare for IEP meetings with confidence and documentation."},{icon:n.jsx(He,{className:"h-6 w-6"}),title:"Special Needs Resources",description:"Specialized tools for autism, ADHD, gifted/2e, and other special education needs."}],Fr=()=>{const{user:e,loading:t}=ls(),[a,s]=Y.useState("signin"),[r,o]=Y.useState(!1),[i,l]=Y.useState(!1),[d,c]=Y.useState({email:"",password:""}),[u,p]=Y.useState(!1);if(t)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});if(e){let t;if("parent"===e.role){const a=e.subscriptionPlan?.toLowerCase().replace(/\s+/g,"")||"free";t=`/parent/dashboard-${["free","basic","plus","explorer","premium","hero"].includes(a)?a:"free"}`}else if("advocate"===e.role){t=`/advocate/dashboard-${{starter:"starter",pro:"pro",agency:"agency","agency plus":"agency-plus",agencyplus:"agency-plus"}[e.subscriptionPlan?.toLowerCase()||"starter"]||"starter"}`}else t="/dashboard";return console.log("🔄 Index: Auto-redirecting authenticated user to dashboard:",t),window.location.replace(t),n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Taking you to your dashboard..."})}return n.jsxs("div",{className:"min-h-screen",children:[n.jsx("div",{className:"fixed top-4 right-4 z-50",children:n.jsx("div",{className:"bg-green-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg",children:"📱 MOBILE VERSION TEST"})}),n.jsx("section",{className:"relative bg-gradient-to-br from-primary/5 to-secondary/5 py-16 lg:py-24",children:n.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold leading-tight",children:["Empower Your Child's"," ",n.jsx("span",{className:"text-primary",children:"IEP"})," ",n.jsx("span",{className:"text-accent",children:"Journey"})]}),n.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"AI-powered tools, certified advocates, and comprehensive resources to help your child succeed in special education."})]}),n.jsx("div",{className:"space-y-6",children:e?n.jsx("div",{className:"text-center",children:n.jsxs(Ds,{variant:"default",size:"lg",onClick:()=>{let t;if("parent"===e.role){const a=e.subscriptionPlan?.toLowerCase().replace(/\s+/g,"")||"free";t=`/parent/dashboard-${["free","basic","plus","explorer","premium","hero"].includes(a)?a:"free"}`}else if("advocate"===e.role){t=`/advocate/dashboard-${{starter:"starter",pro:"pro",agency:"agency","agency plus":"agency-plus",agencyplus:"agency-plus"}[e.subscriptionPlan?.toLowerCase()||"starter"]||"starter"}`}else t="/dashboard";window.location.replace(t)},"data-testid":"button-dashboard",children:["Go to ","parent"===e.role?"Parent":"Advocate"," Dashboard",n.jsx(Be,{className:"ml-2 h-5 w-5"})]})}):n.jsx("div",{className:"space-y-6",children:r?n.jsxs("form",{onSubmit:async e=>{e.preventDefault(),p(!0);try{const e=await fetch("/api/custom-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.email,password:d.password})});if(e.ok){const{token:t,user:a,redirectTo:s}=await e.json();localStorage.setItem("authToken",t);let r=s;if(s&&!s.startsWith("/m/")){r=`/${s.startsWith("/")?s.substring(1):s}`}console.log("🔄 Mobile login redirect:",s,"→",r),window.location.href=r}else{const t=await e.json();alert(t.message||"Login failed")}}catch(t){console.error("Login error:",t),alert("An error occurred during login. Please try again.")}finally{p(!1)}},className:"space-y-4 max-w-sm mx-auto",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Vr,{htmlFor:"email",children:"Email Address"}),n.jsx(Os,{id:"email",type:"email",placeholder:"Enter your email",value:d.email,onChange:e=>c({...d,email:e.target.value}),required:!0,"data-testid":"input-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Vr,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Os,{id:"password",type:i?"text":"password",placeholder:"Enter your password",value:d.password,onChange:e=>c({...d,password:e.target.value}),required:!0,"data-testid":"input-password"}),n.jsx(Ds,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!i),children:i?n.jsx(Fe,{className:"h-4 w-4"}):n.jsx(Ge,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ds,{type:"submit",className:"w-full",disabled:u,"data-testid":"button-login-submit",children:u?"Signing In...":"Sign In"}),n.jsx(Ds,{type:"button",variant:"outline",className:"w-full",onClick:()=>o(!1),"data-testid":"button-back",children:"Back"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-center space-x-1 bg-muted rounded-lg p-1 max-w-xs mx-auto",children:[n.jsx("button",{onClick:()=>s("signin"),className:"flex-1 px-6 py-3 rounded-md text-sm font-medium transition-all "+("signin"===a?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),"data-testid":"toggle-signin",children:"Sign In"}),n.jsx("button",{onClick:()=>s("create"),className:"flex-1 px-6 py-3 rounded-md text-sm font-medium transition-all "+("create"===a?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),"data-testid":"toggle-create",children:"Create Account"})]}),"signin"===a?n.jsx("div",{className:"flex justify-center",children:n.jsxs(Ds,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold px-8 py-4",onClick:()=>o(!0),"data-testid":"button-signin",children:["Sign In Now",n.jsx(Be,{className:"ml-2 h-5 w-5"})]})}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-center text-lg font-medium",children:"Choose your role to get started:"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-2xl mx-auto",children:[n.jsx("div",{className:"bg-card border border-border rounded-lg p-6 cursor-pointer hover:border-primary transition-colors group",onClick:()=>window.location.replace("/parent/pricing"),"data-testid":"card-parent",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto group-hover:bg-primary/20 transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Parent"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Empower your child's educational journey with AI tools, advocate connections, and comprehensive IEP support."})]})}),n.jsx("div",{className:"bg-card border border-border rounded-lg p-6 cursor-pointer hover:border-secondary transition-colors group",onClick:()=>window.location.replace("/advocate/pricing"),"data-testid":"card-advocate",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mx-auto group-hover:bg-secondary/20 transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Advocate"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Expand your practice with powerful tools to support more families and streamline your advocacy work."})]})})]})]})]})})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ue,{className:"h-4 w-4 text-success"}),"HIPAA Secure"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ue,{className:"h-4 w-4 text-success"}),"Certified Advocates"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ue,{className:"h-4 w-4 text-success"}),"Bank-Level Security"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ue,{className:"h-4 w-4 text-success"}),"Supports IDEA/FAPE"]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-2xl opacity-20 blur-3xl"}),n.jsx("img",{src:"/assets/hero-image-CWnKYqXH.jpg",alt:"Children with disabilities thriving in supportive educational environments",className:"relative rounded-2xl shadow-2xl w-full object-cover aspect-[4/3]"})]})]})})}),n.jsx("section",{className:"py-16 lg:py-24",children:n.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center space-y-4 mb-12",children:[n.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"Everything You Need for IEP Success"}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"From initial review to meeting preparation, our platform guides you every step of the way."})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:Br.map((e,t)=>n.jsxs(Tr,{className:"text-center hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-background to-muted/20",children:[n.jsxs(Ar,{className:"pb-4",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center text-primary mb-4",children:e.icon}),n.jsx(kr,{className:"text-lg",children:e.title})]}),n.jsx(Ir,{children:n.jsx(Sr,{className:"text-sm leading-relaxed",children:e.description})})]},t))})]})}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-primary to-primary/80",children:n.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 text-white",children:[n.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"Ready to Advocate with Confidence?"}),n.jsx("p",{className:"text-xl opacity-90",children:"Join thousands of parents who have transformed their IEP experience."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(Ds,{variant:"secondary",size:"lg",onClick:()=>{e?window.location.replace(e.role?`/${e.role}/dashboard`:"/parent/dashboard"):o(!0)},"data-testid":"button-cta-primary",children:e?"Go to Dashboard":"Get Started Free"}),n.jsx(Ds,{variant:"outline",size:"lg",className:"bg-white/10 hover:bg-white/20 border-white/30 text-white hover:text-white",onClick:()=>window.location.replace("/pricing"),"data-testid":"button-cta-secondary",children:"View Pricing"})]})]})})})]})},Gr=()=>{const e=J();return Y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Ur={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYZER_URL:"http://localhost:8080/api/analyze ",VITE_EMERGENT_ANALYSIS_URL:"http://localhost:8080/api/analyze",VITE_STRIPE_PUBLIC_KEY:"pk_test_51Rr3Ot8iKZXV0srZoLgITuaO6CwtlWVW4PVYgYVa3sfdcFbOy1t6OipSEXr9cYCFPrtOfL0kP8z8UTdvD0pa91tx00wNX0ZmGX"},Wr=void 0!==import.meta&&!1;function Hr(){try{return"undefined"!=typeof window&&("capacitor:"===window.location.protocol||"file:"===window.location.protocol||void 0!==window.Capacitor||"localhost"===window.location.hostname&&!["http:","https:"].includes(window.location.protocol))}catch(e){return Wr&&console.warn("Error detecting Capacitor environment:",e),!1}}function Yr(){const e=Hr();if(Wr&&console.log("API Config - Environment Detection:",{isMobile:e,protocol:"undefined"!=typeof window?window.location.protocol:"unknown",hostname:"undefined"!=typeof window?window.location.hostname:"unknown"}),!e)return Wr&&console.log("API Config - Using web API URL: /api"),"/api";try{const e=`https://${function(){if(void 0!==import.meta&&Ur?.VITE_REPLIT_DEV_DOMAIN){const e=void 0;return Wr&&console.log("API Config - Using configured domain from environment"),e}if("undefined"!=typeof window&&!Hr()){const e=window.location.host;if(e&&"localhost"!==e)return Wr&&console.log("API Config - Using current window host for web"),e}if(Hr()&&"undefined"!=typeof window){const e=window.location.host;if(e&&"localhost"!==e&&!e.includes("capacitor"))return Wr&&console.log("API Config - Using Capacitor remote host:",e),e;throw new Error("Mobile app requires VITE_REPLIT_DEV_DOMAIN environment variable to be set. Please configure your API domain in the environment variables before building the mobile app.")}if("undefined"!=typeof window&&"localhost"===window.location.hostname)return window.location.host;throw new Error("API domain configuration is required. Please set VITE_REPLIT_DEV_DOMAIN environment variable or ensure the app is running in a proper web environment.")}()}/api`;return Wr&&console.log("API Config - Using mobile API URL"),e}catch(t){throw console.error("Failed to configure API for mobile environment:",t.message),t}}function Kr(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Yr();return e.startsWith("/api")?Hr()?e.replace("/api",t):e:e.startsWith("/")?`${t}${e}`:`${t}/${e}`}const Xr=void 0!==import.meta&&!1;function Jr(e,...t){Xr&&console.log(e,...t)}const Qr=new Ke({defaultOptions:{queries:{queryFn:async({queryKey:e})=>{const[t]=e,a=Kr(t),s=await fetch(a,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:(e,t)=>!(t?.message?.includes("40")&&!t?.message?.includes("408"))&&e<2,retryDelay:e=>Math.min(1e3*2**e,3e4)},mutations:{retry:1,retryDelay:1e3}}}),Zr=new Map;function eo(e){const t=Zr.get(e);t&&(t.abort(),Zr.delete(e))}async function to(e,t,a,s){Jr("API Request:",e,t);const r=localStorage.getItem("authToken");Jr("Token status:",r?"FOUND":"MISSING"),r||Jr("❌ No auth token found - user must login");const o=r;Jr("Final token status:",o?"AVAILABLE":"MISSING");const n=new Headers;if("POST"!==e&&"PUT"!==e||n.set("Content-Type","application/json"),s?.headers&&(s.headers instanceof Headers?s.headers.forEach((e,t)=>n.set(t,e)):"object"==typeof s.headers&&Object.entries(s.headers).forEach(([e,t])=>{void 0!==t&&n.set(e,String(t))})),o&&o.trim().length>0){const e=`Bearer ${o}`;n.set("Authorization",e),Jr("Authorization header set")}else!function(e,...t){Xr&&console.warn(e,...t)}("No valid authentication token available");if(Xr){const e={};n.forEach((t,a)=>{e[a]="Authorization"===a?"[REDACTED]":t}),Jr("Request headers:",e)}try{const r=s?.requestKey||`${e}-${t}`;eo(r);const o=new AbortController;Zr.set(r,o);const i={method:e,headers:n,credentials:"include",signal:o.signal};!a||"POST"!==e&&"PUT"!==e||(i.body=JSON.stringify(a));const l=Kr(t);Jr("Making request to resolved URL");const d=await fetch(l,i);if(Zr.delete(r),Jr("Response status:",d.status,"for",t),!d.ok)throw console.error("API request failed:",d.status,d.statusText,"for",t),401===d.status&&(Jr("Authentication failed - clearing expired token"),localStorage.removeItem("authToken"),"undefined"==typeof window||window.location.pathname.includes("/auth")||(Jr("Redirecting to authentication page"),window.location.replace("/m/auth"))),new Error(`HTTP ${d.status}: ${d.statusText||"Request failed"}`);return Jr("API request successful for:",t),d}catch(i){throw console.error("API request error for",t,":",i.message),i}}const ao=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:to,cancelRequest:eo,queryClient:Qr},Symbol.toStringTag,{value:"Module"})),so=Y.memo(function({onMetricsUpdate:e,enableMemoryMonitoring:t=!0,enableRenderTimeMonitoring:a=!0}){const[s,r]=Y.useState({});return Y.useEffect(()=>{let s,o=performance.now();const n=()=>{const i={};if(t&&"memory"in performance){const e=performance.memory;i.memoryUsage=e.usedJSHeapSize/1024/1024}if("connection"in navigator){const e=navigator.connection;i.connectionType=e?.effectiveType||"unknown"}if(a){const e=performance.now();i.renderTime=e-o,o=e}const l=document.querySelectorAll("[data-react-component]").length;i.componentCount=l,r(i),e?.(i),s=requestAnimationFrame(n)};return n(),()=>{s&&cancelAnimationFrame(s)}},[e,t,a]),Y.useEffect(()=>(()=>{if("PerformanceObserver"in window)try{const e=new PerformanceObserver(e=>{const t=e.getEntries(),a=t[t.length-1];console.log("LCP:",a.startTime)});e.observe({entryTypes:["largest-contentful-paint"]});const t=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{console.log("FID:",e.processingStart-e.startTime)})});t.observe({entryTypes:["first-input"]});const a=new PerformanceObserver(e=>{let t=0;e.getEntries().forEach(e=>{e.hadRecentInput||(t+=e.value)}),console.log("CLS:",t)});return a.observe({entryTypes:["layout-shift"]}),()=>{e.disconnect(),t.disconnect(),a.disconnect()}}catch(e){console.warn("Performance monitoring not supported:",e)}})(),[]),null}),ro=Y.lazy(()=>Ze(()=>import("../js/MobileTestingPage.tsx-CEvB6nvC.js"),__vite__mapDeps([5,1,2,6,7,8,3,4]))),oo=Y.lazy(()=>Ze(()=>import("../js/Auth.tsx-BltgfSD4.js"),__vite__mapDeps([9,1,2,3,4]))),no=Y.lazy(()=>Ze(()=>import("../js/SetupPassword.tsx-DtvqhoIQ.js"),__vite__mapDeps([10,1,2,3,4]))),io=Y.lazy(()=>Ze(()=>import("../js/SubscriptionSetup.tsx-DJmNi2u5.js"),__vite__mapDeps([11,1,2,12,3,4]))),lo=Y.lazy(()=>Ze(()=>import("../js/SubscriptionSuccess.tsx-BS4Benes.js"),__vite__mapDeps([13,1,2,3,4]))),co=Y.lazy(()=>Ze(()=>import("../js/AccountCreated.tsx-CY1wg7AR.js"),__vite__mapDeps([14,1,2,3,4]))),uo=Y.lazy(()=>Ze(()=>import("../js/VerifyEmail.tsx-aKkZs8qW.js"),__vite__mapDeps([15,1,2,3,4]))),po=Y.lazy(()=>Ze(()=>import("../js/Onboarding.tsx-D0hlg-32.js"),__vite__mapDeps([16,1,2,6,4,3]))),mo=Y.lazy(()=>Ze(()=>import("../js/PricingSelection.tsx-BKCFUWYo.js"),__vite__mapDeps([17,1,2,3,4]))),ho=Y.lazy(()=>Ze(()=>import("../js/ParentDashboard.tsx-C3iLK3ec.js"),__vite__mapDeps([18,1,2,6,7,19,3,20,21,8,22,23,24,4]))),go=Y.lazy(()=>Ze(()=>import("../js/AdvocateDashboard.tsx-C1Lph7BU.js"),__vite__mapDeps([25,1,2,4,23,24,3,26,19,6]))),fo=Y.lazy(()=>Ze(()=>import("../js/ParentStudents.tsx-Dn6zqkJw.js"),__vite__mapDeps([27,1,2,6,20,28,7,19,3,29,21,30,31,4,32]))),xo=Y.lazy(()=>Ze(()=>import("../js/AdvocateStudents.tsx-_bw25p8k.js"),__vite__mapDeps([33,1,2,4,6,21,3,28,7,22,19,29,20,31,34,30]))),vo=Y.lazy(()=>Ze(()=>import("../js/AdvocateParents.tsx-C3TRbEqN.js"),__vite__mapDeps([35,1,2,6,7,19,3,28,8,36,22,32,4]))),bo=Y.lazy(()=>Ze(()=>import("../js/StudentProfiles.tsx-CVWskoE1.js"),__vite__mapDeps([37,1,2,6,20,8,28,7,19,3,30,21,4]))),yo=Y.lazy(()=>Ze(()=>import("../js/AdvocateMessages.tsx-5GvSbBcH.js"),__vite__mapDeps([38,1,2,23,24,3,26,19,6,28,32,4,39,40,12,7,41,20,29,21,42]))),wo=Y.lazy(()=>Ze(()=>import("../js/ParentMessages.tsx-BNaSLBOg.js"),__vite__mapDeps([43,1,2,36,6,3,28,32,4,39,40,12,7,41,24]))),jo=Y.lazy(()=>Ze(()=>import("../js/UnifiedScheduleHub.tsx-Bhcs6w13.js"),__vite__mapDeps([44,1,2,6,20,21,3,19,22,4])));Y.lazy(()=>Ze(()=>import("../js/AdvocateSchedule.tsx-DEuN9U-L.js"),__vite__mapDeps([45,1,2,23,24,3,26,19,6,4]))),Y.lazy(()=>Ze(()=>import("../js/ScheduleMeeting.tsx-CR3OyvS0.js"),__vite__mapDeps([46,1,2,21,3,20,4]))),Y.lazy(()=>Ze(()=>import("../js/ParentSchedule.tsx-V2kPCk5j.js"),__vite__mapDeps([47,1,2,23,24,3,26,19,6,4]))),Y.lazy(()=>Ze(()=>import("../js/RequestMeeting.tsx-C_7tI4ei.js"),__vite__mapDeps([48,1,2,21,3,20,4])));const No=Y.lazy(()=>Ze(()=>import("../js/ParentMeetingPrep.tsx-DyKWG6fT.js"),__vite__mapDeps([49,1,2,29,3,6,7,4]))),Eo=Y.lazy(()=>Ze(()=>import("../js/MeetingPrepWizard.tsx-BVFkjGNY.js"),__vite__mapDeps([50,1,2,6,20,21,3,29,7,51,22,4]))),_o=Y.lazy(()=>Ze(()=>import("../js/ToolsHub.tsx-CugeP3mJ.js"),__vite__mapDeps([52,1,2,53,6,19,3,4]))),Po=Y.lazy(()=>Ze(()=>import("../js/AdvocateToolsHubPremium.tsx-BmyGTXRz.js"),__vite__mapDeps([54,1,2,23,24,3,26,19,6,4]))),Ro=Y.lazy(()=>Ze(()=>import("../js/IEPReview.tsx-BWOenhRp.js"),__vite__mapDeps([55,1,2,23,24,3,26,19,6,7,8,20,21,22,4]))),To=Y.lazy(()=>Ze(()=>import("../js/AIIEPReview.tsx-DwB29eZq.js"),__vite__mapDeps([56,1,2,6,21,3,57,40,12,7,41,19,22,58,30,29,4]))),Ao=Y.lazy(()=>Ze(()=>import("../js/UnifiedIEPReview.tsx-F2Rjd10e.js"),__vite__mapDeps([59,1,2,6,7,21,3,57,40,12,41,19,22,58,20,29,4]))),ko=Y.lazy(()=>Ze(()=>import("../js/IEPMasterSuite.tsx-CtXl6ZQ3.js"),__vite__mapDeps([60,1,2,8,6,20,21,3,41,7,57,40,12,19,22,58,30,4]))),So=Y.lazy(()=>Ze(()=>import("../js/ParentIEPMasterSuite.tsx-ka0OmTvC.js"),__vite__mapDeps([61,1,2,8,6,20,21,3,41,7,30,34,4]))),Io=Y.lazy(()=>Ze(()=>import("../js/ExpertAnalysis.tsx-xJnjCH7a.js"),__vite__mapDeps([62,1,2,6,8,41,3,4]))),Co=Y.lazy(()=>Ze(()=>import("../js/AutismToolsHub.tsx-BW_CjnVT.js"),__vite__mapDeps([63,1,2,23,24,3,26,19,6,7,4,30,21])));Y.lazy(()=>Ze(()=>import("../js/AutismAccommodations.tsx-CghgnrZf.js"),__vite__mapDeps([64,1,2,4,65,3,6,21])));const Lo=Y.lazy(()=>Ze(()=>import("../js/AutismAccommodationBuilder.tsx-viUEkeuA.js"),__vite__mapDeps([66,1,2,4,6,21,3])));Y.lazy(()=>Ze(()=>import("../js/ParentAutismAccommodations.tsx-CDXklmCE.js"),__vite__mapDeps([67,1,2,4,65,3,6,21])));const Do=Y.lazy(()=>Ze(()=>import("../js/AdvocateAutismAccommodations.tsx-BybYiaC6.js"),__vite__mapDeps([68,1,2,4,65,3,6,21]))),Oo=Y.lazy(()=>Ze(()=>import("../js/AutismSensoryTool.tsx-Cwd8v9Nt.js"),__vite__mapDeps([69,1,2,4,65,3,6,30,21]))),Mo=Y.lazy(()=>Ze(()=>import("../js/AutismCommunicationTool.tsx-D-hLYQ76.js"),__vite__mapDeps([70,1,2,4,65,3,6,30,21]))),zo=Y.lazy(()=>Ze(()=>import("../js/AutismBehavioralTool.tsx-B9oUWL9G.js"),__vite__mapDeps([71,1,2,4,65,3,6,30,21]))),qo=Y.lazy(()=>Ze(()=>import("../js/AutismAIInsightsTool.tsx-DQlat9_e.js"),__vite__mapDeps([72,1,2,4,65,3,6,7,30,21]))),$o=Y.lazy(()=>Ze(()=>import("../js/GiftedToolsHub.tsx-BW2OrZcB.js"),__vite__mapDeps([73,1,2,4,23,24,3,26,19,6,30,21]))),Vo=Y.lazy(()=>Ze(()=>import("../js/AdvocateGiftedToolsHub.tsx-BgWlOjOY.js"),__vite__mapDeps([74,1,2,4,65,3,6,30,21]))),Bo=Y.lazy(()=>Ze(()=>import("../js/GiftedCognitiveTool.tsx-BBQ1cD56.js"),__vite__mapDeps([75,1,2,4,65,3,6,30,21]))),Fo=Y.lazy(()=>Ze(()=>import("../js/GiftedAcademicTool.tsx-D4AS-Zd9.js"),__vite__mapDeps([76,1,2,4,65,3,6,30,21]))),Go=Y.lazy(()=>Ze(()=>import("../js/GiftedCreativeTool.tsx-lD8o8h6y.js"),__vite__mapDeps([77,1,2,4,65,3,6,30,21]))),Uo=Y.lazy(()=>Ze(()=>import("../js/GiftedLeadershipTool.tsx-CxF4kpFf.js"),__vite__mapDeps([78,1,2,4,65,3,6,30,21]))),Wo=Y.lazy(()=>Ze(()=>import("../js/GiftedAIInsightsTool.tsx-DMlHSjVw.js"),__vite__mapDeps([79,1,2,4,65,3,6,7,30,21]))),Ho=Y.lazy(()=>Ze(()=>import("../js/GiftedTwoeLearners.tsx-dgAopWF3.js"),__vite__mapDeps([80,1,2,20,6,21,3,19,8,29,30,4]))),Yo=Y.lazy(()=>Ze(()=>import("../js/SmartLetterGeneratorNew.tsx-TFw1pqlt.js"),__vite__mapDeps([81,1,2,6,20,21,3,7,4,22]))),Ko=Y.lazy(()=>Ze(()=>import("../js/DocumentVault.tsx-CYXp5opm.js"),__vite__mapDeps([82,1,2,4,23,24,3,26,19,6,21,8,57,40,12,7,41,22,58]))),Xo=Y.lazy(()=>Ze(()=>import("../js/CommunicationTracker.tsx-CVifbsYz.js"),__vite__mapDeps([83,1,2,6,3,4]))),Jo=Y.lazy(()=>Ze(()=>import("../js/AskAIDocs.tsx-C6tqnFUJ.js"),__vite__mapDeps([84,1,2,6,20,3,4]))),Qo=Y.lazy(()=>Ze(()=>import("../js/AskAIDocuments.tsx-GDn9Ekya.js"),__vite__mapDeps([85,1,2,3,4]))),Zo=Y.lazy(()=>Ze(()=>import("../js/ProgressAnalyzer.tsx-VRHcGNR8.js"),__vite__mapDeps([86,1,2,6,3,4]))),en=Y.lazy(()=>Ze(()=>import("../js/GoalGenerator.tsx-WKfSK5RO.js"),__vite__mapDeps([87,1,2,23,24,3,26,19,6,20,21,7,40,12,30,22,4]))),tn=Y.lazy(()=>Ze(()=>import("../js/ParentGoalGenerator.tsx-zJBOd296.js"),__vite__mapDeps([88,1,2,6,20,21,3,41,7,40,12,30,4]))),an=Y.lazy(()=>Ze(()=>import("../js/ProgressNotes.tsx-BkuBrhf6.js"),__vite__mapDeps([89,1,2,6,3,4]))),sn=Y.lazy(()=>Ze(()=>import("../js/ProgressNotesTracker.tsx-BKM2Eot3.js"),__vite__mapDeps([90,1,2,6,20,21,3,30,4]))),rn=Y.lazy(()=>Ze(()=>import("../js/TimelineCalculator.tsx-CoEN4Hg_.js"),__vite__mapDeps([91,1,2,6,21,3,4]))),on=Y.lazy(()=>Ze(()=>import("../js/EmotionTracker.tsx-D_Hb5RJp.js"),__vite__mapDeps([92,1,2,6,21,3,19,20,22,4]))),nn=Y.lazy(()=>Ze(()=>import("../js/ParentEmotionTracker.tsx-cUm6NAWu.js"),__vite__mapDeps([93,1,2,6,3,4]))),ln=Y.lazy(()=>Ze(()=>import("../js/CopingStrategies.tsx-DgfOHbrd.js"),__vite__mapDeps([94,1,2,6,3,4]))),dn=Y.lazy(()=>Ze(()=>import("../js/WarningSignsDetection.tsx-BThuanUS.js"),__vite__mapDeps([95,1,2,6,41,3,4]))),cn=Y.lazy(()=>Ze(()=>import("../js/SupportSchedule.tsx-sIyGNAOE.js"),__vite__mapDeps([96,1,2,6,29,3,20,4]))),un=Y.lazy(()=>Ze(()=>import("../js/IDEARightsGuide.tsx-DwKltznB.js"),__vite__mapDeps([97,1,2,6,21,3,4]))),pn=Y.lazy(()=>Ze(()=>import("../js/ParentIDEARightsGuide.tsx-CvME2GYQ.js"),__vite__mapDeps([98,1,2,6,41,21,3,99,19,4]))),mn=Y.lazy(()=>Ze(()=>import("../js/FERPAOverview.tsx-DsJz-6KX.js"),__vite__mapDeps([100,1,2,6,3,4]))),hn=Y.lazy(()=>Ze(()=>import("../js/Plan504Guide.tsx-DVH9HTkI.js"),__vite__mapDeps([101,1,2,6,3,4]))),gn=Y.lazy(()=>Ze(()=>import("../js/Plan504Builder.tsx-B92Kmnu2.js"),__vite__mapDeps([102,1,2,6,3,4]))),fn=Y.lazy(()=>Ze(()=>import("../js/OTRecommender.tsx-CZ5lO6Jq.js"),__vite__mapDeps([103,1,2,6,3,4]))),xn=Y.lazy(()=>Ze(()=>import("../js/OTActivityRecommender.tsx-BdiCpRHQ.js"),__vite__mapDeps([104,1,2,6,21,3,29,30,4]))),vn=Y.lazy(()=>Ze(()=>import("../js/SmartMatching.tsx-C2flnxaC.js"),__vite__mapDeps([105,1,2,6,28,21,3,7,8,19,20,42,30,4])));Y.lazy(()=>Ze(()=>import("../js/MatchingDashboard.tsx-wCXS7L_X.js"),__vite__mapDeps([106,1,2,6,8,19,3,21,28,7,4])));const bn=Y.lazy(()=>Ze(()=>import("../js/AdvocacyReports.tsx-Bz2JTqWP.js"),__vite__mapDeps([107,1,2,6,3,4]))),yn=Y.lazy(()=>Ze(()=>import("../js/AdvocatePricingPlan.tsx-AVM4-v-5.js"),__vite__mapDeps([108,1,2,6,51,109,23,24,3,26,19,4]))),wn=Y.lazy(()=>Ze(()=>import("../js/ParentPricingPlan.tsx-DfMIXwJ5.js"),__vite__mapDeps([110,1,2,6,51,109,23,24,3,26,19,4]))),jn=Y.lazy(()=>Ze(()=>import("../js/ParentHeroPlan.tsx-zPVR5_KU.js"),__vite__mapDeps([111,1,2,6,3,4]))),Nn=Y.lazy(()=>Ze(()=>import("../js/ParentHeroUpsell.tsx-l1Ixc80X.js"),__vite__mapDeps([112,1,2,6,65,3,4]))),En=Y.lazy(()=>Ze(()=>import("../js/HeroPlan.tsx-CwWe3ooK.js"),__vite__mapDeps([113,1,2,65,3,6,4]))),_n=Y.lazy(()=>Ze(()=>import("../js/Profile.tsx-ZAfDT8jb.js"),__vite__mapDeps([114,1,2,6,28,19,3,58,23,24,26,4])));Y.lazy(()=>Ze(()=>import("../js/Settings.tsx-5V5ZL7Uc.js"),__vite__mapDeps([115,1,2,51,6,23,24,3,19,26,4])));const Pn=Y.lazy(()=>Ze(()=>import("../js/ParentSettings.tsx-CiA2cMfm.js"),__vite__mapDeps([116,1,2,51,23,24,3,26,19,4]))),Rn=Y.lazy(()=>Ze(()=>import("../js/AdvocateSettings.tsx-BmWUcrQ3.js"),__vite__mapDeps([117,1,2,51,20,21,3,6,4]))),Tn=Y.lazy(()=>Ze(()=>import("../js/EmergentToolsHubNew.tsx-DAc2PUd5.js"),__vite__mapDeps([118,1,2,53,6,19,3,4])));Y.lazy(()=>Ze(()=>import("../js/EmergentToolsHub.tsx-xyOn4u2-.js"),__vite__mapDeps([119,1,2,23,24,3,26,19,6,4])));const An=Y.lazy(()=>Ze(()=>import("../js/PremiumToolsDemo.tsx-Qn2GeY-_.js"),__vite__mapDeps([120,1,2,6,99,19,3,4]))),kn=Y.lazy(()=>Ze(()=>import("../js/AllPagesView.tsx-Cngah5Nh.js"),__vite__mapDeps([121,1,2,6,8,3,4])));Y.lazy(()=>Ze(()=>import("../js/CardShowcase.tsx-DE4EHWmN.js"),__vite__mapDeps([122,1,2,6,7,3,4])));const Sn=Y.lazy(()=>Ze(()=>import("../js/FABDemo.tsx-l5V45ijn.js"),__vite__mapDeps([123,1,2,3,6,4])));function In({children:e}){return n.jsx(Mr,{children:n.jsx(Y.Suspense,{fallback:n.jsx(_r,{}),children:e})})}function Cn({children:e}){return n.jsx(Dr,{children:n.jsx(Y.Suspense,{fallback:n.jsx(Nr,{}),children:n.jsx(br,{children:e})})})}function Ln({children:e}){return n.jsx(Or,{children:n.jsx(Y.Suspense,{fallback:n.jsx(Er,{}),children:n.jsx(br,{children:e})})})}function Dn({children:e}){return n.jsx(Dr,{children:n.jsx(Y.Suspense,{fallback:n.jsx(Pr,{}),children:n.jsx(br,{children:e})})})}function On({children:e}){return n.jsx(Dr,{children:n.jsx(Y.Suspense,{fallback:n.jsx(Rr,{}),children:n.jsx(br,{children:e})})})}function Mn(){return Y.useEffect(()=>((async()=>{yr.addListener("appUrlOpen",e=>{console.log("🔗 Universal Link received:",e.url);try{const t=new URL(e.url),a=wr(t.pathname+t.search);console.log("🔗 Navigating to mobile path:",a),window.location.replace(a)}catch(t){console.error("🚫 Error handling Universal Link:",t)}}),console.log("🔗 Universal Links handler configured")})(),()=>{yr.removeAllListeners()}),[]),n.jsx(Xe,{client:Qr,children:n.jsxs(ss,{children:[n.jsx(ia,{}),n.jsx(ka,{}),n.jsx(so,{}),n.jsx(us,{children:n.jsxs(ds,{children:[n.jsx(Cs,{}),n.jsx(te,{basename:"/m",children:n.jsxs(ae,{children:[n.jsx(se,{path:"/",element:n.jsx(Fr,{})}),n.jsx(se,{path:"/pricing",element:n.jsx(In,{children:n.jsx(mo,{})})}),n.jsx(se,{path:"/auth",element:n.jsx(In,{children:n.jsx(oo,{})})}),n.jsx(se,{path:"/setup-password",element:n.jsx(In,{children:n.jsx(no,{})})}),n.jsx(se,{path:"/subscription-setup",element:n.jsx(In,{children:n.jsx(io,{})})}),n.jsx(se,{path:"/onboarding",element:n.jsx(In,{children:n.jsx(po,{})})}),n.jsx(se,{path:"/dashboard",element:n.jsx(vs,{parentRoute:"/parent/dashboard-free",advocateRoute:"/advocate/dashboard-starter"})}),n.jsx(se,{path:"/parent/dashboard-free",element:n.jsx(xs,{allowedRoles:["parent"],requiredPlan:"free",children:n.jsx(Cn,{children:n.jsx(ho,{plan:"free"})})})}),n.jsx(se,{path:"/parent/dashboard-essential",element:n.jsx(xs,{allowedRoles:["parent"],requiredPlan:"essential",children:n.jsx(Cn,{children:n.jsx(ho,{plan:"essential"})})})}),n.jsx(se,{path:"/parent/dashboard-explorer",element:n.jsx(xs,{allowedRoles:["parent"],requiredPlan:"essential",children:n.jsx(Cn,{children:n.jsx(ho,{plan:"essential"})})})}),n.jsx(se,{path:"/parent/dashboard-premium",element:n.jsx(xs,{allowedRoles:["parent"],requiredPlan:"premium",children:n.jsx(Cn,{children:n.jsx(ho,{plan:"premium"})})})}),n.jsx(se,{path:"/parent/dashboard-hero",element:n.jsx(xs,{allowedRoles:["parent"],requiredPlan:"hero",children:n.jsx(Cn,{children:n.jsx(ho,{plan:"hero"})})})}),n.jsx(se,{path:"/parent/meeting-prep",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(No,{})})})}),n.jsx(se,{path:"/parent/students",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(On,{children:n.jsx(fo,{})})})}),n.jsx(se,{path:"/parent/messages",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Dn,{children:n.jsx(wo,{})})})}),n.jsx(se,{path:"/parent/schedule",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Cn,{children:n.jsx(jo,{})})})}),n.jsx(se,{path:"/parent/schedule/request",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Cn,{children:n.jsx(jo,{})})})}),n.jsx(se,{path:"/advocate/dashboard-starter",element:n.jsx(xs,{allowedRoles:["advocate"],requiredPlan:"starter",children:n.jsx(Cn,{children:n.jsx(go,{plan:"starter"})})})}),n.jsx(se,{path:"/advocate/dashboard-pro",element:n.jsx(xs,{allowedRoles:["advocate"],requiredPlan:"pro",children:n.jsx(Cn,{children:n.jsx(go,{plan:"pro"})})})}),n.jsx(se,{path:"/advocate/dashboard-agency",element:n.jsx(xs,{allowedRoles:["advocate"],requiredPlan:"agency",children:n.jsx(Cn,{children:n.jsx(go,{plan:"agency"})})})}),n.jsx(se,{path:"/advocate/dashboard-agency-plus",element:n.jsx(xs,{allowedRoles:["advocate"],requiredPlan:"agency-plus",children:n.jsx(Cn,{children:n.jsx(go,{plan:"agency-plus"})})})}),n.jsx(se,{path:"/advocate/messages",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Dn,{children:n.jsx(yo,{})})})}),n.jsx(se,{path:"/advocate/schedule",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Cn,{children:n.jsx(jo,{})})})}),n.jsx(se,{path:"/advocate/schedule/new",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Cn,{children:n.jsx(jo,{})})})}),n.jsx(se,{path:"/advocate/parents",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(On,{children:n.jsx(vo,{})})})}),n.jsx(se,{path:"/advocate/create-parent",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(On,{children:n.jsx(vo,{})})})}),n.jsx(se,{path:"/advocate/students",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(On,{children:n.jsx(xo,{})})})}),n.jsx(se,{path:"/tools/hub",element:n.jsx(vs,{parentRoute:"/parent/tools",advocateRoute:"/advocate/tools"})}),n.jsx(se,{path:"/parent/tools",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(_o,{})})})}),n.jsx(se,{path:"/parent/tools/emergent",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Tn,{})})})}),n.jsx(se,{path:"/advocate/tools",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Po,{})})})}),n.jsx(se,{path:"/parent/tools/iep-review",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Ro,{})})})}),n.jsx(se,{path:"/parent/tools/ai-iep-review",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(To,{})})})}),n.jsx(se,{path:"/parent/tools/unified-iep-review",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Ao,{})})})}),n.jsx(se,{path:"/parent/tools/autism-accommodation-builder",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Lo,{})})})}),n.jsx(se,{path:"/parent/autism-tools",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Co,{})})})}),n.jsx(se,{path:"/parent/autism-tools/sensory",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Oo,{})})})}),n.jsx(se,{path:"/parent/autism-tools/communication",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Mo,{})})})}),n.jsx(se,{path:"/parent/autism-tools/behavioral",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(zo,{})})})}),n.jsx(se,{path:"/parent/autism-tools/ai-insights",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(qo,{})})})}),n.jsx(se,{path:"/parent/gifted-tools",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx($o,{})})})}),n.jsx(se,{path:"/parent/gifted-tools/cognitive",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Bo,{})})})}),n.jsx(se,{path:"/parent/gifted-tools/academic",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Fo,{})})})}),n.jsx(se,{path:"/parent/gifted-tools/creative",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Go,{})})})}),n.jsx(se,{path:"/parent/gifted-tools/leadership",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Uo,{})})})}),n.jsx(se,{path:"/parent/gifted-tools/ai-insights",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Wo,{})})})}),n.jsx(se,{path:"/parent/tools/meeting-prep",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Eo,{})})})}),n.jsx(se,{path:"/parent/tools/smart-letter-generator",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Yo,{})})})}),n.jsx(se,{path:"/parent/tools/timeline-calculator",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(rn,{})})})}),n.jsx(se,{path:"/advocate/tools/smart-letter-generator",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Yo,{})})})}),n.jsx(se,{path:"/advocate/smart-letter-generator",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Yo,{})})})}),n.jsx(se,{path:"/advocate/unified-iep-review",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Ao,{})})})}),n.jsx(se,{path:"/advocate/idea-rights-guide",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(un,{})})})}),n.jsx(se,{path:"/advocate/meeting-prep-wizard",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Eo,{})})})}),n.jsx(se,{path:"/messages",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Dn,{children:n.jsx(yo,{})})})}),n.jsx(se,{path:"/advocate/autism-accommodations",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Do,{})})})}),n.jsx(se,{path:"/advocate/gifted-2e-learners",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Ho,{})})})}),n.jsx(se,{path:"/advocate/gifted-tools",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Vo,{})})})}),n.jsx(se,{path:"/advocate/gifted-tools/cognitive",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Bo,{})})})}),n.jsx(se,{path:"/advocate/gifted-tools/academic",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Fo,{})})})}),n.jsx(se,{path:"/advocate/gifted-tools/creative",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Go,{})})})}),n.jsx(se,{path:"/advocate/gifted-tools/leadership",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Uo,{})})})}),n.jsx(se,{path:"/advocate/gifted-tools/ai-insights",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Wo,{})})})}),n.jsx(se,{path:"/advocate/tools/iep-review",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Ro,{})})})}),n.jsx(se,{path:"/advocate/tools/unified-iep-review",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Ao,{})})})}),n.jsx(se,{path:"/advocate/tools/autism-accommodations",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Do,{})})})}),n.jsx(se,{path:"/parent/tools/emergent",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Tn,{})})})}),n.jsx(se,{path:"/parent/tools/document-vault",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Ko,{})})})}),n.jsx(se,{path:"/parent/tools/gifted-2e-learners",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Ho,{})})})}),n.jsx(se,{path:"/parent/tools/student-profiles",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(bo,{})})})}),n.jsx(se,{path:"/parent/gifted-tools",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx($o,{})})})}),n.jsx(se,{path:"/parent/tools/advocate-matching",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(vn,{})})})}),n.jsx(se,{path:"/parent/tools/expert-analysis",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Io,{})})})}),n.jsx(se,{path:"/parent/tools/goal-generator",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(tn,{})})})}),n.jsx(se,{path:"/parent/tools/iep-master-suite",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(So,{})})})}),n.jsx(se,{path:"/parent/tools/idea-rights-guide",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(pn,{})})})}),n.jsx(se,{path:"/parent/tools/plan-504-guide",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(hn,{})})})}),n.jsx(se,{path:"/parent/tools/progress-notes",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(sn,{})})})}),n.jsx(se,{path:"/parent/tools/ask-ai-documents",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Qo,{})})})}),n.jsx(se,{path:"/parent/tools/communication-tracker",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(Xo,{})})})}),n.jsx(se,{path:"/parent/tools/ot-activities",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(xn,{})})})}),n.jsx(se,{path:"/parent/matching",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(vn,{})})})}),n.jsx(se,{path:"/advocate/tools/document-vault",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Ko,{})})})}),n.jsx(se,{path:"/advocate/tools/gifted-2e-learners",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Vo,{})})})}),n.jsx(se,{path:"/advocate/tools/advocate-matching",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(vn,{})})})}),n.jsx(se,{path:"/advocate/tools/ai-iep-review",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(To,{})})})}),n.jsx(se,{path:"/advocate/tools/smart-letter-generator",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Yo,{})})})}),n.jsx(se,{path:"/advocate/tools/meeting-prep",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Eo,{})})})}),n.jsx(se,{path:"/advocate/meeting-prep-wizard",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Eo,{})})})}),n.jsx(se,{path:"/advocate/tools/expert-analysis",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(Io,{})})})}),n.jsx(se,{path:"/advocate/matching",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(vn,{})})})}),n.jsx(se,{path:"/parent/smart-matching",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Ln,{children:n.jsx(vn,{})})})}),n.jsx(se,{path:"/tools/document-vault",element:n.jsx(vs,{parentRoute:"/parent/tools/document-vault",advocateRoute:"/advocate/tools/document-vault"})}),n.jsx(se,{path:"/tools/iep-review",element:n.jsx(vs,{parentRoute:"/parent/tools/iep-review",advocateRoute:"/advocate/tools/iep-review"})}),n.jsx(se,{path:"/tools/ai-iep-review",element:n.jsx(vs,{parentRoute:"/parent/tools/ai-iep-review",advocateRoute:"/advocate/tools/ai-iep-review"})}),n.jsx(se,{path:"/tools/unified-iep-review",element:n.jsx(vs,{parentRoute:"/parent/tools/unified-iep-review",advocateRoute:"/advocate/tools/unified-iep-review"})}),n.jsx(se,{path:"/tools/autism-accommodations",element:n.jsx(vs,{parentRoute:"/parent/tools/autism-accommodations",advocateRoute:"/advocate/tools/autism-accommodations"})}),n.jsx(se,{path:"/tools/advocate-matching",element:n.jsx(vs,{parentRoute:"/parent/tools/advocate-matching",advocateRoute:"/advocate/tools/advocate-matching"})}),n.jsx(se,{path:"/tools/gifted-2e-learners",element:n.jsx(vs,{parentRoute:"/parent/tools/gifted-2e-learners",advocateRoute:"/advocate/tools/gifted-2e-learners"})}),n.jsx(se,{path:"/tools/smart-letter",element:n.jsx(vs,{parentRoute:"/parent/tools/smart-letter-generator",advocateRoute:"/advocate/tools/smart-letter-generator"})}),n.jsx(se,{path:"/tools/meeting-prep",element:n.jsx(vs,{parentRoute:"/parent/tools/meeting-prep",advocateRoute:"/advocate/tools/meeting-prep"})}),n.jsx(se,{path:"/parent/profile",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Cn,{children:n.jsx(_n,{})})})}),n.jsx(se,{path:"/advocate/profile",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Cn,{children:n.jsx(_n,{})})})}),n.jsx(se,{path:"/parent/settings",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(Cn,{children:n.jsx(Pn,{})})})}),n.jsx(se,{path:"/advocate/settings",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Cn,{children:n.jsx(Rn,{})})})}),n.jsx(se,{path:"/parent/upsell/hero-plan",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(In,{children:n.jsx(jn,{})})})}),n.jsx(se,{path:"/parent/subscribe/upsell/hero-plan",element:n.jsx(In,{children:n.jsx(Nn,{})})}),n.jsx(se,{path:"/upsell/hero-plan",element:n.jsx(In,{children:n.jsx(En,{})})}),n.jsx(se,{path:"/subscribe",element:n.jsx(In,{children:n.jsx(mo,{})})}),n.jsx(se,{path:"/advocate/discovery",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Ln,{children:n.jsx(vn,{})})})}),n.jsx(se,{path:"/advocate/pricing-plan",element:n.jsx(In,{children:n.jsx(yn,{})})}),n.jsx(se,{path:"/parent/pricing-plan",element:n.jsx(In,{children:n.jsx(wn,{})})}),n.jsx(se,{path:"/parent/hero-plan",element:n.jsx(In,{children:n.jsx(jn,{})})}),n.jsx(se,{path:"/parent-hero-plan",element:n.jsx(In,{children:n.jsx(jn,{})})}),n.jsx(se,{path:"/parent/pricing",element:n.jsx(In,{children:n.jsx(wn,{})})}),n.jsx(se,{path:"/advocate/pricing",element:n.jsx(In,{children:n.jsx(yn,{})})}),n.jsx(se,{path:"/parent/subscribe",element:n.jsx(In,{children:n.jsx(wn,{})})}),n.jsx(se,{path:"/advocate/subscribe",element:n.jsx(In,{children:n.jsx(yn,{})})}),n.jsx(se,{path:"/subscription-success",element:n.jsx(In,{children:n.jsx(lo,{})})}),n.jsx(se,{path:"/subscription-setup",element:n.jsx(In,{children:n.jsx(io,{})})}),n.jsx(se,{path:"/account-created",element:n.jsx(In,{children:n.jsx(co,{})})}),n.jsx(se,{path:"/verify-email",element:n.jsx(In,{children:n.jsx(uo,{})})}),n.jsx(se,{path:"/reset-password",element:n.jsx(In,{children:n.jsx(no,{})})}),n.jsx(se,{path:"/idea-rights-guide",element:n.jsx(xs,{allowedRoles:["parent","advocate"],children:n.jsx(Ln,{children:n.jsx(un,{})})})}),n.jsx(se,{path:"/ferpa-overview",element:n.jsx(xs,{allowedRoles:["parent","advocate"],children:n.jsx(Ln,{children:n.jsx(mn,{})})})}),n.jsx(se,{path:"/504-plan-guide",element:n.jsx(xs,{allowedRoles:["parent","advocate"],children:n.jsx(Ln,{children:n.jsx(hn,{})})})}),n.jsx(se,{path:"/timeline-calculator",element:n.jsx(xs,{allowedRoles:["parent","advocate"],children:n.jsx(rn,{})})}),n.jsx(se,{path:"/advocate/tools/progress-analyzer",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Zo,{})})}),n.jsx(se,{path:"/advocate/tools/goal-generator",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(en,{})})}),n.jsx(se,{path:"/advocate/tools/iep-master-suite",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(ko,{})})}),n.jsx(se,{path:"/tools/iep-master-suite",element:n.jsx(xs,{allowedRoles:["parent","advocate"],requiredPlan:"essential",children:n.jsx(ko,{})})}),n.jsx(se,{path:"/advocate/tools/ask-ai-docs",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Jo,{})})}),n.jsx(se,{path:"/advocate/tools/progress-notes",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(an,{})})}),n.jsx(se,{path:"/advocate/tools/communication-tracker",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(Xo,{})})}),n.jsx(se,{path:"/advocate/tools/advocacy-reports",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(bn,{})})}),n.jsx(se,{path:"/advocate/tools/emotion-tracker",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(on,{})})}),n.jsx(se,{path:"/advocate/tools/504-plan-builder",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(gn,{})})}),n.jsx(se,{path:"/advocate/tools/ot-recommender",element:n.jsx(xs,{allowedRoles:["advocate"],children:n.jsx(fn,{})})}),n.jsx(se,{path:"/parent/tools/emotion-tracker",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(nn,{})})}),n.jsx(se,{path:"/parent/tools/coping-strategies",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(ln,{})})}),n.jsx(se,{path:"/parent/tools/warning-signs",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(dn,{})})}),n.jsx(se,{path:"/parent/tools/support-schedule",element:n.jsx(xs,{allowedRoles:["parent"],children:n.jsx(cn,{})})}),n.jsx(se,{path:"/all-pages",element:n.jsx(kn,{})}),n.jsx(se,{path:"/premium-tools-demo",element:n.jsx(An,{})}),n.jsx(se,{path:"/demo/fab",element:n.jsx(Sn,{})}),n.jsx(se,{path:"/mobile-testing",element:n.jsx(Y.Suspense,{fallback:n.jsx(jr,{}),children:n.jsx(ro,{})})}),n.jsx(se,{path:"*",element:n.jsx(Gr,{})})]})})]})})]})})}const zn=new class{constructor(){a(this,"dbName","IEPHeroOfflineStorage"),a(this,"dbVersion",1),a(this,"db",null)}async initialize(){try{return this.db=await this.openDatabase(),console.log("✅ Offline Storage: Database initialized"),!0}catch(e){return console.error("❌ Offline Storage: Failed to initialize database",e),!1}}openDatabase(){return new Promise((e,t)=>{const a=indexedDB.open(this.dbName,this.dbVersion);a.onerror=()=>t(a.error),a.onsuccess=()=>e(a.result),a.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains("offlineData")){const e=t.createObjectStore("offlineData",{keyPath:"id"});e.createIndex("type","type",{unique:!1}),e.createIndex("userId","userId",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("syncStatus","syncStatus",{unique:!1})}if(!t.objectStoreNames.contains("queuedOperations")){const e=t.createObjectStore("queuedOperations",{keyPath:"id"});e.createIndex("userId","userId",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("type","type",{unique:!1})}t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"key"})}})}async storeData(e,t,a,s){if(!this.db)return console.warn("⚠️ Offline Storage: Database not initialized"),!1;try{const r={id:`${e}-${t}`,type:e,data:a,timestamp:Date.now(),userId:s,syncStatus:"synced"},o=this.db.transaction(["offlineData"],"readwrite").objectStore("offlineData");return await this.promisifyRequest(o.put(r)),console.log(`📱 Offline Storage: Stored ${e} data for ${t}`),!0}catch(r){return console.error("❌ Offline Storage: Failed to store data",r),!1}}async getData(e,t){if(!this.db)return null;try{const a=this.db.transaction(["offlineData"],"readonly").objectStore("offlineData"),s=await this.promisifyRequest(a.get(`${e}-${t}`));return s?(console.log(`📱 Offline Storage: Retrieved ${e} data for ${t}`),s.data):null}catch(a){return console.error("❌ Offline Storage: Failed to retrieve data",a),null}}async getDataByType(e,t){if(!this.db)return[];try{const a=this.db.transaction(["offlineData"],"readonly"),s=a.objectStore("offlineData").index("type"),r=(await this.promisifyRequest(s.getAll(e))).filter(e=>e.userId===t).map(e=>({...e.data,_offlineId:e.id,_timestamp:e.timestamp}));return console.log(`📱 Offline Storage: Retrieved ${r.length} ${e} items for user`),r}catch(a){return console.error("❌ Offline Storage: Failed to retrieve data by type",a),[]}}async queueOperation(e,t,a,s){if(!this.db)return!1;try{const r={id:`${e}-${t}-${Date.now()}`,type:e,endpoint:t,data:a,timestamp:Date.now(),userId:s,retryCount:0},o=this.db.transaction(["queuedOperations"],"readwrite").objectStore("queuedOperations");return await this.promisifyRequest(o.put(r)),console.log(`🔄 Offline Storage: Queued ${e} operation for ${t}`),!0}catch(r){return console.error("❌ Offline Storage: Failed to queue operation",r),!1}}async getPendingOperations(e){if(!this.db)return[];try{const t=this.db.transaction(["queuedOperations"],"readonly"),a=t.objectStore("queuedOperations").index("userId"),s=await this.promisifyRequest(a.getAll(e));return console.log(`🔄 Offline Storage: Found ${s.length} pending operations`),s.sort((e,t)=>e.timestamp-t.timestamp)}catch(t){return console.error("❌ Offline Storage: Failed to get pending operations",t),[]}}async removeOperation(e){if(!this.db)return!1;try{const t=this.db.transaction(["queuedOperations"],"readwrite").objectStore("queuedOperations");return await this.promisifyRequest(t.delete(e)),console.log(`✅ Offline Storage: Removed completed operation ${e}`),!0}catch(t){return console.error("❌ Offline Storage: Failed to remove operation",t),!1}}async updateOperationRetryCount(e){if(!this.db)return!1;try{const t=this.db.transaction(["queuedOperations"],"readwrite").objectStore("queuedOperations"),a=await this.promisifyRequest(t.get(e));return!!a&&(a.retryCount+=1,await this.promisifyRequest(t.put(a)),console.log(`🔄 Offline Storage: Updated retry count for ${e} to ${a.retryCount}`),!0)}catch(t){return console.error("❌ Offline Storage: Failed to update retry count",t),!1}}async storeSetting(e,t){if(!this.db)return!1;try{const a=this.db.transaction(["settings"],"readwrite").objectStore("settings");return await this.promisifyRequest(a.put({key:e,value:t,timestamp:Date.now()})),console.log(`⚙️ Offline Storage: Stored setting ${e}`),!0}catch(a){return console.error("❌ Offline Storage: Failed to store setting",a),!1}}async getSetting(e){if(!this.db)return null;try{const t=this.db.transaction(["settings"],"readonly").objectStore("settings"),a=await this.promisifyRequest(t.get(e));return a?a.value:null}catch(t){return console.error("❌ Offline Storage: Failed to get setting",t),null}}async clearUserData(e){if(!this.db)return!1;try{const t=this.db.transaction(["offlineData","queuedOperations"],"readwrite"),a=t.objectStore("offlineData"),s=a.index("userId").openCursor(e);await new Promise((e,t)=>{s.onsuccess=async()=>{const t=s.result;t?(await this.promisifyRequest(t.delete()),t.continue()):e()},s.onerror=()=>t(s.error)});const r=t.objectStore("queuedOperations"),o=r.index("userId").openCursor(e);return await new Promise((e,t)=>{o.onsuccess=async()=>{const t=o.result;t?(await this.promisifyRequest(t.delete()),t.continue()):e()},o.onerror=()=>t(o.error)}),console.log(`🗑️ Offline Storage: Cleared all data for user ${e}`),!0}catch(t){return console.error("❌ Offline Storage: Failed to clear user data",t),!1}}async getStorageStats(){if(!this.db)return null;try{const e=this.db.transaction(["offlineData"],"readonly").objectStore("offlineData"),t=await this.promisifyRequest(e.getAll());return{size:JSON.stringify(t).length,itemCount:t.length}}catch(e){return console.error("❌ Offline Storage: Failed to get storage stats",e),null}}async cleanupOldData(){if(this.db)try{const e=Date.now()-2592e6,t=this.db.transaction(["offlineData"],"readwrite"),a=t.objectStore("offlineData").index("timestamp"),s=IDBKeyRange.upperBound(e);await this.promisifyRequest(a.openCursor(s));let r=0;const o=a.openCursor(s);await new Promise((e,t)=>{o.onsuccess=async()=>{const t=o.result;t?(await this.promisifyRequest(t.delete()),r++,t.continue()):e()},o.onerror=()=>t(o.error)}),console.log(`🧹 Offline Storage: Cleaned up ${r} old items`)}catch(e){console.error("❌ Offline Storage: Failed to cleanup old data",e)}}promisifyRequest(e){return new Promise((t,a)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>a(e.error)})}},qn=(e,t,a)=>zn.storeData("student",e,t,a),$n=e=>zn.getData("student",e),Vn=e=>zn.getDataByType("student",e);window.open=function(e,t,a){const s=e?.toString()||"";console.log("[window.open] URL:",s,"Target:",t);return""===s||s.startsWith("/")||s.startsWith(window.location.origin)||s.startsWith("myiephero://")?(console.log("[WebView] Internal navigation detected:",s),window.location.href=s||"/",null):(console.warn("[External URL] Blocked:",s),null)},document.addEventListener("click",e=>{const t=e.target;if("A"===t.tagName){const a=t.href;if(a){a.startsWith(window.location.origin)||a.startsWith("myiephero://")?(e.preventDefault(),console.log("[Anchor Click] Internal navigation:",a),window.location.href=a):(e.preventDefault(),console.warn("[Anchor Click] External URL blocked:",a))}}}),function(){const e=window.fetch;window.fetch=async function(t,a){const s=await e(t,a);return console.log("[Fetch] URL:",t,"Status:",s.status,"Redirected:",s.redirected),s};const t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,a){return console.log("[XHR] Open:",e,a),t.apply(this,arguments)}}(),!Ns.isNativePlatform()&&"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("✅ Service Worker registered successfully:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("🔄 New service worker available"),window.confirm("A new version is available. Reload to update?")&&(t.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(e=>{console.error("❌ Service Worker registration failed:",e)}),navigator.serviceWorker.addEventListener("message",e=>{e.data&&"SYNC_COMPLETE"===e.data.type&&(console.log(`🔄 Background sync completed: ${e.data.syncedCount} operations synced`),window.dispatchEvent(new CustomEvent("offline-sync-complete",{detail:{syncedCount:e.data.syncedCount}})))}),"serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype&&navigator.serviceWorker.ready.then(e=>{if("sync"in e)return e.sync.register("offline-sync")}).catch(e=>{console.warn("⚠️ Background sync not supported:",e)})}):Ns.isNativePlatform()&&(console.log("🧹 Native app detected - clearing any existing Service Worker cache"),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>{console.log("🗑️ Unregistering Service Worker:",e.scope),e.unregister()})}),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{console.log("🗑️ Deleting cache:",e),caches.delete(e)})})),zn.initialize().then(e=>{e?(console.log("✅ Offline storage initialized successfully"),setInterval(()=>{zn.cleanupOldData().catch(console.error)},864e5)):console.warn("⚠️ Offline storage initialization failed")}),document.addEventListener("visibilitychange",()=>{!document.hidden&&navigator.onLine&&window.dispatchEvent(new CustomEvent("app-visible-online"))}),e(document.getElementById("root")).render(n.jsx(Mn,{}));export{ns as A,Ds as B,Tr as C,br as D,dr as E,lr as F,Jt as G,Yr as H,Os as I,ws as J,Es as K,Vr as L,Is as M,ps as N,ao as O,Vs as S,ss as T,_s as W,Ze as _,lt as a,$n as b,Qt as c,Ar as d,kr as e,Sr as f,Vn as g,Ir as h,tr as i,nr as j,cr as k,Ns as l,to as m,ir as n,zn as o,Zt as p,Qr as q,hr as r,qn as s,gr as t,ls as u,fr as v,xr as w,vr as x,rs as y,os as z};
