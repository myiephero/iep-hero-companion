import{j as e}from"./chunk-DsWtD-um.js";import{r as i,L as t}from"./chunk--CdJ9rTh.js";import{u as s}from"./chunk-DiCKXT8z.js";import{T as a}from"./chunk-CzMW7U9Y.js";import{a as n,C as o,h as r,B as d,d as c,e as l,f as m,m as p}from"../assets/index-4xq_U8Za.js";import{B as u}from"./chunk-dWvI_tCU.js";import{S as h,a as g,b as f,c as x,d as v}from"./chunk-C503eIeV.js";import{a6 as j,T as N,a_ as b,p as w,ac as y,y as S,ad as P,aN as T,x as k,A as C,b as A,at as E,U as z,B,an as I}from"./chunk-CIO6T0Sb.js";const _=()=>{const[_,D]=i.useState(""),[R,q]=i.useState("all"),[L,U]=i.useState([]);i.useState(!1);const{toast:$}=n(),{data:M}=s({queryKey:["/api/students"],queryFn:async()=>(await p("GET","/api/students")).json()}),O=[{id:"sensory",title:"Sensory Support",icon:e.jsx(E,{className:"h-5 w-5"}),description:"Evidence-based sensory accommodations",items:[{id:"noise-canceling",title:"Noise-Canceling Headphones",description:"Provide noise-canceling headphones for noisy environments",recommended:!0,advocateTip:"Specify decibel reduction and when to use",implementationNotes:"Trial period recommended to ensure student comfort"},{id:"sensory-breaks",title:"Sensory Breaks",description:"Regular breaks to sensory room or quiet space every 30 minutes",recommended:!0,advocateTip:"Document frequency and duration for data collection",implementationNotes:"Should be proactive, not reactive to behaviors"},{id:"fidget-tools",title:"Fidget Tools",description:"Allow use of fidget toys or stress balls during instruction",recommended:!1,advocateTip:"Specify silent, non-distracting fidget tools",implementationNotes:"Teach appropriate use and storage"},{id:"weighted-blanket",title:"Weighted Lap Pad",description:"Use of weighted lap pad for self-regulation during work time",recommended:!1,advocateTip:"Specify weight (10% of body weight) and duration",implementationNotes:"OT evaluation recommended for proper sizing"},{id:"lighting",title:"Lighting Adjustments",description:"Adjusted lighting or seating away from fluorescent lights",recommended:!1,advocateTip:"Document specific lighting triggers",implementationNotes:"May require physical classroom modifications"}]},{id:"communication",title:"Communication",icon:e.jsx(z,{className:"h-5 w-5"}),description:"Communication support strategies",items:[{id:"visual-schedules",title:"Visual Schedules",description:"Visual schedules and social stories for transitions",recommended:!0,advocateTip:"Include transition warnings and first/then boards",implementationNotes:"Update regularly, involve student in creation"},{id:"communication-device",title:"AAC Device",description:"Access to AAC device or picture cards for communication",recommended:!1,advocateTip:"Specify device type and communication goals",implementationNotes:"SLP assessment required, staff training needed"},{id:"peer-support",title:"Peer Support",description:"Structured peer interaction opportunities",recommended:!0,advocateTip:"Define specific social skills targets",implementationNotes:"Train peer mentors, provide adult supervision"},{id:"social-scripts",title:"Social Scripts",description:"Pre-written social scripts for common situations",recommended:!1,advocateTip:"Customize for individual's language level",implementationNotes:"Practice in natural settings, fade prompts"}]},{id:"academic",title:"Academic Support",icon:e.jsx(B,{className:"h-5 w-5"}),description:"Evidence-based academic accommodations",items:[{id:"extended-time",title:"Extended Time",description:"Extended time for assignments and tests (1.5x)",recommended:!0,advocateTip:"Specify conditions: assignments vs tests vs projects",implementationNotes:"Monitor for effectiveness, adjust as needed"},{id:"chunking",title:"Task Chunking",description:"Breaking assignments into smaller, manageable chunks",recommended:!0,advocateTip:"Define specific chunk sizes and completion criteria",implementationNotes:"Use visual organizers, check for understanding"},{id:"visual-supports",title:"Visual Supports",description:"Visual supports and graphic organizers for learning",recommended:!0,advocateTip:"Specify types: graphic organizers, visual cues, etc.",implementationNotes:"Train student to use independently"},{id:"repetition",title:"Repeated Instructions",description:"Repeated instructions and clarification as needed",recommended:!1,advocateTip:"Include processing time between repetitions",implementationNotes:"Use different modalities: verbal, visual, written"}]},{id:"social",title:"Social Support",icon:e.jsx(z,{className:"h-5 w-5"}),description:"Social skills development strategies",items:[{id:"social-skills-group",title:"Social Skills Group",description:"Participation in structured social skills group sessions",recommended:!0,advocateTip:"Specify group size, frequency, and skill targets",implementationNotes:"Use evidence-based curricula, collect data"},{id:"peer-buddy",title:"Peer Buddy System",description:"Assignment of peer buddy for social support",recommended:!0,advocateTip:"Define buddy responsibilities and training",implementationNotes:"Rotate buddies, provide ongoing support"},{id:"lunch-club",title:"Lunch Club",description:"Structured lunch club for social interaction practice",recommended:!1,advocateTip:"Include specific social goals and activities",implementationNotes:"Adult facilitation needed, structured activities"}]},{id:"behavioral",title:"Behavioral Support",icon:e.jsx(S,{className:"h-5 w-5"}),description:"Positive behavior intervention strategies",items:[{id:"behavior-plan",title:"Positive Behavior Support Plan",description:"Individualized positive behavior support plan",recommended:!0,advocateTip:"Include functional behavior assessment data",implementationNotes:"Train all staff, collect implementation data"},{id:"break-cards",title:"Break Request Cards",description:"Visual cards to request breaks when overwhelmed",recommended:!0,advocateTip:"Teach appropriate timing and usage",implementationNotes:"Honor all appropriate requests, fade prompts"},{id:"calm-down-space",title:"Calm Down Space",description:"Access to designated calm down space when needed",recommended:!1,advocateTip:"Define criteria for use and return conditions",implementationNotes:"Ensure space is calming, not isolating"}]},{id:"environmental",title:"Environmental",icon:e.jsx(I,{className:"h-5 w-5"}),description:"Environmental modifications and supports",items:[{id:"preferential-seating",title:"Preferential Seating",description:"Seating near teacher, away from distractions",recommended:!0,advocateTip:"Consider sensory preferences and peer interactions",implementationNotes:"May need to adjust based on activities"},{id:"quiet-space",title:"Access to Quiet Space",description:"Access to quiet space for work completion",recommended:!0,advocateTip:"Define when and how space can be accessed",implementationNotes:"Ensure space availability during needed times"},{id:"reduced-stimuli",title:"Reduced Environmental Stimuli",description:"Minimize visual and auditory distractions in workspace",recommended:!1,advocateTip:"Specify types of modifications needed",implementationNotes:"May require classroom arrangement changes"}]}],G="all"===R?O:O.filter(e=>e.id===R),V=async()=>{0!==L.length?$({title:"Plan Shared Successfully",description:"Accommodation plan sent to parent for review"}):$({title:"No accommodations selected",description:"Please add accommodations first",variant:"destructive"})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(a,{}),e.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Professional Autism Accommodation Builder"}),e.jsx("p",{className:"text-muted-foreground",children:"Create evidence-based accommodation plans for your clients with autism"})]})]})}),e.jsx(o,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-0",children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Client Selection"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{variant:"secondary",className:"bg-indigo-100 text-indigo-700",children:"Advocate Mode"}),!_&&e.jsx(u,{variant:"outline",className:"border-orange-300 text-orange-700",children:"Template Mode"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a client's child to create specific accommodations, or create a general template for future use."}),e.jsxs(h,{value:_,onValueChange:D,children:[e.jsx(g,{className:"max-w-md",children:e.jsx(f,{placeholder:"Select client's child..."})}),e.jsxs(x,{children:[e.jsx(v,{value:"template",children:"Create General Template"}),M?.map(i=>e.jsxs(v,{value:i.id,children:[i.full_name," - ",i.grade_level?`Grade ${i.grade_level}`:"No Grade"]},i.id))]})]}),_&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"🎯 Client Plan: This accommodation plan will be available for parent review and IEP meeting preparation."})})]})})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(d,{variant:"all"===R?"default":"outline",onClick:()=>q("all"),className:"rounded-full",children:"All Categories"}),O.map(i=>e.jsxs(d,{variant:R===i.id?"default":"outline",onClick:()=>q(i.id),className:"rounded-full",children:[e.jsx("span",{className:"mr-2",children:i.icon}),i.title]},i.id))]}),e.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[e.jsxs(d,{onClick:()=>{O.forEach(e=>{e.items.forEach(e=>{L.includes(e.id)||U(i=>[...i,e.id])})}),$({title:"Comprehensive Plan Created",description:"All available accommodations added for review"})},variant:"secondary",size:"sm",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Add All Evidence-Based"]}),e.jsxs(u,{variant:"secondary",className:"px-3 py-1 bg-purple-100 text-purple-700",children:[L.length," professional accommodations"]}),_&&e.jsxs(d,{onClick:V,variant:"outline",size:"sm",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Share with Parent"]})]}),e.jsx("div",{className:"grid gap-6",children:G.map(i=>e.jsxs(o,{className:"bg-gradient-card border-0",children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[i.icon,i.title]}),e.jsx(m,{children:i.description})]}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Evidence-Based Accommodations"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2",children:i.items.map(i=>e.jsxs("div",{className:"flex flex-col gap-3 p-4 rounded-lg bg-surface border border-border hover:border-primary/20 transition-colors",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h5",{className:"font-medium text-sm",children:i.title}),i.recommended&&e.jsx(u,{variant:"secondary",className:"text-xs bg-green-100 text-green-700",children:"✓ Evidence-Based"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.description}),i.advocateTip&&e.jsxs("div",{className:"text-xs text-indigo-700 bg-indigo-50 p-2 rounded border border-indigo-200",children:[e.jsx("strong",{children:"Professional Note:"})," ",i.advocateTip]}),i.implementationNotes&&e.jsxs("div",{className:"text-xs text-purple-700 bg-purple-50 p-2 rounded border border-purple-200",children:[e.jsx("strong",{children:"Implementation:"})," ",i.implementationNotes]})]}),e.jsx(d,{onClick:()=>(e=>{if(!L.includes(e)){U(i=>[...i,e]);const i=O.flatMap(e=>e.items).find(i=>i.id===e);$({title:"Accommodation Added",description:`${i?.title} added to client plan`})}})(i.id),disabled:L.includes(i.id),size:"sm",variant:L.includes(i.id)?"secondary":"default",className:"w-full","data-testid":`button-add-accommodation-${i.id}`,children:L.includes(i.id)?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Added to Plan"]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add to Professional Plan"]})})]},i.id))})]})})]},i.id))}),L.length>0&&e.jsxs(o,{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-0",children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Professional Accommodation Plan (",L.length," accommodations)"]}),e.jsx(m,{className:"text-white/80",children:"Ready for IEP meeting presentation and parent collaboration"})]}),e.jsx(r,{children:e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:L.map(i=>{const t=O.flatMap(e=>e.items).find(e=>e.id===i);return t?e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/10 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:t.title})]}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>{return e=i,void U(i=>i.filter(i=>i!==e));var e},className:"text-white/60 hover:text-white hover:bg-white/10",children:"Remove"})]},i):null})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsxs(d,{variant:"default",size:"lg",className:"w-full",disabled:0===L.length,onClick:async()=>{if(0!==L.length)try{const e=L.map(e=>{const i=O.flatMap(e=>e.items).find(i=>i.id===e);return i?{id:i.id,title:i.title,description:i.description,category:O.find(i=>i.items.some(i=>i.id===e))?.title||"Unknown",advocateTip:i.advocateTip,implementationNotes:i.implementationNotes}:null}).filter(Boolean),i=_&&"template"!==_&&M?.find(e=>e.id===_)?.full_name||"Template",t=`${i} - Professional Autism Accommodation Plan`,s={studentId:_||null,studentName:i,accommodations:e,createdDate:(new Date).toISOString(),createdBy:"advocate",isTemplate:!_,categories:O.map(e=>({id:e.id,title:e.title,description:e.description}))};await p("POST","/api/documents",{title:t,description:`Professional autism accommodation plan ${_?`for ${i}`:"(template)"} created on ${(new Date).toLocaleDateString()}`,file_name:`${t}.json`,file_path:`vault/advocate-accommodations/${Date.now()}-autism-accommodations`,file_type:"application/json",file_size:new Blob([JSON.stringify(s,null,2)]).size,category:"Professional Accommodation Plan",tags:["autism","accommodations","advocate","professional"],content:JSON.stringify(s,null,2),student_id:"template"===_?null:_});$({title:"Saved to Professional Vault",description:"Plan available for client sharing and future reference"})}catch(e){console.error("Error saving to vault:",e),$({title:"Error",description:"Failed to save to vault. Please try again.",variant:"destructive"})}else $({title:"No accommodations selected",description:"Please add accommodations first",variant:"destructive"})},children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Save to Vault"]}),e.jsxs(d,{variant:"hero",size:"lg",className:"w-full",disabled:0===L.length,onClick:async()=>{if(0!==L.length)try{const e=await p("POST","/api/autism_accommodations/generate-iep",{accommodation_ids:L,student_id:"template"===_?null:_,format:"formal"}),i=await e.json(),t=new Blob([i.iep_language],{type:"text/plain"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`${_?M?.find(e=>e.id===_)?.full_name||"Client":"Template"}-autism-accommodations-advocate-${(new Date).toISOString().split("T")[0]}.txt`,a.click(),URL.revokeObjectURL(s),$({title:"Professional IEP Language Generated",description:"Ready for IEP meeting presentation"})}catch(e){console.error("Error generating IEP language:",e),$({title:"Error",description:"Failed to generate IEP language. Please try again.",variant:"destructive"})}else $({title:"No accommodations selected",description:"Please add accommodations first",variant:"destructive"})},"data-testid":"button-generate-iep",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Generate IEP Language"]}),e.jsxs(d,{variant:"outline",size:"lg",className:"w-full",disabled:0===L.length,onClick:async()=>{if(0!==L.length)try{const e=await p("POST","/api/autism_accommodations/preview",{accommodation_ids:L,student_id:"template"===_?null:_,template_type:"iep"}),i=await e.json();console.log("Preview content:",i.preview),$({title:"Professional Preview Generated",description:"Ready for client review and IEP presentation"})}catch(e){console.error("Error generating preview:",e),$({title:"Error",description:"Failed to generate preview. Please try again.",variant:"destructive"})}else $({title:"No accommodations selected",description:"Please add accommodations first",variant:"destructive"})},"data-testid":"button-preview-document",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Professional Preview"]}),e.jsxs(d,{variant:"secondary",size:"lg",className:"w-full",disabled:0===L.length||!_,onClick:V,children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Share with Parent"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(d,{asChild:!0,variant:"outline",size:"lg",className:"min-w-48",children:e.jsxs(t,{to:"/advocate/dashboard-pro",children:["Back to Client Dashboard",e.jsx(C,{className:"h-4 w-4 ml-2"})]})})})]}),e.jsxs(o,{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-0",children:[e.jsx(c,{children:e.jsxs(l,{className:"text-lg flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-primary"}),"Professional Best Practices"]})}),e.jsxs(r,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"📊"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Data-driven decisions"})," - Use functional behavior assessments and academic evaluations to guide accommodation selection"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"🎯"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Specific implementation"})," - Include clear criteria for when, where, and how accommodations will be provided"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"📈"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Progress monitoring"})," - Establish measurable ways to track accommodation effectiveness"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"🤝"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Team collaboration"})," - Share accommodations with parents for home-school consistency"]})]})]})]}),e.jsx("div",{className:"flex justify-center pt-6 pb-4",children:e.jsx(d,{asChild:!0,variant:"ghost",size:"sm",children:e.jsxs(t,{to:"/advocate/tools",className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 rotate-180"}),"Back to Advocate Tools"]})})})]})})]})};export{_ as default};
