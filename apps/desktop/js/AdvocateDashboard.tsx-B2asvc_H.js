import{j as e}from"./chunk-DsWtD-um.js";import{r as t,d as a,L as s}from"./chunk--CdJ9rTh.js";import{u as r,c as n}from"./chunk-DiCKXT8z.js";import{M as i,C as l,P as c,a as d}from"./chunk-BCnyNuml.js";import{S as o}from"./chunk-_ehLlnDZ.js";import{P as m}from"./chunk-AZ65KXW4.js";import{k as g,C as x,d as u,e as h,f as p,h as f,B as j,l as y,c as N,u as b,a as v,n as w,m as k,q as _}from"../assets/index-BO9uTDme.js";import{D as $,a as A,b as S,c as P,d as C}from"./chunk-Bjjg2cVV.js";import{B as q}from"./chunk-qxwVooB6.js";import{ag as F,b as E,p as U,r as M,A as T,Z as I,a2 as D,ah as B,ai as L,M as z,V as K,a6 as R,ab as V,aa as O,T as Q,aj as W,a8 as Y,y as G,U as H,G as Z,ak as J,m as X,al as ee,a4 as te,C as ae,ac as se}from"./chunk-CIO6T0Sb.js";function re({requiredFeature:a,requiredPlan:s,children:r,fallback:n,showUpgradePrompt:i=!0,upgradeBenefits:l=[],className:c="","data-testid":d=`feature-gate-${a}`}){const[o,m]=t.useState(!1),{canUse:N,needsUpgrade:b,requiredPlanFor:v,currentPlan:w,user:k}=g(),_=N(a);b(a);const D=s||v(a);if(_)return e.jsx("div",{"data-testid":d,className:c,children:r});if(n)return e.jsx("div",{"data-testid":`${d}-fallback`,className:c,children:n});if(!i)return null;const B=t=>{switch(t){case"agency-plus":return e.jsx(M,{className:"h-5 w-5 text-orange-500"});case"agency":return e.jsx(E,{className:"h-5 w-5 text-purple-500"});case"pro":return e.jsx(I,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(T,{className:"h-5 w-5 text-green-500"})}},L=e=>{switch(e){case"agency-plus":return"from-orange-500 to-pink-500";case"agency":return"from-purple-500 to-indigo-500";case"pro":return"from-blue-500 to-cyan-500";default:return"from-green-500 to-blue-500"}},z=e=>{switch(e){case"starter":return"Starter";case"pro":default:return"Pro";case"agency":return"Agency";case"agency-plus":return"Agency Plus"}},K=async()=>{const e="advocate"===k?.role?`/advocate/pricing?highlight=${D}`:`/parent/pricing?highlight=${D}`;window.location.replace(e)},R=[`Access to ${a.replace(/([A-Z])/g," $1").toLowerCase()}`,"Priority customer support","Advanced analytics and reporting","Enhanced security features"],V=l.length>0?l:R;return e.jsxs(e.Fragment,{children:[e.jsxs(x,{"data-testid":`${d}-upgrade-prompt`,className:`border-2 border-dashed border-muted-foreground/30 bg-gradient-to-br from-muted/20 to-muted/10 ${c}`,children:[e.jsxs(u,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:B(D)}),e.jsxs(h,{className:"text-xl mb-2 flex items-center justify-center gap-2",children:[e.jsx(F,{className:"h-5 w-5 text-muted-foreground"}),"Feature Locked"]}),e.jsxs(p,{className:"text-base",children:["This feature requires",e.jsx(q,{className:`ml-2 bg-gradient-to-r ${L(D)} text-white font-semibold`,children:z(D)})," ","access or higher"]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Current plan: ",e.jsx("span",{className:"font-medium",children:z(w)})]})]}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-primary"}),"Unlock Premium Benefits:"]}),e.jsx("ul",{className:"space-y-2",children:V.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground",children:[e.jsx(U,{className:"h-3 w-3 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:t})]},a))})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(j,{onClick:K,className:`flex-1 bg-gradient-to-r ${L(D)} hover:opacity-90 text-white font-medium`,"data-testid":`${d}-upgrade-button`,children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),y.isNativePlatform()?"Visit Website to Upgrade":`Upgrade to ${z(D)}`]}),e.jsx(j,{variant:"outline",size:"sm",onClick:()=>m(!0),"data-testid":`${d}-learn-more-button`,children:"Learn More"})]})]})})]}),e.jsx($,{open:o,onOpenChange:m,children:e.jsxs(A,{className:"max-w-md",children:[e.jsxs(S,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[B(D),"Upgrade to ",z(D)]}),e.jsx(C,{children:"Unlock advanced features and capabilities for professional advocacy work."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"What you'll get:"}),e.jsx("ul",{className:"space-y-2",children:V.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(U,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:t})]},a))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{onClick:K,className:`flex-1 bg-gradient-to-r ${L(D)} hover:opacity-90 text-white`,children:y.isNativePlatform()?"Visit Website to Upgrade":"Upgrade Now"}),e.jsx(j,{variant:"outline",onClick:()=>m(!1),children:"Maybe Later"})]})]})]})})]})}function ne({requiredFeature:a,requiredPlan:s,onUnlockedClick:r,lockedText:n,unlockedText:i,upgradeBenefits:l=[],children:c,className:d,variant:o="default",size:m="default","data-testid":x=`locked-action-${a}`,...u}){const[h,p]=t.useState(!1),{canUse:f,needsUpgrade:b,requiredPlanFor:v,currentPlan:w,user:k}=g(),_=f(a);b(a);const D=s||v(a),B=e=>{switch(e){case"agency-plus":return"from-orange-500 to-pink-500";case"agency":return"from-purple-500 to-indigo-500";case"pro":return"from-blue-500 to-cyan-500";default:return"from-green-500 to-blue-500"}},L=e=>{switch(e){case"starter":return"Starter";case"pro":default:return"Pro";case"agency":return"Agency";case"agency-plus":return"Agency Plus"}},z=[`Full access to ${a.replace(/([A-Z])/g," $1").toLowerCase()}`,"Priority customer support","Advanced features and integrations","Enhanced security and compliance"],K=l.length>0?l:z;return _?e.jsx(j,{...u,variant:o,size:m,className:d,onClick:r,"data-testid":`${x}-unlocked`,children:c||i||"Continue"}):e.jsxs(e.Fragment,{children:[e.jsxs(j,{...u,variant:"outline",size:m,className:N("border-dashed border-muted-foreground/50 bg-muted/10 text-muted-foreground hover:bg-muted/20 hover:text-muted-foreground hover:border-muted-foreground/70",d),onClick:()=>{_&&r?r():p(!0)},"data-testid":`${x}-locked`,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),c||n||`Requires ${L(D)}`]}),e.jsx($,{open:h,onOpenChange:p,children:e.jsxs(A,{className:"max-w-md",children:[e.jsxs(S,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[(t=>{switch(t){case"agency-plus":return e.jsx(M,{className:"h-4 w-4"});case"agency":return e.jsx(E,{className:"h-4 w-4"});case"pro":return e.jsx(I,{className:"h-4 w-4"});default:return e.jsx(T,{className:"h-4 w-4"})}})(D),"Upgrade Required"]}),e.jsxs(C,{children:["This action requires",e.jsx(q,{className:`ml-1 mr-1 bg-gradient-to-r ${B(D)} text-white font-semibold`,children:L(D)}),"access or higher."]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Your current plan: ",e.jsx("span",{className:"font-medium",children:L(w)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-primary"}),"Upgrade Benefits:"]}),e.jsx("ul",{className:"space-y-2",children:K.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(U,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:t})]},a))})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(j,{onClick:async()=>{const e="advocate"===k?.role?`/advocate/pricing?highlight=${D}`:`/parent/pricing?highlight=${D}`;window.location.replace(e)},className:`flex-1 bg-gradient-to-r ${B(D)} hover:opacity-90 text-white font-medium`,children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),y.isNativePlatform()?"Visit Website to Upgrade":`Upgrade to ${L(D)}`]}),e.jsx(j,{variant:"outline",onClick:()=>p(!1),children:"Cancel"})]}),e.jsx("div",{className:"text-xs text-center text-muted-foreground mt-3",children:"â€¢ No long-term contracts â€¢ Cancel anytime â€¢ 30-day money back guarantee"})]})]})]})})]})}const ie=({plan:u})=>{const{user:h}=b(),{toast:p}=v();g();const y=a(),N=w(h?.subscriptionPlan),$="agency-plus"!==N;t.useEffect(()=>{const e=localStorage.getItem("pendingSubscription");if(e&&h)try{const t=JSON.parse(e);localStorage.removeItem("pendingSubscription");const a=new URLSearchParams({plan:t.planId,role:t.role,priceId:t.priceId,planName:t.planName,amount:t.amount||"0"});p({title:"Resuming Subscription",description:`Continuing with ${t.planName} plan setup...`}),setTimeout(()=>{window.location.replace(`/subscription-setup?${a.toString()}`)},1500)}catch(t){console.error("Error parsing pending subscription:",t),localStorage.removeItem("pendingSubscription")}},[h,p]);const{data:A=[],isLoading:S}=r({queryKey:["/api/students"],enabled:!!h}),{data:P=[],isLoading:C}=r({queryKey:["/api/cases"],enabled:!!h}),{data:F=[],isLoading:E}=r({queryKey:["/api/parents"],enabled:!!h}),{data:U=[],isLoading:ie}=r({queryKey:["/api/messaging/conversations"],enabled:!!h}),{data:le=[],isLoading:ce}=r({queryKey:["/api/goals"],enabled:!!h}),{data:de,isLoading:oe}=r({queryKey:["/api/match/pending-assignments"],enabled:!!h,refetchInterval:3e4,staleTime:1e4}),me=de?.assignments||[],ge=S||C||E||ie||oe||ce,xe=n({mutationFn:async({proposalId:e})=>{const t=await k("POST",`/api/match/${e}/accept`);if(!t.ok)throw new Error("Failed to accept proposal");return t.json()},onSuccess:(e,{proposalId:t})=>{_.invalidateQueries({queryKey:["/api/match/pending-assignments"]}),_.invalidateQueries({queryKey:["/api/cases"]}),_.invalidateQueries({queryKey:["/api/students"]}),_.invalidateQueries({queryKey:["/api/parents"]}),_.refetchQueries({queryKey:["/api/match/pending-assignments"]})},onError:e=>{console.error("Error accepting proposal:",e),p({title:"Error",description:"Failed to accept the case. Please try again.",variant:"destructive"})}}),ue=n({mutationFn:async({proposalId:e})=>{const t=await k("POST",`/api/match/${e}/decline`,{reason:"Declined via dashboard"});if(!t.ok)throw new Error("Failed to decline proposal");return t.json()},onSuccess:(e,{proposalId:t})=>{_.invalidateQueries({queryKey:["/api/match/pending-assignments"]}),_.refetchQueries({queryKey:["/api/match/pending-assignments"]})},onError:e=>{console.error("Error declining proposal:",e),p({title:"Error",description:"Failed to decline the case. Please try again.",variant:"destructive"})}}),he=P.filter(e=>"active"===e.status||"open"===e.status),pe=me.length,fe=le.filter(e=>"completed"===e.status||"achieved"===e.status||"met"===e.status),[je,ye]=t.useState([]);xe.isPending||ue.isPending,t.useState(!1),he.filter(e=>"high"===e.urgency||"urgent"===e.urgency),t.useEffect(()=>{(async()=>{if(h)try{const e=localStorage.getItem("authToken"),t=await fetch("/api/meetings",{credentials:"include",headers:{Authorization:e?`Bearer ${e}`:""}});if(t.ok){const e=await t.json(),a=(new Date).toISOString().split("T")[0],s=e.filter(e=>e.scheduled_date>=a&&("scheduled"===e.status||"confirmed"===e.status));ye(s)}}catch(e){console.error("Error fetching meetings:",e)}})()},[h]);const Ne=(e,t=[])=>{if(e?.parentFirstName&&e?.parentLastName){const t=e.parentFirstName.trim(),a=e.parentLastName.trim();if(t&&a)return`${t} ${a}`}if(e?.parent_full_name&&e.parent_full_name.trim())return e.parent_full_name;if(e?.parentFullName&&e.parentFullName.trim())return e.parentFullName;if(e?.parent_name&&e.parent_name.trim())return e.parent_name;if(e?.parentName&&e.parentName.trim())return e.parentName;if(e?.participant_name&&e.participant_name.trim())return e.participant_name;if(e?.parentId&&Array.isArray(t)&&t.length>0){const a=t.find(t=>t?.id===e.parentId);if(a?.full_name&&a.full_name.trim())return a.full_name;if(a?.parent_name&&a.parent_name.trim())return a.parent_name;if(a?.firstName&&a?.lastName){const e=a.firstName.trim(),t=a.lastName.trim();if(e&&t)return`${e} ${t}`}}if(e?.parentEmail&&e.parentEmail.trim()){const t=e.parentEmail.trim().split("@")[0];if(t&&"undefined"!==t&&"null"!==t)return t.replace(/[._-]/g," ").replace(/\b\w/g,e=>e.toUpperCase())}if(e?.title&&e.title.includes("with ")){const t=e.title.split("with ");if(t.length>1){const e=t[t.length-1].trim();if(e&&"undefined"!==e&&"null"!==e)return e}}return"Parent"},be=e=>{const t=new Date,a=Math.floor((t.getTime()-e.getTime())/6e4);if(a<60)return a<=1?"Just now":`${a} minutes ago`;const s=Math.floor(a/60);if(s<24)return`${s} hour${s>1?"s":""} ago`;const r=Math.floor(s/24);return r<7?`${r} day${r>1?"s":""} ago`:e.toLocaleDateString()},ve=(()=>{const e=[],t=Array.isArray(he)?he:[];t.length>0&&t.forEach((t,a)=>{const s=t?.created_at?new Date(t.created_at):new Date,r=((e,t=[])=>{if(e?.student){if("object"==typeof e.student&&e.student.full_name)return e.student.full_name;if("string"==typeof e.student&&e.student.trim())return e.student}if(e?.student_full_name&&e.student_full_name.trim())return e.student_full_name;if(e?.student_name&&e.student_name.trim())return e.student_name;if(e?.studentName&&e.studentName.trim())return e.studentName;if(e?.student_first_name&&e?.student_last_name){const t=e.student_first_name.trim(),a=e.student_last_name.trim();if(t&&a)return`${t} ${a}`}if(e?.case_title&&e.case_title.includes("IEP Support for")){const t=e.case_title.split("IEP Support for ");if(t.length>1){const e=t[1].trim();if(e&&"undefined"!==e&&"null"!==e)return e}}if(e?.case_title&&e.case_title.includes("for ")){const t=e.case_title.split("for ");if(t.length>1){const e=t[t.length-1].trim();if(e&&"undefined"!==e&&"null"!==e)return e}}if(e?.student_id&&Array.isArray(t)&&t.length>0){const a=t.find(t=>t?.id===e.student_id);if(a?.full_name&&a.full_name.trim())return a.full_name;if(a?.student_name&&a.student_name.trim())return a.student_name}return e?.case_title&&e.case_title.trim()?e.case_title.replace(/^(Case|Support|IEP|Help)\s*(for|with)?\s*/i,"").trim():e?.title&&e.title.trim()?e.title.replace(/^(Case|Support|IEP|Help)\s*(for|with)?\s*/i,"").trim():"Student (Name Pending)"})(t,A);e.push({id:`case-${t?.id||a}`,type:"case",title:`Active case: ${r}`,description:t?.case_type?`${t.case_type} - ${t?.next_action||"Ongoing advocacy"}`:`Parent: ${t?.parent_first_name&&t?.parent_last_name?`${t.parent_first_name} ${t.parent_last_name}`:t?.parent_email||"Unknown"}`,timestamp:s,icon:R,color:"high"===t?.priority||"urgent"===t?.priority?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400":"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400",link:"/advocate/parents"})});const a=Array.isArray(me)?me:me?.assignments&&Array.isArray(me.assignments)?me.assignments:[];a.length>0&&a.forEach((t,a)=>{const s=t?.created_at?new Date(t.created_at):new Date;e.push({id:`pending-${t?.id||a}`,type:"assignment",title:`New client match: ${t?.student_name||"Student"}`,description:`Match score: ${t?.match_score||"N/A"}% - Awaiting your response`,timestamp:s,icon:K,color:"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400",link:"/advocate/matching"})});const s=Array.isArray(je)?je:[];s.length>0&&s.slice(0,3).forEach((t,a)=>{const s=t?.scheduled_date?new Date(t.scheduled_date):new Date;e.push({id:`meeting-${t?.id||a}`,type:"meeting",title:`Upcoming: ${t?.title||"Meeting"}`,description:`${t?.type||"Meeting"} scheduled${t?.attendees?` (${t.attendees} attendees)`:""}`,timestamp:s,icon:O,color:"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400",link:"/advocate/schedule"})});const r=Array.isArray(U)?U:[];r.length>0&&r.slice(0,2).forEach((t,a)=>{const s=t?.updated_at?new Date(t.updated_at):t?.created_at?new Date(t.created_at):new Date;e.push({id:`conversation-${t?.id||a}`,type:"message",title:`Message from ${Ne(t,F)}`,description:t?.last_message?t.last_message.length>60?`${t.last_message.substring(0,60)}...`:t.last_message:"New conversation started",timestamp:s,icon:z,color:"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400",link:"/advocate/messages"})});const n=Array.isArray(fe)?fe:[];return n.length>0&&n.slice(0,2).forEach((t,a)=>{const s=t?.completed_at?new Date(t.completed_at):t?.updated_at?new Date(t.updated_at):new Date;let r="Student";if(t?.student_name)r=t.student_name;else if(t?.student_id&&A){const e=A.find(e=>e?.id===t.student_id);e?.full_name&&(r=e.full_name)}e.push({id:`goal-${t?.id||a}`,type:"goal",title:`Goal achieved: ${t?.title||r+" goal"}`,description:t?.description||`Successfully completed advocacy goal for ${r}`,timestamp:s,icon:Q,color:"bg-emerald-100 dark:bg-emerald-900 text-emerald-600 dark:text-emerald-400",link:"/advocate/students"})}),e.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()).slice(0,8)})();return e.jsxs(i,{children:[e.jsx(m,{title:`Welcome back, ${h?.firstName||"Advocate"}`,subtitle:"Your advocacy dashboard"}),e.jsxs(o,{className:"space-y-6",children:[e.jsx("div",{className:"fixed top-20 right-4 z-50 bg-green-500 text-white p-4 rounded-lg shadow-lg font-bold",children:"ðŸ“± MOBILE VERSION TEST"}),e.jsx(l,{children:e.jsxs(c,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(D,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Ready to advocate"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Your command center"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full text-xs font-medium",children:[e.jsx(B,{className:"h-3 w-3"}),u?`${u.charAt(0).toUpperCase()+u.slice(1)} Plan`:"Active Plan"]}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full text-xs font-medium",children:[e.jsx(L,{className:"h-3 w-3"}),"Active Today"]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[e.jsx(re,{requiredFeature:"advocateMessaging",showUpgradePrompt:!1,fallback:e.jsxs(ne,{requiredFeature:"advocateMessaging",variant:"outline",size:"sm",className:"bg-white/80 backdrop-blur-sm hover:bg-white min-h-[44px] text-sm sm:text-base w-full sm:w-auto","data-testid":"quick-messages-locked",upgradeBenefits:["Direct messaging with parents and families","Secure communication tracking","Message templates and automation","Professional correspondence tools"],children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Messages"]}),children:e.jsx(j,{asChild:!0,variant:"outline",size:"sm",className:"bg-white/80 backdrop-blur-sm hover:bg-white min-h-[44px] text-sm sm:text-base w-full sm:w-auto",children:e.jsxs(s,{to:"/advocate/messages","data-testid":"quick-messages",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Messages",U.length>0&&e.jsx(q,{className:"ml-2 bg-red-500 text-white",children:U.length})]})})}),e.jsx(re,{requiredFeature:"professionalAnalysis",showUpgradePrompt:!1,fallback:e.jsxs(ne,{requiredFeature:"professionalAnalysis",size:"sm",className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 min-h-[44px] text-sm sm:text-base w-full sm:w-auto","data-testid":"quick-tools-locked",upgradeBenefits:["Full access to 25+ professional tools","IEP review and analysis tools","Smart letter generation","Meeting preparation wizards","Professional advocacy reports"],children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Access Tools"]}),children:e.jsx(j,{asChild:!0,size:"sm",className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 min-h-[44px] text-sm sm:text-base w-full sm:w-auto",children:e.jsxs(s,{to:"/advocate/tools","data-testid":"quick-tools",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Access Tools"]})})})]})]})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(c,{variant:"glass",className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 flex items-center justify-center",children:e.jsx(K,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),pe>0&&e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300",children:"Urgent"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100","data-testid":"stat-pending-assignments",children:ge?"...":pe}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Pending Matches"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Awaiting response"})]})]}),e.jsxs(c,{variant:"glass",className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 flex items-center justify-center",children:e.jsx(R,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),he.length>0&&e.jsx("div",{className:"ml-auto",children:e.jsx(V,{className:"h-4 w-4 text-green-500"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:ge?"...":he.length}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Active Cases"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Currently advocating"})]})]}),e.jsx(re,{requiredFeature:"meetingScheduler",upgradeBenefits:["Schedule and manage client meetings","Automated meeting reminders","Calendar integration","Meeting templates and agendas"],"data-testid":"stat-meetings-gate",children:e.jsxs(c,{variant:"glass",className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 flex items-center justify-center",children:e.jsx(O,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),je.length>0&&e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300",children:"Scheduled"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100","data-testid":"stat-meetings-count",children:ge?"...":je.length}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"This Week"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Upcoming meetings"})]})]})}),e.jsx(re,{requiredFeature:"goalManagement",upgradeBenefits:["Set and track advocacy goals","Goal templates and recommendations","Progress tracking and analytics","Achievement reports and insights"],"data-testid":"stat-goals-gate",children:e.jsxs(c,{variant:"glass",className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 flex items-center justify-center",children:e.jsx(Q,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),fe.length>0&&e.jsx("div",{className:"ml-auto",children:e.jsx(W,{className:"h-4 w-4 text-yellow-500"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100","data-testid":"stat-goals-count",children:ge?"...":fe.length}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Goals Achieved"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total completed"})]})]})})]})}),$&&e.jsx(l,{children:e.jsx(c,{variant:"gradient",className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6 sm:gap-8",children:[e.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:e.jsx(Y,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs(q,{variant:"secondary",className:"bg-white/20 text-white border-white/30 font-semibold text-xs sm:text-sm",children:["starter"===N?"Starter Plan":`${N.charAt(0).toUpperCase()+N.slice(1)} Plan`," Active"]})]}),e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-3",children:"ðŸš€ Unlock Advanced Advocacy Tools"}),e.jsx("p",{className:"text-white/90 mb-4 sm:mb-6 text-sm sm:text-base md:text-lg",children:"Scale your practice with AI-powered analytics, premium client management, and advanced reporting tools."}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap justify-center lg:justify-start gap-3 sm:gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-300"}),e.jsx("span",{className:"font-medium",children:"Advanced Case Analytics"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-300"}),e.jsx("span",{className:"font-medium",children:"Team Collaboration Tools"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-300"}),e.jsx("span",{className:"font-medium",children:"Professional Reporting Suite"})]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 w-full sm:min-w-[280px] lg:w-auto",children:e.jsxs(j,{onClick:e=>{e.preventDefault(),e.stopPropagation();try{y("/advocate/pricing")}catch(t){console.error("Navigation error:",t),window.location.replace("/advocate/pricing")}},size:"lg",className:"bg-white text-indigo-600 hover:bg-white/90 font-bold text-base sm:text-lg py-4 px-6 sm:px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 min-h-[48px] w-full","data-testid":"button-advocate-upgrade",children:[e.jsx(M,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Upgrade Plan"]})})]})})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Quick Access"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access all your advocacy tools"})]}),ge?e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((t,a)=>e.jsxs(c,{variant:"glass",className:"p-4 animate-pulse",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-xl"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-20"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-16"}),e.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-12"})]})]},a))}):e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{icon:e.jsx(H,{className:"h-5 w-5"}),title:"Parent Clients",description:"Manage client relationships",badge:`${F.length} clients`,onClick:()=>y("/advocate/parents"),"data-testid":"card-parent-clients"}),e.jsx(d,{icon:e.jsx(Z,{className:"h-5 w-5"}),title:"Client Students",description:"View and manage cases",badge:`${A.length} students`,onClick:()=>y("/advocate/students"),"data-testid":"card-client-students"}),e.jsx(re,{requiredFeature:"meetingScheduler",upgradeBenefits:["Schedule and manage client meetings","Automated meeting reminders","Calendar integration and sync","Meeting templates and agendas"],"data-testid":"card-schedule-gate",children:e.jsx(d,{icon:e.jsx(O,{className:"h-5 w-5"}),title:"Schedule",description:"Manage appointments",badge:`${je.length} upcoming`,onClick:()=>y("/advocate/schedule"),"data-testid":"card-schedule"})}),e.jsx(re,{requiredFeature:"caseMatching",upgradeBenefits:["Advanced client matching algorithms","Case proposal management","Client compatibility scoring","Automated match notifications"],"data-testid":"card-client-matching-gate",children:e.jsx(x,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-950/50 dark:to-pink-950/50 hover:scale-105","data-testid":"card-client-matching",children:e.jsx(s,{to:"/advocate/matching",className:"block",children:e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-100 dark:bg-rose-900 rounded-xl flex items-center justify-center group-hover:bg-rose-200 dark:group-hover:bg-rose-800 transition-colors",children:e.jsx(J,{className:"h-6 w-6 text-rose-600 dark:text-rose-400"})}),e.jsx(T,{className:"h-5 w-5 text-gray-400 group-hover:text-rose-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-900 dark:text-gray-100",children:"Client Matching"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Review matched client requests"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:pe}),e.jsx("span",{className:"text-sm text-gray-500",children:"pending"}),pe>0&&e.jsx(q,{variant:"destructive",className:"bg-red-500",children:"New"})]})]})})})}),e.jsx(x,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/50 dark:to-pink-950/50 hover:scale-105","data-testid":"card-tools-hub",children:e.jsx(s,{to:"/advocate/tools",className:"block",children:e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-xl flex items-center justify-center group-hover:bg-purple-200 dark:group-hover:bg-purple-800 transition-colors",children:e.jsx(X,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),e.jsx(T,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-900 dark:text-gray-100",children:"Tools Hub"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Advocacy tools & resources"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(q,{variant:"outline",className:"text-purple-700 border-purple-300",children:"25+ Tools"})})]})})}),e.jsx(re,{requiredFeature:"documentVault",upgradeBenefits:["Secure document storage and sharing","Client file organization","Version control and history","Secure parent access sharing"],"data-testid":"card-document-vault-gate",children:e.jsx(x,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-950/50 dark:to-red-950/50 hover:scale-105","data-testid":"card-document-vault",children:e.jsx(s,{to:"/tools/document-vault",className:"block",children:e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900 rounded-xl flex items-center justify-center group-hover:bg-orange-200 dark:group-hover:bg-orange-800 transition-colors",children:e.jsx(ee,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsx(T,{className:"h-5 w-5 text-gray-400 group-hover:text-orange-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-900 dark:text-gray-100",children:"Document Vault"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Secure document storage & sharing"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(q,{variant:"outline",className:"text-orange-700 border-orange-300",children:"Secure"})})]})})})}),e.jsx(re,{requiredFeature:"advocateMessaging",upgradeBenefits:["Direct messaging with parents and families","Secure communication tracking","Message templates and automation","Professional correspondence tools"],"data-testid":"card-messages-gate",children:e.jsx(x,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-950/50 dark:to-blue-950/50 hover:scale-105","data-testid":"card-messages",children:e.jsx(s,{to:"/advocate/messages",className:"block",children:e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900 rounded-xl flex items-center justify-center group-hover:bg-indigo-200 dark:group-hover:bg-indigo-800 transition-colors",children:e.jsx(te,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),e.jsx(T,{className:"h-5 w-5 text-gray-400 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-900 dark:text-gray-100",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Secure client communication"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(q,{variant:"outline",className:"text-indigo-700 border-indigo-300",children:"Secure"})})]})})})}),e.jsx(re,{requiredFeature:"advocacyReports",upgradeBenefits:["Advanced analytics and reporting","Success metrics tracking","Client outcome analysis","Professional report generation"],"data-testid":"card-analytics-gate",children:e.jsx(d,{icon:e.jsx(ae,{className:"h-5 w-5"}),title:"Analytics",description:"Track success metrics",badge:"Pro Features",onClick:()=>y("/advocate/reports"),"data-testid":"card-analytics"})})]})]})}),e.jsx(l,{children:e.jsx(re,{requiredFeature:"caseAnalytics",upgradeBenefits:["Advanced activity tracking and analytics","Detailed case progress monitoring","Client interaction insights","Performance metrics and trends"],"data-testid":"activity-feed-gate",children:e.jsx(c,{variant:"glass",className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recent Activity"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your latest advocacy activities"}),ve.length>0?e.jsx("div",{className:"space-y-3",children:ve.map(t=>{const a=t.icon;return e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all duration-200 cursor-pointer","data-testid":`activity-${t.type}-${t.id}`,onClick:()=>t.link&&window.location.replace(t.link),children:[e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${t.color}`,children:e.jsx(a,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100","data-testid":`activity-title-${t.id}`,children:t.title}),t.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1","data-testid":`activity-description-${t.id}`,children:t.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1","data-testid":`activity-time-${t.id}`,children:be(t.timestamp)})]}),t.link&&e.jsx(T,{className:"h-4 w-4 text-gray-400"})]},t.id)})}):e.jsxs("div",{className:"text-center py-8 bg-white/50 dark:bg-gray-800/50 rounded-xl",children:[e.jsxs("div",{className:"text-muted-foreground mb-4",children:[e.jsx(L,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No recent activity"}),e.jsx("p",{className:"text-sm",children:"Your advocacy activities will appear here"})]}),e.jsx(j,{asChild:!0,variant:"outline","data-testid":"start-activity",children:e.jsxs(s,{to:"/advocate/matching",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Start Your First Case"]})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200/20 dark:border-gray-700/20",children:e.jsx(j,{variant:"outline",size:"sm",className:"w-full min-h-[44px] hover:bg-blue-50 dark:hover:bg-blue-900 rounded-xl",asChild:!0,"data-testid":"view-all-activity",children:e.jsxs(s,{to:"/advocate/activity",children:["View All Activity",e.jsx(T,{className:"h-4 w-4 ml-2"})]})})})]})})})})]})]})};export{ie as default};
