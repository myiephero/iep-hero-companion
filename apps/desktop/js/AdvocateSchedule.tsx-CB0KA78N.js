import{j as e}from"./chunk-DsWtD-um.js";import{M as s,C as a,P as t}from"./chunk-CQUO3auH.js";import{B as r,c as l}from"../assets/index-4xq_U8Za.js";import{S as d}from"./chunk-BzrD7sQf.js";import{P as i}from"./chunk-Cxh3gN0V.js";import"./chunk-DtPYXc3G.js";import{d as n,r as c}from"./chunk--CdJ9rTh.js";import{B as x}from"./chunk-dWvI_tCU.js";import{aA as m,ac as o,a9 as g,ab as h,aa as u,Y as b,aI as j,aO as y,o as f,aP as N,U as p}from"./chunk-CIO6T0Sb.js";import"./chunk-DiCKXT8z.js";function k(){const k=n(),[v,w]=c.useState([]),[S,_]=c.useState(!0);c.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("authToken"),s=await fetch("/api/meetings",{credentials:"include",headers:{Authorization:e?`Bearer ${e}`:""}});if(s.ok){const e=await s.json();w(e||[])}else console.error("Failed to fetch meetings:",s.status),w([])}catch(e){console.error("Error fetching meetings:",e),w([])}finally{_(!1)}})()},[]);const M=(new Date).toISOString().split("T")[0],T=v.filter(e=>e.scheduled_date>=M&&("scheduled"===e.status||"confirmed"===e.status));return e.jsx(s,{children:e.jsxs(d,{children:[e.jsx(i,{title:"Schedule",subtitle:"Manage your meetings and appointments",rightAction:e.jsx(r,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full",children:e.jsx(m,{className:"h-5 w-5"})})}),e.jsxs(a,{padding:"md",className:"space-y-8 pb-32",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(t,{variant:"gradient",className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(o,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Schedule Meeting"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Book your next client appointment"})]})]})}),e.jsxs(r,{onClick:()=>k("/advocate/schedule/new"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium","data-testid":"button-schedule-meeting",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Schedule"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(t,{variant:"elevated",className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 flex items-center justify-center",children:e.jsx(g,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:v.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Meetings"})]})]}),e.jsxs(t,{variant:"elevated",className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 flex items-center justify-center",children:e.jsx(h,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This Week"})]})]})]})]}),e.jsxs(t,{variant:"glass",className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Upcoming Meetings"}),e.jsxs(x,{variant:"secondary",className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",children:[T.length," upcoming"]})]}),S?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full mx-auto"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading meetings..."})]})}):T.length>0?e.jsx("div",{className:"space-y-4",children:T.map(s=>e.jsx(t,{variant:"interactive",className:"p-5",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100 leading-tight",children:s.title}),e.jsx(x,{variant:"confirmed"===s.status?"default":"secondary",className:l("ml-3 font-medium","confirmed"===s.status?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300"),children:s.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:e.jsx(u,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-medium",children:s.scheduled_date})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:e.jsx(b,{className:"h-4 w-4"})}),e.jsxs("span",{className:"font-medium",children:[s.start_time," - ",s.end_time]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:"video_call"===s.meeting_type?e.jsx(j,{className:"h-4 w-4"}):e.jsx(y,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-medium",children:s.location||"TBD"})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx(x,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",children:s.meeting_type?.replace("_"," ")||"Meeting"})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(r,{variant:"outline",size:"sm",className:"flex-1 h-11 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"View Details"}),e.jsx(r,{variant:"ghost",size:"sm",className:"flex-1 h-11 hover:bg-gray-100 dark:hover:bg-gray-800",children:"Reschedule"})]})]}),e.jsx(f,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mt-2 ml-3"})]})},s.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-24 h-24 mx-auto rounded-3xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center",children:e.jsx(N,{className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx(o,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})]}),e.jsxs("div",{className:"space-y-4 max-w-sm mx-auto",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"No Meetings Scheduled"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 leading-relaxed",children:"Your calendar is clear. Ready to schedule your first meeting with a client family?"}),e.jsxs(r,{onClick:()=>k("/advocate/schedule/new"),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-8 py-3 rounded-xl font-medium shadow-lg shadow-blue-600/25","data-testid":"button-schedule-first-meeting",children:[e.jsx(o,{className:"h-5 w-5 mr-2"}),"Schedule Your First Meeting"]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{variant:"elevated",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 flex items-center justify-center",children:e.jsx(p,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Today's Focus"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Your priorities for today"})]})]}),e.jsx("div",{className:"text-center py-8 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-xl",children:e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"No tasks scheduled for today"}),e.jsx("p",{className:"text-xs",children:"Tasks will appear here as you schedule meetings"})]})})]}),e.jsxs(t,{variant:"glass",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 flex items-center justify-center",children:e.jsx(h,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Weekly Insights"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Meeting analytics for this week"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-white/20 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:e.jsx(p,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Total Meetings"})]}),e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:v.length})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-white/20 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center",children:e.jsx(g,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"IEP Reviews"})]}),e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:v.filter(e=>"iep_review"===e.meeting_type).length})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-white/20 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center",children:e.jsx(j,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Consultations"})]}),e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:v.filter(e=>"consultation"===e.meeting_type).length})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border border-blue-200/50 dark:border-blue-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-200 dark:bg-blue-800 flex items-center justify-center",children:e.jsx(u,{className:"h-5 w-5 text-blue-700 dark:text-blue-300"})}),e.jsx("span",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"This Week"})]}),e.jsx("span",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:T.length})]})]})]})]})]})]})})}export{k as default};
