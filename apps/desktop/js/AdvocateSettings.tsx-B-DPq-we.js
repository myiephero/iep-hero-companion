import{j as e}from"./chunk-DsWtD-um.js";import{N as s,u as a,a as i,m as t,D as r,C as c,d as n,e as l,f as d,h as o,L as m,I as h,B as x,S as u}from"../assets/index-BO9uTDme.js";import{S as p}from"./chunk-H8J8tpqv.js";import{T as g}from"./chunk-BZjdROIr.js";import{S as j,a as y,b as v,c as f,d as N}from"./chunk-BJKDjCst.js";import{B as b}from"./chunk-qxwVooB6.js";import{d as w,r as k}from"./chunk--CdJ9rTh.js";import{b as S,u as C,c as E}from"./chunk-DiCKXT8z.js";import{k as P,a6 as _,y as z,X as A,V as D,bk as T,bl as L,aa as F,a2 as I,u as B}from"./chunk-CIO6T0Sb.js";function M(){const{theme:M,toggleTheme:R}=s(),{user:$,signOut:q}=a(),{toast:O}=i(),U=w(),W=S(),[H,G]=k.useState({bio:"",location:"",specializations:[],certifications:[],education:"",years_experience:0,languages:[],case_types:[],rate_per_hour:150,availability:"weekdays"});k.useState({specializations:!1,case_types:!1,languages:!1,certifications:!1});const{data:Y}=C({queryKey:["/api/advocates/profile",$?.id],enabled:!!$?.id,queryFn:async()=>(await t("GET","/api/advocates/profile")).json()});k.useEffect(()=>{Y&&G({bio:Y.bio||"",location:Y.location||"",specializations:Y.specializations||[],certifications:Y.certifications||[],education:Y.education||"",years_experience:Y.years_experience||0,languages:Y.languages||[],case_types:Y.case_types||[],rate_per_hour:Y.rate_per_hour||150,availability:Y.availability||"weekdays"})},[Y]);const K=E({mutationFn:async e=>(await t("PUT","/api/advocates/profile",e)).json(),onSuccess:()=>{O({title:"Profile Updated",description:"Your professional profile has been successfully updated."}),W.invalidateQueries({queryKey:["/api/advocates/profile"]})},onError:e=>{O({title:"Update Failed",description:e.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),V=(e,s)=>{Array.isArray(H[e])&&s.trim()&&G(a=>({...a,[e]:[...a[e],s.trim()]}))},Z=(e,s)=>{Array.isArray(H[e])&&G(a=>({...a,[e]:a[e].filter((e,a)=>a!==s)}))};return e.jsx(r,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your advocate account settings and professional preferences"})]})}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(c,{className:"premium-card",children:[e.jsxs(n,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Professional Bio"]}),e.jsx(d,{children:"Tell parents about your experience and approach to IEP advocacy"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"bio",children:"Professional Bio"}),e.jsx(g,{id:"bio",placeholder:"Share your experience, philosophy, and what makes you unique as an IEP advocate...",value:H.bio,onChange:e=>G(s=>({...s,bio:e.target.value})),className:"min-h-[120px]","data-testid":"textarea-bio"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"location",children:"Location"}),e.jsx(h,{id:"location",placeholder:"City, State",value:H.location,onChange:e=>G(s=>({...s,location:e.target.value})),"data-testid":"input-location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"education",children:"Education"}),e.jsx(h,{id:"education",placeholder:"Your highest degree or relevant education",value:H.education,onChange:e=>G(s=>({...s,education:e.target.value})),"data-testid":"input-education"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"experience",children:"Years of Experience"}),e.jsx(h,{id:"experience",type:"number",min:"0",max:"50",placeholder:"Years in IEP advocacy",value:H.years_experience,onChange:e=>G(s=>({...s,years_experience:parseInt(e.target.value)||0})),"data-testid":"input-experience"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"hourlyRate",children:"Hourly Rate ($)"}),e.jsx(h,{id:"hourlyRate",type:"number",min:"0",step:"25",placeholder:"150",value:H.rate_per_hour,onChange:e=>G(s=>({...s,rate_per_hour:parseInt(e.target.value)||0})),"data-testid":"input-hourly-rate"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"availability",children:"Availability"}),e.jsxs(j,{value:H.availability,onValueChange:e=>G(s=>({...s,availability:e})),children:[e.jsx(y,{"data-testid":"select-availability",children:e.jsx(v,{placeholder:"Select your availability"})}),e.jsxs(f,{children:[e.jsx(N,{value:"weekdays",children:"Weekdays Only"}),e.jsx(N,{value:"evenings",children:"Evenings & Weekends"}),e.jsx(N,{value:"flexible",children:"Flexible Schedule"}),e.jsx(N,{value:"emergency",children:"Emergency Available"})]})]})]})]})]}),e.jsxs(c,{className:"premium-card",children:[e.jsxs(n,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Specializations & Expertise"]}),e.jsx(d,{children:"What areas of special education do you specialize in?"})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{children:"Specializations"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Select all areas where you have expertise (multiple selections allowed)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["Autism Spectrum Disorders","ADHD","Learning Disabilities","Intellectual Disabilities","Emotional/Behavioral Disorders","Speech/Language Disorders","Physical Disabilities","Gifted & Talented","Twice Exceptional (2e)","Transition Planning","Behavioral Interventions","Assistive Technology"].map(s=>{const a=H.specializations?.includes(s)||!1;return e.jsxs("label",{className:`\n                          flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all\n                          ${a?"border-primary bg-primary/5 text-primary":"border-gray-200 dark:border-gray-700 hover:border-primary/50 hover:bg-muted/50"}\n                        `,"data-testid":`checkbox-specialization-${s.toLowerCase().replace(/[^a-z0-9]/g,"-")}`,children:[e.jsx("input",{type:"checkbox",checked:a,onChange:e=>{if(e.target.checked)H.specializations?.includes(s)||V("specializations",s);else{const e=H.specializations?.indexOf(s);void 0!==e&&e>-1&&Z("specializations",e)}},className:"w-4 h-4 text-primary rounded focus:ring-primary"}),e.jsx("span",{className:"text-sm font-medium",children:s}),a&&e.jsx(z,{className:"h-4 w-4 text-primary ml-auto"})]},s)})}),H.specializations&&H.specializations.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-primary/5 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-primary mb-2",children:["Selected Specializations (",H.specializations.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.specializations.map((s,a)=>e.jsxs(b,{variant:"secondary",className:"flex items-center gap-1",children:[s,e.jsx(A,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>Z("specializations",a)})]},a))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{children:"Case Types"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"What types of IEP cases do you handle? (select all that apply)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Initial IEP Development","IEP Review & Updates","Due Process Hearings","Mediation","Evaluation Disputes","Placement Disputes","Transition Planning","Behavioral Support Plans","School District Negotiations"].map(s=>{const a=H.case_types?.includes(s)||!1;return e.jsxs("label",{className:`\n                          flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all\n                          ${a?"border-secondary bg-secondary/5 text-secondary":"border-gray-200 dark:border-gray-700 hover:border-secondary/50 hover:bg-muted/50"}\n                        `,"data-testid":`checkbox-case-type-${s.toLowerCase().replace(/[^a-z0-9]/g,"-")}`,children:[e.jsx("input",{type:"checkbox",checked:a,onChange:e=>{if(e.target.checked)H.case_types?.includes(s)||V("case_types",s);else{const e=H.case_types?.indexOf(s);void 0!==e&&e>-1&&Z("case_types",e)}},className:"w-4 h-4 text-secondary rounded focus:ring-secondary"}),e.jsx("span",{className:"text-sm font-medium",children:s}),a&&e.jsx(z,{className:"h-4 w-4 text-secondary ml-auto"})]},s)})}),H.case_types&&H.case_types.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-secondary/5 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-secondary mb-2",children:["Selected Case Types (",H.case_types.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.case_types.map((s,a)=>e.jsxs(b,{variant:"outline",className:"flex items-center gap-1",children:[s,e.jsx(A,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>Z("case_types",a)})]},a))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{children:"Languages Spoken"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"What languages can you communicate in with families?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["English","Spanish","French","German","Chinese (Mandarin)","ASL (American Sign Language)","Italian","Portuguese","Russian","Japanese","Korean","Arabic"].map(s=>{const a=H.languages?.includes(s)||!1;return e.jsxs("label",{className:`\n                          flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all\n                          ${a?"border-accent bg-accent/5 text-accent":"border-gray-200 dark:border-gray-700 hover:border-accent/50 hover:bg-muted/50"}\n                        `,"data-testid":`checkbox-language-${s.toLowerCase().replace(/[^a-z0-9]/g,"-")}`,children:[e.jsx("input",{type:"checkbox",checked:a,onChange:e=>{if(e.target.checked)H.languages?.includes(s)||V("languages",s);else{const e=H.languages?.indexOf(s);void 0!==e&&e>-1&&Z("languages",e)}},className:"w-4 h-4 text-accent rounded focus:ring-accent"}),e.jsx("span",{className:"text-sm font-medium",children:s}),a&&e.jsx(z,{className:"h-4 w-4 text-accent ml-auto"})]},s)})}),H.languages&&H.languages.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-accent/5 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-accent mb-2",children:["Languages Spoken (",H.languages.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.languages.map((s,a)=>e.jsxs(b,{variant:"default",className:"flex items-center gap-1",children:[s,e.jsx(A,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>Z("languages",a)})]},a))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{children:"Certifications & Credentials"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Select your professional certifications and qualifications"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Licensed Attorney","Educational Advocate Certification","Special Education Certification","M.Ed. Special Education","Behavior Analyst (BCBA)","Speech-Language Pathologist","School Psychology","Educational Leadership","Disability Rights Law"].map(s=>{const a=H.certifications?.includes(s)||!1;return e.jsxs("label",{className:`\n                          flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all\n                          ${a?"border-primary bg-primary/5 text-primary":"border-gray-200 dark:border-gray-700 hover:border-primary/50 hover:bg-muted/50"}\n                        `,"data-testid":`checkbox-certification-${s.toLowerCase().replace(/[^a-z0-9]/g,"-")}`,children:[e.jsx("input",{type:"checkbox",checked:a,onChange:e=>{if(e.target.checked)H.certifications?.includes(s)||V("certifications",s);else{const e=H.certifications?.indexOf(s);void 0!==e&&e>-1&&Z("certifications",e)}},className:"w-4 h-4 text-primary rounded focus:ring-primary"}),e.jsx("span",{className:"text-sm font-medium",children:s}),a&&e.jsx(z,{className:"h-4 w-4 text-primary ml-auto"})]},s)})}),H.certifications&&H.certifications.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-primary/5 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-primary mb-2",children:["Selected Certifications (",H.certifications.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.certifications.map((s,a)=>e.jsxs(b,{variant:"secondary",className:"flex items-center gap-1",children:[s,e.jsx(A,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>Z("certifications",a)})]},a))})]})]}),e.jsx(x,{onClick:()=>{K.mutate(H)},disabled:K.isPending,className:"w-full button-premium","data-testid":"button-save-professional-profile",children:K.isPending?"Saving...":"Save Professional Profile"})]})]}),e.jsxs(c,{className:"premium-card",children:[e.jsxs(n,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Notifications"]}),e.jsx(d,{children:"Configure how you receive client and case updates"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),e.jsx(p,{"data-testid":"switch-email-notifications"})]}),e.jsx(u,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{children:"New Client Requests"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when parents request your services"})]}),e.jsx(p,{"data-testid":"switch-client-requests"})]}),e.jsx(u,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{children:"Case Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for case progress and deadlines"})]}),e.jsx(p,{"data-testid":"switch-case-updates"})]}),e.jsx(u,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{children:"Meeting Reminders"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminded before IEP meetings"})]}),e.jsx(p,{"data-testid":"switch-meeting-reminders"})]})]})]}),e.jsxs(c,{className:"premium-card",children:[e.jsxs(n,{children:[e.jsx(l,{children:"Appearance"}),e.jsx(d,{children:"Customize the look and feel of your dashboard"})]}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(m,{className:"flex items-center gap-2",children:["dark"===M?e.jsx(T,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"}),"Dark Mode"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark theme"})]}),e.jsx(p,{checked:"dark"===M,onCheckedChange:R,"data-testid":"switch-dark-mode"})]})})]}),e.jsxs(c,{className:"premium-card",children:[e.jsxs(n,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Availability Settings"]}),e.jsx(d,{children:"Set your availability for client meetings and consultations"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"workingHours",children:"Working Hours"}),e.jsx(h,{id:"workingHours",placeholder:"9:00 AM - 5:00 PM","data-testid":"input-working-hours"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"timezone",children:"Time Zone"}),e.jsx(h,{id:"timezone",placeholder:"Eastern Time (ET)","data-testid":"input-timezone"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{children:"Weekend Availability"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Accept meetings on weekends"})]}),e.jsx(p,{"data-testid":"switch-weekend-availability"})]}),e.jsx(x,{variant:"outline","data-testid":"button-save-availability",children:"Update Availability"})]})]}),e.jsxs(c,{className:"premium-card",children:[e.jsxs(n,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Privacy & Security"]}),e.jsx(d,{children:"Manage your account security and privacy settings"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsx(x,{variant:"outline","data-testid":"button-change-password",children:"Change Password"}),e.jsx(x,{variant:"outline","data-testid":"button-two-factor",children:"Enable Two-Factor Authentication"}),e.jsxs(x,{onClick:async()=>{try{await q(),O({title:"Signed out successfully",description:"You have been logged out of your account."}),U("/auth")}catch(e){O({title:"Error signing out",description:"There was a problem signing you out. Please try again.",variant:"destructive"})}},variant:"outline",className:"border-orange-200 dark:border-orange-800 hover:bg-orange-50 dark:hover:bg-orange-950 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300","data-testid":"button-sign-out",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Sign Out"]}),e.jsx(u,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-destructive",children:"Danger Zone"}),e.jsx(x,{variant:"destructive","data-testid":"button-delete-account",children:"Delete Account"})]})]})]})]})]})})}export{M as default};
