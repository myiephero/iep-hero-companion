import{j as e}from"./chunk-DsWtD-um.js";import{r as s,L as t}from"./chunk--CdJ9rTh.js";import{b as a,u as i,c as n}from"./chunk-DiCKXT8z.js";import{a as r,m as l,C as d,d as c,e as o,f as m,h as u,B as h,u as x,D as p,r as g,t as j,v as f,w as v,p as _,L as N,I as y,q as b}from"../assets/index-DmH44GAo.js";import{B as w}from"./chunk-0mWKUDnJ.js";import{S,a as C,b as k,c as A,d as P}from"./chunk-CeW2BF6N.js";import{A as E,a as I}from"./chunk-BHg6aLBB.js";import{P as F}from"./chunk-Cc1_LcYd.js";import{a as D}from"./chunk-C-MbUUvx.js";import{D as G,a as T,b as q,c as K,d as $}from"./chunk-CFc3a_Ag.js";import{C as O}from"./chunk-Da-FqAZc.js";import{T as L}from"./chunk-B148CZfy.js";import{A as z,a as R}from"./chunk-ChLmR7lr.js";import{p as B,v as M,j as V,t as Q,s as U,b as W,a as H,i as Y,c as J}from"./chunk-Dd-vdh4v.js";import{S as Z}from"./chunk-Cl3oUr_D.js";import{B as X,x as ee,y as se,N as te,b as ae,Z as ie,z as ne,aq as re,U as le,T as de,L as ce,ae as oe,A as me,ao as ue,k as he,ac as xe,am as pe,a4 as ge,f as je,an as fe,g as ve,ar as _e,as as Ne,at as ye,G as be,I as we,ad as Se,ab as Ce}from"./chunk-CIO6T0Sb.js";B("sessions",{sid:M("sid").primaryKey(),sess:V("sess").notNull(),expire:Q("expire").notNull()});const ke=B("users",{id:M("id").primaryKey().default(U`gen_random_uuid()`),email:M("email").unique(),firstName:M("first_name"),lastName:M("last_name"),profileImageUrl:M("profile_image_url"),role:M("role").default("parent"),password:M("password"),emailVerified:W("email_verified").default(!1),verificationToken:M("verification_token"),passwordResetToken:M("password_reset_token"),passwordResetExpires:Q("password_reset_expires"),subscriptionStatus:M("subscription_status"),subscriptionPlan:M("subscription_plan"),stripeCustomerId:M("stripe_customer_id"),stripeSubscriptionId:M("stripe_subscription_id"),pushNotificationToken:M("push_notification_token"),notificationPreferences:V("notification_preferences"),createdAt:Q("created_at").defaultNow(),updatedAt:Q("updated_at").defaultNow()});B("auth_tokens",{id:M("id").primaryKey().default(U`gen_random_uuid()`),token:M("token").notNull().unique(),user_id:M("user_id").notNull(),user_role:M("user_role"),created_at:Q("created_at").defaultNow(),expires_at:Q("expires_at").notNull()}),B("profiles",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull().unique(),full_name:M("full_name"),email:M("email"),phone:M("phone"),bio:H("bio"),avatar_url:M("avatar_url"),role:M("role"),organization:M("organization"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});const Ae=B("students",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),parent_id:M("parent_id"),full_name:M("full_name").notNull(),date_of_birth:M("date_of_birth"),grade_level:M("grade_level"),school_name:M("school_name"),district:M("district"),case_manager:M("case_manager"),case_manager_email:M("case_manager_email"),disability_category:M("disability_category"),iep_date:M("iep_date"),iep_status:M("iep_status"),iep_workflow_stage:M("iep_workflow_stage").$type().default("referral"),next_review_date:M("next_review_date"),emergency_contact:M("emergency_contact"),emergency_phone:M("emergency_phone"),medical_info:H("medical_info"),notes:H("notes"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});B("accommodations",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id").notNull(),title:M("title").notNull(),description:H("description").notNull(),category:M("category"),implementation_notes:H("implementation_notes"),effectiveness_rating:Y("effectiveness_rating"),status:M("status"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("autism_accommodations",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id"),title:M("title").notNull(),description:H("description").notNull(),category:M("category").notNull(),accommodation_type:M("accommodation_type").notNull(),implementation_notes:H("implementation_notes"),effectiveness_rating:Y("effectiveness_rating"),status:M("status"),sensory_profile:V("sensory_profile"),communication_needs:V("communication_needs"),social_supports:V("social_supports"),academic_supports:V("academic_supports"),behavioral_triggers:V("behavioral_triggers"),environmental_modifications:V("environmental_modifications"),technology_supports:V("technology_supports"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});const Pe=B("advocates",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),full_name:M("full_name").notNull(),email:M("email").notNull(),phone:M("phone"),bio:H("bio"),location:M("location"),specializations:V("specializations"),certifications:V("certifications"),education:M("education"),years_experience:Y("years_experience"),languages:V("languages"),case_types:V("case_types"),rate_per_hour:Y("rate_per_hour"),availability:M("availability"),rating:Y("rating"),total_reviews:Y("total_reviews"),verification_status:M("verification_status"),status:M("status"),profile_image_url:M("profile_image_url"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});B("advocate_clients",{id:M("id").primaryKey().default(U`gen_random_uuid()`),advocate_id:M("advocate_id").notNull(),client_id:M("client_id").notNull(),client_first_name:M("client_first_name"),client_last_name:M("client_last_name"),client_email:M("client_email"),relationship_type:M("relationship_type"),status:M("status"),engagement_stage:M("engagement_stage").$type().default("prospect"),start_date:M("start_date"),end_date:M("end_date"),notes:H("notes"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("advocate_requests",{id:M("id").primaryKey().default(U`gen_random_uuid()`),parent_id:M("parent_id").notNull(),advocate_id:M("advocate_id").notNull(),student_id:M("student_id"),subject:M("subject").notNull(),message:H("message").notNull(),urgency_level:M("urgency_level"),budget_range:M("budget_range"),preferred_contact_method:M("preferred_contact_method"),status:M("status"),response_message:H("response_message"),responded_at:Q("responded_at"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("cases",{id:M("id").primaryKey().default(U`gen_random_uuid()`),advocate_id:M("advocate_id").notNull(),client_id:M("client_id").notNull(),student_id:M("student_id"),case_title:M("case_title").notNull(),description:H("description"),case_type:M("case_type"),status:M("status"),priority:M("priority"),billing_rate:Y("billing_rate"),total_hours:Y("total_hours"),next_action:M("next_action"),next_action_date:M("next_action_date"),timeline:V("timeline"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});const Ee=B("match_proposals",{id:M("id").primaryKey().default(U`gen_random_uuid()`),student_id:M("student_id").notNull(),advocate_id:M("advocate_id").notNull(),parent_id:M("parent_id").notNull(),score:Y("score").notNull(),status:M("status").notNull().default("pending"),match_reason:V("match_reason"),decline_reason:H("decline_reason"),intro_call_requested:W("intro_call_requested").default(!1),intro_call_scheduled_at:Q("intro_call_scheduled_at"),intro_call_notes:H("intro_call_notes"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),Ie=B("conversations",{id:M("id").primaryKey().default(U`gen_random_uuid()`),advocate_id:M("advocate_id").notNull().references(()=>Pe.id,{onDelete:"cascade"}),parent_id:M("parent_id").notNull().references(()=>ke.id,{onDelete:"cascade"}),student_id:M("student_id").references(()=>Ae.id,{onDelete:"set null"}),match_proposal_id:M("match_proposal_id").references(()=>Ee.id,{onDelete:"set null"}),title:M("title"),status:M("status").default("active"),priority:M("priority").default("normal"),archived:W("archived").default(!1),last_message_at:Q("last_message_at"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),Fe=B("conversation_labels",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull().references(()=>ke.id,{onDelete:"cascade"}),name:M("name").notNull(),color:M("color").notNull(),description:H("description"),is_default:W("is_default").default(!1),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});B("conversation_label_assignments",{id:M("id").primaryKey().default(U`gen_random_uuid()`),conversation_id:M("conversation_id").notNull().references(()=>Ie.id,{onDelete:"cascade"}),label_id:M("label_id").notNull().references(()=>Fe.id,{onDelete:"cascade"}),assigned_by:M("assigned_by").notNull().references(()=>ke.id,{onDelete:"cascade"}),created_at:Q("created_at").defaultNow()});const De=B("messages",{id:M("id").primaryKey().default(U`gen_random_uuid()`),conversation_id:M("conversation_id").notNull().references(()=>Ie.id,{onDelete:"cascade"}),sender_id:M("sender_id").notNull().references(()=>ke.id,{onDelete:"cascade"}),content:H("content"),attachment_count:Y("attachment_count").default(0),read_at:Q("read_at"),created_at:Q("created_at").defaultNow()});B("message_attachments",{id:M("id").primaryKey().default(U`gen_random_uuid()`),message_id:M("message_id").notNull().references(()=>De.id,{onDelete:"cascade"}),document_id:M("document_id").notNull().references(()=>Ge.id,{onDelete:"cascade"}),created_at:Q("created_at").defaultNow()});const Ge=B("documents",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull().references(()=>ke.id,{onDelete:"cascade"}),student_id:M("student_id").references(()=>Ae.id,{onDelete:"set null"}),title:M("title").notNull(),description:H("description"),file_name:M("file_name").notNull(),file_path:M("file_path").notNull(),file_type:M("file_type"),file_size:Y("file_size"),category:M("category"),tags:V("tags"),content:H("content"),confidential:W("confidential"),uploaded_by:M("uploaded_by").references(()=>ke.id,{onDelete:"set null"}),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});B("goals",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id").notNull(),title:M("title").notNull(),description:H("description").notNull(),goal_type:M("goal_type"),status:M("status"),target_date:M("target_date"),current_progress:Y("current_progress"),measurable_criteria:M("measurable_criteria"),data_collection:V("data_collection"),notes:H("notes"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("services",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id").notNull(),service_type:M("service_type").notNull(),provider:M("provider"),frequency:M("frequency"),duration:Y("duration"),location:M("location"),start_date:M("start_date"),end_date:M("end_date"),status:M("status"),notes:H("notes"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("meetings",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id"),title:M("title").notNull(),description:H("description"),meeting_type:M("meeting_type"),scheduled_date:M("scheduled_date").notNull(),duration:Y("duration"),location:M("location"),agenda:V("agenda"),attendees:V("attendees"),outcomes:H("outcomes"),follow_up_actions:V("follow_up_actions"),notes:H("notes"),status:M("status"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("ai_reviews",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id"),document_id:M("document_id"),review_type:M("review_type").notNull(),ai_analysis:V("ai_analysis").notNull(),strengths:V("strengths"),areas_of_concern:V("areas_of_concern"),recommendations:V("recommendations"),suggested_improvements:V("suggested_improvements"),action_items:V("action_items"),compliance_score:Y("compliance_score"),priority_level:M("priority_level"),status:M("status"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("gifted_assessments",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id").notNull(),assessment_type:M("assessment_type").notNull(),giftedness_areas:V("giftedness_areas").notNull(),strengths:V("strengths"),challenges:V("challenges"),learning_differences:V("learning_differences"),assessment_scores:V("assessment_scores"),recommendations:V("recommendations"),enrichment_activities:V("enrichment_activities"),acceleration_needs:V("acceleration_needs"),social_emotional_needs:V("social_emotional_needs"),twice_exceptional_profile:V("twice_exceptional_profile"),evaluator_notes:H("evaluator_notes"),next_steps:V("next_steps"),ai_analysis_parent:V("ai_analysis_parent"),ai_analysis_advocate:V("ai_analysis_advocate"),ai_recommendations:V("ai_recommendations"),ai_generated_at:Q("ai_generated_at"),status:M("status"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("iep_analysis",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),student_id:M("student_id"),document_id:M("document_id"),analysis_type:M("analysis_type").notNull(),analysis_data:V("analysis_data").notNull(),recommendations:V("recommendations"),priority_items:V("priority_items"),compliance_issues:V("compliance_issues"),next_steps:V("next_steps"),status:M("status"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()}),B("iep_action_drafts",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id").notNull(),analysis_id:M("analysis_id").notNull(),title:M("title").notNull(),body:H("body").notNull(),created_at:Q("created_at").defaultNow()}),B("audit_log",{id:M("id").primaryKey().default(U`gen_random_uuid()`),user_id:M("user_id"),table_name:M("table_name").notNull(),record_id:M("record_id").notNull(),action:M("action").notNull(),timestamp:Q("timestamp").defaultNow()}),B("expert_analyses",{id:J("id").primaryKey(),user_id:M("user_id").notNull(),student_name:M("student_name").notNull(),analysis_type:M("analysis_type").notNull(),file_name:M("file_name").notNull(),file_type:M("file_type").notNull(),file_content:H("file_content").notNull(),status:M("status").notNull().default("pending"),overall_score:Y("overall_score"),strengths:V("strengths"),areas_for_improvement:V("areas_for_improvement"),recommendations:V("recommendations"),compliance_issues:V("compliance_issues"),expert_notes:H("expert_notes"),submitted_at:Q("submitted_at").defaultNow(),completed_at:Q("completed_at"),created_at:Q("created_at").defaultNow(),updated_at:Q("updated_at").defaultNow()});const Te=({selectedStudentId:t,onStudentSelect:x,students:p,isAdvocateView:g=!1,showStudentSelector:j=!0})=>{const[f,v]=s.useState(null),[_,N]=s.useState(!1),{toast:y}=r(),b=a(),{data:S,isLoading:C}=i({queryKey:["/api/gifted-ai-analysis",t],queryFn:async()=>{if(!t)return null;return(await l("GET",`/api/gifted_assessments/ai-insights?student_id=${t}`)).json()},enabled:!!t}),{data:k}=i({queryKey:["/api/gifted-profile",t],queryFn:async()=>{if(!t)return null;return(await l("GET",`/api/gifted_assessments/profile?student_id=${t}`)).json()},enabled:!!t}),A=n({mutationFn:async e=>{N(!0);return(await l("POST","/api/gifted_assessments/ai-insights",{student_id:e,analysis_type:"comprehensive"})).json()},onSuccess:e=>{v(e),b.invalidateQueries({queryKey:["/api/gifted-ai-analysis"]}),b.invalidateQueries({queryKey:["/api/gifted-profile"]}),y({title:"AI Insights Generated! 🧠✨",description:g?"Comprehensive gifted insights have been generated for advocacy planning":"Comprehensive gifted insights have been generated for your child"})},onError:e=>{console.error("Error generating AI insights:",e),y({title:"Error generating insights",description:"Please try again or ensure the student has completed other assessment tools first",variant:"destructive"})},onSettled:()=>{N(!1)}}),P=()=>!!k?.assessments&&k.assessments.length>0,E=p?.find(e=>e.id===t)?.full_name||"the student",{completed:I,total:D,tools:G}=(()=>{if(!k?.assessments)return{completed:0,total:4,tools:[]};const e=k.assessments.map(e=>e.assessment_type),s=[{name:"Cognitive",completed:e.includes("cognitive"),icon:X,color:"text-purple-600"},{name:"Academic",completed:e.includes("academic"),icon:ne,color:"text-blue-600"},{name:"Creative",completed:e.includes("creative"),icon:re,color:"text-pink-600"},{name:"Leadership",completed:e.includes("leadership"),icon:le,color:"text-green-600"}];return{completed:s.filter(e=>e.completed).length,total:4,tools:s}})(),T=Math.round(I/D*100),q=f||S?.analyses?.[0]?.ai_analysis;return!t&&j?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Select a student to view AI analysis results."})]}):e.jsxs("div",{className:"space-y-6",children:[j&&x&&e.jsxs(d,{className:"mb-6",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-orange-600"}),"Student Selection"]}),e.jsx(m,{children:"Choose the student to generate AI insights for"})]}),e.jsx(u,{children:e.jsx(Z,{selectedStudent:t||"",onStudentChange:x||(()=>{}),placeholder:"Select student for AI insights"})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(d,{className:"mb-6",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-green-600"}),"Assessment Completion Status"]}),e.jsx(m,{children:"Complete assessment tools to unlock comprehensive AI insights"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Assessments Completed"}),e.jsxs("span",{className:"text-sm font-bold text-primary",children:[I," of ",D]})]}),e.jsx(F,{value:T,className:"h-3"}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:G.map(s=>e.jsx(d,{className:"p-3 "+(s.completed?"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800":"bg-muted/30"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s.icon,{className:"h-4 w-4 "+(s.completed?"text-green-600":"text-muted-foreground")}),e.jsx("span",{className:"text-sm font-medium",children:s.name}),s.completed?e.jsx(se,{className:"h-3 w-3 text-green-600 ml-auto"}):e.jsx(te,{className:"h-3 w-3 text-muted-foreground ml-auto"})]})},s.name))}),!P()&&e.jsx("div",{className:"bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"h-5 w-5 text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-amber-900 dark:text-amber-100 mb-1",children:"Complete Assessment Tools First"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-3",children:"To generate AI insights, please complete at least one of the gifted assessment tools: Cognitive, Academic, Creative, or Leadership."}),!g&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(h,{size:"sm",variant:"outline",children:"Complete Cognitive"}),e.jsx(h,{size:"sm",variant:"outline",children:"Complete Academic"}),e.jsx(h,{size:"sm",variant:"outline",children:"Complete Creative"}),e.jsx(h,{size:"sm",variant:"outline",children:"Complete Leadership"})]})]})]})})]})})]}),P()&&!q&&e.jsx(d,{className:"mb-6 bg-gradient-to-r from-orange-50 to-pink-50 dark:from-orange-950 dark:to-pink-950 border-orange-200 dark:border-orange-800",children:e.jsxs(u,{className:"p-8 text-center",children:[e.jsx(X,{className:"h-12 w-12 text-orange-600 dark:text-orange-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Ready for AI Analysis"}),e.jsxs("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:["Generate comprehensive AI insights based on ",E,"'s completed gifted assessment tools."]}),e.jsx(h,{onClick:()=>{t?P()?A.mutate(t):y({title:"Complete assessment tools first",description:"Please complete at least one assessment tool (Cognitive, Academic, Creative, or Leadership) before generating AI insights",variant:"destructive"}):y({title:"Please select a student",description:"Choose a student to generate AI insights for",variant:"destructive"})},disabled:_||!t,size:"lg",className:"bg-gradient-to-r from-orange-600 to-pink-600 hover:from-orange-700 hover:to-pink-700","data-testid":"button-generate-insights",children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Generating Insights..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-5 w-5 mr-2"}),"Generate AI Insights"]})})]})}),q&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(d,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800",children:e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ie,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g?"Professional AI Analysis Complete!":"AI Analysis Complete!"}),e.jsxs(w,{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",children:["Generated ",S?.analyses?.[0]?.timestamp?new Date(S.analyses[0].timestamp).toLocaleDateString():"Recently"]})]}),e.jsxs("p",{className:"text-muted-foreground",children:["Comprehensive gifted insights have been generated for ",E,". Review the detailed analysis and recommendations below."]})]})}),"object"==typeof q&&null!==q&&Object.entries(q).map(([s,t],a)=>{if(!t)return null;const{icon:i,color:n}=(e=>{const s=e.toLowerCase();return s.includes("progress")||s.includes("monitoring")?{icon:de,color:"text-purple-600"}:s.includes("assessment")||s.includes("data")?{icon:X,color:"text-blue-600"}:s.includes("accommodation")||s.includes("strategy")?{icon:ce,color:"text-yellow-600"}:s.includes("goal")||s.includes("recommendation")?{icon:ne,color:"text-green-600"}:s.includes("need")||s.includes("additional")?{icon:te,color:"text-orange-600"}:s.includes("intervention")||s.includes("evidence")?{icon:oe,color:"text-indigo-600"}:s.includes("social")||s.includes("emotional")?{icon:le,color:"text-pink-600"}:{icon:se,color:"text-gray-600"}})(s),r=e=>e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),l=(s,t)=>{if("string"==typeof s)return e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(me,{className:`h-3 w-3 ${n} mt-1 flex-shrink-0`}),e.jsx("span",{className:"text-muted-foreground",children:s})]},t);if("object"==typeof s&&null!==s){const a=Object.keys(s);return e.jsx("li",{className:"border border-muted rounded-lg p-3 space-y-2",children:a.map(t=>{const a=s[t];return a?e.jsxs("div",{children:[e.jsxs("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[r(t),":"]}),e.jsx("p",{className:"text-sm text-foreground mt-1",children:String(a)})]},t):null})},t)}return e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(me,{className:`h-3 w-3 ${n} mt-1 flex-shrink-0`}),e.jsx("span",{className:"text-muted-foreground",children:String(s)})]},t)};return e.jsxs(d,{"data-testid":`analysis-section-${s.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(i,{className:`h-5 w-5 ${n}`}),r(s)]})}),e.jsx(u,{children:(m=t,"string"==typeof m?e.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:e.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:m})}):Array.isArray(m)?e.jsx("ul",{className:"space-y-3",children:m.map((e,s)=>l(e,s))}):"object"==typeof m&&null!==m?e.jsx("div",{className:"space-y-3",children:Object.entries(m).map(([s,t],a)=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:r(s)}),Array.isArray(t)?e.jsx("ul",{className:"space-y-3 ml-4",children:t.map((e,s)=>l(e,s))}):e.jsx("div",{className:"ml-4",children:"object"==typeof t&&null!==t?e.jsx("div",{className:"border border-muted rounded-lg p-3 space-y-2",children:Object.entries(t).map(([s,t])=>e.jsxs("div",{children:[e.jsxs("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[r(s),":"]}),e.jsx("p",{className:"text-sm text-foreground mt-1",children:String(t)})]},s))}):e.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap",children:String(t)})})]},a))}):e.jsx("p",{className:"text-muted-foreground text-sm",children:String(m)}))})]},s);var m}),(!q||"object"==typeof q&&0===Object.keys(q).length)&&e.jsx(d,{children:e.jsxs(u,{className:"p-8 text-center",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No analysis content available. Please try generating the AI insights again."})]})})]})]})]})},qe=({selectedStudentId:t})=>{s.useState({}),r();const{data:a,isLoading:n}=i({queryKey:["/api/autism-ai-analysis",t],queryFn:async()=>{if(!t)return null;return(await l("GET",`/api/autism-ai-analysis?student_id=${t}`)).json()},enabled:!!t}),m=a?a.analyses&&Array.isArray(a.analyses)&&a.analyses.length>0?a.analyses[0].ai_analysis:a.sensory_analysis||a.communication_insights||a.behavioral_analysis||a.social_analysis||a.recommendations?{analysis_type:"comprehensive",detailed_analysis:[a.sensory_analysis,a.communication_insights,a.behavioral_analysis,a.social_analysis].filter(Boolean).join("\n\n"),recommendations:a.recommendations||[],legacy_format:!0}:null:null;return t?n?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,t)=>e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full mb-1"}),e.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]},t))}):m?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🧩"}),"Saved Autism Analysis for Advocacy",m.legacy_format&&e.jsx(w,{variant:"outline",className:"ml-2",children:"Combined Analysis"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Professional autism analysis for IEP advocacy •",a?.analyses?.[0]?.timestamp?`Generated: ${new Date(a.analyses[0].timestamp).toLocaleDateString()}`:"Previously Generated"]})]}),m.detailed_analysis&&e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center text-lg",children:[e.jsx(X,{className:"h-5 w-5 mr-2"}),"Professional Autism Analysis"]})}),e.jsx(u,{children:e.jsx(z,{text:m.detailed_analysis,testId:"advocate-detailed-analysis-read-more"})})]}),m.recommendations&&Array.isArray(m.recommendations)&&e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center text-lg",children:[e.jsx(de,{className:"h-5 w-5 mr-2"}),"IEP & Advocacy Recommendations"]})}),e.jsx(u,{children:e.jsx("ul",{className:"space-y-3",children:m.recommendations.map((s,t)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary mr-2 mt-1",children:"→"}),e.jsx("div",{className:"flex-1",children:e.jsx(R,{text:s,testId:`advocate-recommendation-${t}-read-more`})})]},t))})})]}),m.key_findings&&Array.isArray(m.key_findings)&&e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center text-lg",children:[e.jsx(se,{className:"h-5 w-5 mr-2"}),"Critical Findings for Advocacy"]})}),e.jsx(u,{children:e.jsx("ul",{className:"space-y-2",children:m.key_findings.map((s,t)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary mr-2 mt-1",children:"•"}),e.jsx("span",{className:"text-muted-foreground",children:s})]},t))})})]})]}):e.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[e.jsx(de,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No Saved Analysis Results"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Once autism AI analysis is generated for this student, the comprehensive results will appear here for advocacy planning."})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Select a student to view saved autism analysis results."})]})},Ke=({selectedStudentId:t})=>{const[a,i]=s.useState(""),[n,l]=s.useState(""),[x,p]=s.useState(!1),{toast:g}=r();return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5 text-red-500"}),"Professional Emotional Assessment"]}),e.jsx(m,{children:"Document observed emotional states and behaviors for advocacy and IEP planning"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[{emoji:"😊",label:"Happy",color:"bg-green-100 hover:bg-green-200"},{emoji:"😐",label:"Neutral",color:"bg-blue-100 hover:bg-blue-200"},{emoji:"😟",label:"Anxious",color:"bg-yellow-100 hover:bg-yellow-200"},{emoji:"😠",label:"Frustrated",color:"bg-orange-100 hover:bg-orange-200"},{emoji:"😢",label:"Distressed",color:"bg-red-100 hover:bg-red-200"}].map(s=>e.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition-colors ${s.color} ${a===s.emoji?"ring-2 ring-primary":""}`,onClick:()=>i(s.emoji),children:[e.jsx("div",{className:"text-2xl mb-1",children:s.emoji}),e.jsx("p",{className:"text-xs",children:s.label})]},s.emoji))}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"professional-note",children:"Professional Observation Notes"}),e.jsx(L,{id:"professional-note",placeholder:"Document specific behaviors, triggers, environmental factors, and intervention strategies observed...",value:n,onChange:e=>l(e.target.value),className:"min-h-[100px]"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{onClick:async()=>{a&&(p(!0),setTimeout(()=>{l(`${{"😊":"Student demonstrated positive affect and engaged appropriately in activities.","😐":"Student exhibited neutral emotional regulation and steady baseline behavior.","😟":"Student showed signs of anxiety or worry requiring additional support and monitoring.","😠":"Student displayed frustration behaviors that may indicate need for intervention strategies.","😢":"Student appeared distressed and may benefit from immediate emotional support services."}[a]} Recommend continued observation and documentation of triggers, environmental factors, and effective intervention strategies. Consider consultation with school counselor or behavioral specialist if patterns persist.`),p(!1),g({title:"Professional Note Generated",description:"Please review and edit the assessment before saving.",variant:"default"})},1500))},disabled:!a||x,variant:"outline",size:"sm",children:x?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Generate Professional Note"]})}),e.jsxs(h,{onClick:()=>{t?a?(g({title:"Emotional Observation Recorded",description:"Professional observation saved successfully!",variant:"default"}),i(""),l("")):g({title:"Mood Required",description:"Please select the student's observed emotional state.",variant:"destructive"}):g({title:"Student Required",description:"Please select a student first.",variant:"destructive"})},disabled:!a,className:"flex-1",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Save Professional Assessment"]})]})]}),e.jsx("div",{className:"pt-2 text-sm text-muted-foreground",children:'Last assessment: Yesterday - "Student showed improved self-regulation during transitions"'})]})})]}),e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5 text-blue-500"}),"Behavioral Pattern Analysis"]}),e.jsx(m,{children:"Track emotional and behavioral patterns for advocacy documentation"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-xs",children:[e.jsx("div",{children:"Mon"}),e.jsx("div",{children:"Tue"}),e.jsx("div",{children:"Wed"}),e.jsx("div",{children:"Thu"}),e.jsx("div",{children:"Fri"}),e.jsx("div",{children:"Sat"}),e.jsx("div",{children:"Sun"})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[e.jsx("div",{className:"h-8 bg-green-200 rounded",title:"Stable regulation"}),e.jsx("div",{className:"h-8 bg-green-300 rounded",title:"Excellent day"}),e.jsx("div",{className:"h-8 bg-yellow-200 rounded",title:"Some challenges"}),e.jsx("div",{className:"h-8 bg-red-200 rounded",title:"Significant struggles"}),e.jsx("div",{className:"h-8 bg-green-200 rounded",title:"Improved coping"}),e.jsx("div",{className:"h-8 bg-blue-200 rounded",title:"Weekend - different environment"}),e.jsx("div",{className:"h-8 bg-green-200 rounded",title:"Positive regulation"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Pattern: Thursdays consistently challenging"}),e.jsx("p",{children:"• Improvement after intervention implementation"}),e.jsx("p",{children:"• Recommend schedule adjustment for Thursday"})]})]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center gap-2 text-sm",children:[e.jsx(X,{className:"h-4 w-4"}),"Evidence-Based Interventions"]})}),e.jsxs(u,{children:[e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"• Cognitive behavioral strategies"}),e.jsx("li",{children:"• Sensory regulation tools"}),e.jsx("li",{children:"• Social skills training protocols"}),e.jsx("li",{children:"• Environmental modifications"})]}),e.jsx(h,{size:"sm",className:"w-full mt-3",variant:"outline",children:"Access Resources"})]})]}),e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center gap-2 text-sm",children:[e.jsx(te,{className:"h-4 w-4"}),"Crisis Indicators"]})}),e.jsxs(u,{children:[e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"• Escalating behavioral incidents"}),e.jsx("li",{children:"• Academic performance decline"}),e.jsx("li",{children:"• Social withdrawal patterns"}),e.jsx("li",{children:"• Sleep or appetite changes"})]}),e.jsx(h,{size:"sm",className:"w-full mt-3",variant:"outline",children:"Crisis Protocol"})]})]}),e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center gap-2 text-sm",children:[e.jsx(je,{className:"h-4 w-4"}),"Documentation Tools"]})}),e.jsxs(u,{children:[e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"• Behavior incident reports"}),e.jsx("li",{children:"• Progress monitoring charts"}),e.jsx("li",{children:"• IEP meeting preparation"}),e.jsx("li",{children:"• Parent communication logs"})]}),e.jsx(h,{size:"sm",className:"w-full mt-3",variant:"outline",children:"Generate Reports"})]})]})]}),e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsx(o,{children:"Professional Case Notes & Observations"}),e.jsx(m,{children:"Confidential documentation for advocacy and service planning"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border rounded-lg bg-blue-50 dark:bg-blue-950/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Intervention Success 📊"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Today"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Implementation of sensory break protocol resulted in 50% reduction in classroom disruptions. Recommend including in formal accommodation plan."})]}),e.jsxs("div",{className:"p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-950/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Service Gap Identified ⚠️"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"This Week"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Student would benefit from occupational therapy evaluation for sensory processing concerns. Will advocate for additional assessment at next IEP meeting."})]}),e.jsx("div",{className:"pt-2",children:e.jsx(h,{className:"w-full",variant:"outline",children:"Add Professional Observation"})})]})})]})]}):e.jsx(d,{className:"premium-card",children:e.jsxs(u,{className:"text-center py-8",children:[e.jsx(ve,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Select a student to track emotional patterns and provide support."})]})})},$e=()=>{const[a,z]=s.useState(null),[R,B]=s.useState([]),[M,V]=s.useState([]),[Q,U]=s.useState(null),[W,H]=s.useState([]),[Y,J]=s.useState([]),[ee,ie]=s.useState([]),[ne,re]=s.useState([]),[Se,Ce]=s.useState([]),[ke,Ae]=s.useState(!1),[Pe,Ee]=s.useState([]),[Ie,Fe]=s.useState(!1),[De,Ge]=s.useState([]),[$e,Oe]=s.useState(!1),[Le,ze]=s.useState("overview"),[Re,Be]=s.useState(!1),[Me,Ve]=s.useState(!1),[Qe,Ue]=s.useState(null),[We,He]=s.useState(!1),[Ye,Je]=s.useState(!1),[Ze,Xe]=s.useState(!1),[es,ss]=s.useState(!1),[ts,as]=s.useState(!1),[is,ns]=s.useState(!1),[rs,ls]=s.useState(!1),[ds,cs]=s.useState(!1),[os,ms]=s.useState(!1),[us,hs]=s.useState(!1),[xs,ps]=s.useState(!1);s.useState(!1),s.useState(!1),s.useState(!1),s.useState(!1);const[gs,js]=s.useState("");s.useState({});const[fs,vs]=s.useState({first_name:"",last_name:"",date_of_birth:"",grade_level:"",school_name:"",district:"",iep_status:"Active",case_manager:"",case_manager_email:"",emergency_contact:"",emergency_phone:"",medical_info:"",notes:"",assigned_client:"",disabilities:[],current_services:[]}),[_s,Ns]=s.useState({title:"",description:"",category:"sensory",accommodation_type:"modification",implementation_notes:"",sensory_profile:{},communication_needs:{},social_supports:{},academic_supports:{},behavioral_triggers:{},environmental_modifications:{},technology_supports:{},status:"active"}),[ys,bs]=s.useState({assessment_type:"twice_exceptional",giftedness_areas:[],learning_differences:[],strengths:"",challenges:"",recommendations:"",enrichment_activities:"",acceleration_needs:"",social_emotional_needs:"",evaluator_notes:"",status:"draft"}),{user:ws}=x(),{toast:Ss}=r();i({queryKey:["/api/gifted-profile",a],queryFn:async()=>{if(!a)return null;return(await l("GET",`/api/gifted_assessments/profile?student_id=${a}`)).json()},enabled:!!a}),i({queryKey:["/api/gifted-assessments",a],queryFn:async()=>{if(!a)return[];return(await l("GET",`/api/gifted-assessments?student_id=${a}`)).json()},enabled:!!a}),i({queryKey:["/api/gifted-ai-analysis",a],queryFn:async()=>{if(!a)return null;return(await l("GET",`/api/gifted_assessments/ai-insights?student_id=${a}`)).json()},enabled:!!a});const{data:Cs}=i({queryKey:["/api/accommodations",a],queryFn:async()=>{if(!a)return[];return(await l("GET",`/api/accommodations?student_id=${a}`)).json()},enabled:!!a});s.useEffect(()=>{re(Cs||[])},[Cs]),n({mutationFn:async e=>(await l("POST","/api/gifted-assessments",{...e,student_id:a,assessor_name:ws?.email||"Advocate",assessment_date:(new Date).toISOString()})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/gifted-assessments"]}),b.invalidateQueries({queryKey:["/api/gifted-profile"]}),Ss({title:"Assessment Saved",description:"Gifted assessment has been saved successfully."})},onError:e=>{Ss({title:"Error",description:e.message||"Failed to save assessment.",variant:"destructive"})}}),n({mutationFn:async e=>(await l("POST",`/api/gifted-assessments/${e}/ai-analysis`,{role:"advocate"})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/gifted-ai-analysis",a]}),b.invalidateQueries({queryKey:["/api/gifted-profile",a]}),Ss({title:"AI Analysis Generated",description:"Professional AI insights have been generated successfully."})},onError:e=>{Ss({title:"Error",description:e.message||"Failed to generate AI analysis.",variant:"destructive"})}});const ks=n({mutationFn:async e=>(await l("POST","/api/gifted_assessments/cognitive",{...e,student_id:a,assessor_name:ws?.email||"Advocate",assessment_date:(new Date).toISOString()})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/gifted-assessments"]}),b.invalidateQueries({queryKey:["/api/gifted-profile"]}),Ss({title:"Cognitive Assessment Saved",description:"Intellectual profile has been documented for gifted programming consideration."}),ls(!1)},onError:e=>{Ss({title:"Error",description:e.message||"Failed to save cognitive assessment.",variant:"destructive"})}}),As=n({mutationFn:async e=>(await l("POST","/api/gifted_assessments/creative",{...e,student_id:a,assessor_name:ws?.email||"Advocate",assessment_date:(new Date).toISOString()})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/gifted-assessments"]}),b.invalidateQueries({queryKey:["/api/gifted-profile"]}),Ss({title:"Enrichment Plan Saved",description:"Advanced learning opportunities have been documented for gifted programming."}),cs(!1)},onError:e=>{Ss({title:"Error",description:e.message||"Failed to save enrichment plan.",variant:"destructive"})}}),Ps=n({mutationFn:async e=>(await l("POST","/api/gifted_assessments/academic",{...e,student_id:a,assessor_name:ws?.email||"Advocate",assessment_date:(new Date).toISOString()})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/gifted-assessments"]}),b.invalidateQueries({queryKey:["/api/gifted-profile"]}),Ss({title:"2E Support Plan Saved",description:"Twice-exceptional support strategies have been documented for comprehensive programming."}),ms(!1)},onError:e=>{Ss({title:"Error",description:e.message||"Failed to save 2E support plan.",variant:"destructive"})}}),Es=["Intellectual/Academic","Creative/Divergent Thinking","Artistic/Visual Arts","Musical","Leadership","Psychomotor","Mathematical","Scientific","Linguistic/Verbal","Spatial"],Is=["ADHD","Autism Spectrum Disorder","Dyslexia","Dysgraphia","Dyscalculia","Executive Function Deficits","Processing Speed Deficits","Working Memory Challenges","Sensory Processing Disorder","Anxiety","Depression"],Fs=async()=>{if(a)if(0!==ys.giftedness_areas.length){Oe(!0);try{const e={student_id:a,assessment_type:ys.assessment_type,giftedness_areas:ys.giftedness_areas,learning_differences:ys.learning_differences.length>0?ys.learning_differences:null,strengths:{notes:ys.strengths},challenges:ys.challenges?{notes:ys.challenges}:null,recommendations:ys.recommendations?{notes:ys.recommendations}:null,enrichment_activities:ys.enrichment_activities?{notes:ys.enrichment_activities}:null,acceleration_needs:ys.acceleration_needs?{notes:ys.acceleration_needs}:null,social_emotional_needs:ys.social_emotional_needs?{notes:ys.social_emotional_needs}:null,evaluator_notes:ys.evaluator_notes,status:ys.status,assessment_date:(new Date).toISOString().split("T")[0],assessor_name:ws?.email||"Professional Advocate"},s=await l("POST","/api/gifted-assessments",e);if(s.ok){const e=await s.json();Ge(s=>[...s,e]),Je(!1),bs({assessment_type:"twice_exceptional",giftedness_areas:[],learning_differences:[],strengths:"",challenges:"",recommendations:"",enrichment_activities:"",acceleration_needs:"",social_emotional_needs:"",evaluator_notes:"",status:"draft"}),Ss({title:"Gifted Assessment Created",description:"Comprehensive gifted assessment has been documented."})}}catch(e){console.error("Error creating gifted assessment:",e),Ss({title:"Error",description:"Failed to create gifted assessment. Please try again.",variant:"destructive"})}finally{Oe(!1)}}else Ss({title:"Required Fields Missing",description:"Please select at least one area of giftedness.",variant:"destructive"});else Ss({title:"Student Required",description:"Please select a student first.",variant:"destructive"})},Ds=()=>{vs({first_name:"",last_name:"",date_of_birth:"",grade_level:"",school_name:"",district:"",iep_status:"Active",disabilities:[],current_services:[],case_manager:"",case_manager_email:"",emergency_contact:"",emergency_phone:"",medical_info:"",notes:"",assigned_client:""})};s.useEffect(()=>{ws&&(Gs(),Ts())},[ws]),s.useEffect(()=>{a&&qs(a)},[a]);const Gs=async()=>{try{const e=await D.getStudents();B(e)}catch(e){console.error("Error fetching students:",e),B([])}},Ts=async()=>{try{const e=await l("GET","/api/parents"),s=await e.json();V(s||[])}catch(e){console.error("Error fetching clients:",e),V([])}},qs=async e=>{try{const t=R.find(s=>s.id===e);U(t||null);const a=(await D.getGoals()).filter(s=>s.student_id===e);H(a||[]);try{localStorage.getItem("authToken");const s=await l("GET",`/api/students/${e}/services`);if(s.ok){const e=await s.json();J(e||[])}else J([]);const t=await l("GET",`/api/students/${e}/cases`);if(t.ok){const e=await t.json();ie(e||[])}else ie([])}catch(s){console.error("Error fetching student services and cases:",s),J([]),ie([])}}catch(s){console.error("Error fetching student data:",s)}},Ks=e=>{switch(e?.toLowerCase()){case"active":return"bg-success text-success-foreground";case"pending":return"bg-warning text-warning-foreground";default:return"bg-muted text-muted-foreground"}};return ws?e.jsxs(p,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Client Students"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your clients' children and track their educational progress"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{variant:"outline",onClick:()=>window.location.replace("/advocate/messages"),"data-testid":"button-communication",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Messages"]}),e.jsxs(g,{children:[e.jsx(j,{asChild:!0,children:e.jsxs(h,{className:"button-premium",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Student",e.jsx(xe,{className:"h-4 w-4 ml-2"})]})}),e.jsxs(f,{align:"end",className:"w-48",children:[e.jsxs(v,{onClick:()=>{Ds(),Be(!0)},children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Add New Student"]}),e.jsxs(v,{onClick:()=>{return Q?(Ue(e=Q),vs({first_name:e.full_name?.split(" ")[0]||"",last_name:e.full_name?.split(" ").slice(1).join(" ")||"",date_of_birth:e.date_of_birth||"",grade_level:e.grade_level||"",school_name:e.school_name||"",district:e.district||"",iep_status:e.iep_status||"Active",disabilities:[],current_services:[],case_manager:e.case_manager||"",case_manager_email:e.case_manager_email||"",emergency_contact:"",emergency_phone:"",medical_info:"",notes:e.notes||"",assigned_client:""}),void Ve(!0)):null;var e},disabled:!Q,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Edit Current Student"]})]})]})]})]}),e.jsx(Z,{selectedStudent:a||"",onStudentChange:z,placeholder:"Select a student to view details and tools...",allowEmpty:!0,"data-testid":"selector-student"}),e.jsx("div",{className:"grid gap-4 sm:gap-6",children:Q?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"premium-card",children:e.jsx(c,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsx(E,{className:"h-12 w-12 sm:h-16 sm:w-16 self-center sm:self-auto",children:e.jsx(I,{className:"text-sm sm:text-lg bg-gradient-primary text-primary-foreground",children:Q.full_name.split(" ").map(e=>e[0]).join("")})}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx(o,{className:"text-lg sm:text-xl md:text-2xl text-gradient",children:Q.full_name}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-4 mt-2 text-sm sm:text-base",children:[e.jsx("span",{children:Q.grade_level?`Grade ${Q.grade_level}`:"Grade not specified"}),e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsx("span",{children:Q.school_name||"School not specified"}),e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsxs(w,{className:`${_(Q.iep_status)} text-xs sm:text-sm self-center sm:self-auto`,children:["IEP: ",Q.iep_status||"Not Set"]})]}),Q.full_name&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 mt-2",children:[e.jsxs("span",{className:"text-xs sm:text-sm",children:["Student: ",Q.full_name]}),e.jsx(h,{asChild:!0,variant:"outline",size:"sm",className:"w-full sm:w-auto min-h-[44px]",children:e.jsxs(t,{to:`/advocate/messages?parent=${Q.parent_id||Q.user_id}&student=${Q.id}`,children:[e.jsx(ge,{className:"h-3 w-3 mr-1"}),"Message Parent"]})})]})]})]})]})})}),e.jsx("div",{className:"w-full mb-6 sm:mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-0.5 sm:p-1 rounded-xl sm:rounded-2xl shadow-lg",children:e.jsxs("div",{className:"flex bg-white dark:bg-gray-900 rounded-lg sm:rounded-xl p-1 sm:p-2 gap-0.5 sm:gap-1 overflow-x-auto scrollbar-hide",children:[e.jsxs("button",{onClick:()=>ze("overview"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("overview"===Le?"bg-gradient-to-r from-slate-500 to-slate-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[e.jsx(je,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"}),e.jsx("span",{className:"sm:hidden",children:"Info"})]}),e.jsxs("button",{onClick:()=>ze("goals"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("goals"===Le?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[e.jsx(de,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Goals"}),e.jsxs("span",{className:"sm:hidden",children:["(",W.length,")"]}),e.jsxs("span",{className:"hidden sm:inline",children:["(",W.length,")"]})]}),e.jsxs("button",{onClick:()=>ze("services"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("services"===Le?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[e.jsx(fe,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Services"}),e.jsxs("span",{className:"sm:hidden",children:["(",Y.length,")"]}),e.jsxs("span",{className:"hidden sm:inline",children:["(",Y.length,")"]})]}),e.jsxs("button",{onClick:()=>ze("accommodations"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("accommodations"===Le?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[e.jsx(ce,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Accommodations"}),e.jsxs("span",{className:"sm:hidden",children:["(",ne.length,")"]}),e.jsxs("span",{className:"hidden sm:inline",children:["(",ne.length,")"]})]}),e.jsxs("button",{onClick:()=>ze("emotions"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("emotions"===Le?"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[e.jsx(ve,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Emotions"}),e.jsx("span",{className:"sm:hidden",children:"Mood"})]}),e.jsxs("button",{onClick:()=>ze("autism"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("autism"===Le?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[e.jsx(_e,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Autism"}),e.jsx("span",{className:"sm:hidden",children:"AI"})]}),e.jsxs("button",{onClick:()=>ze("gifted"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("gifted"===Le?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[e.jsx(oe,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Gifted"}),e.jsx("span",{className:"sm:hidden",children:"GT"})]}),e.jsxs("button",{onClick:()=>ze("communication"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base whitespace-nowrap "+("communication"===Le?"bg-gradient-to-r from-cyan-500 to-cyan-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),"data-testid":"tab-communication",children:[e.jsx(ue,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Communication"}),e.jsx("span",{className:"sm:hidden",children:"Chat"})]})]})})}),"overview"===Le&&e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs(o,{className:"flex items-center text-sm sm:text-base md:text-lg",children:[e.jsx(je,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"IEP Status"]})}),e.jsx(u,{className:"p-3 sm:p-4 md:p-6 pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{className:`${_(Q.iep_status)} text-xs sm:text-sm`,children:Q.iep_status||"Not Set"}),Q.iep_date&&e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["IEP Date: ",new Date(Q.iep_date).toLocaleDateString()]}),Q.next_review_date&&e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Next Review: ",new Date(Q.next_review_date).toLocaleDateString()]})]})})]}),e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center",children:[e.jsx(de,{className:"h-5 w-5 mr-2"}),"Goals Progress"]})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Completed Goals"}),e.jsxs("span",{children:[W.filter(e=>"completed"===e.status).length,"/",W.length]})]}),e.jsx(F,{value:W.length>0?W.filter(e=>"completed"===e.status).length/W.length*100:0,className:"h-2"})]})})]}),e.jsxs(d,{className:"premium-card",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 mr-2"}),"School Info"]})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:Q.school_name||"Not specified"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"School"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:Q.district||"Not specified"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"District"})]})]})})]})]})}),"goals"===Le&&e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsx(o,{children:"IEP Goals"}),e.jsx(m,{children:"Track progress on individualized education program goals"})]}),e.jsx(u,{children:0===W.length?e.jsx("p",{className:"text-muted-foreground",children:"No goals have been set for this student yet."}):e.jsx("div",{className:"space-y-4",children:W.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx(w,{className:Ks(s.status),children:s.status})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.current_progress,"%"]})]}),e.jsx(F,{value:s.current_progress,className:"h-2"})]})]},s.id))})})]})}),"services"===Le&&e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsx(o,{children:"Support Services"}),e.jsx(m,{children:"Special education and related services provided to the student"})]}),e.jsx(u,{children:e.jsx("p",{className:"text-muted-foreground",children:"No services have been documented yet for this student."})})]})}),"accommodations"===Le&&e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"IEP Accommodations",ne.length>0&&e.jsx(w,{variant:"secondary",className:"text-xs",children:ne.length})]}),ne.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[ke&&e.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[e.jsx(h,{onClick:()=>{Ee(ne.map(e=>e.id))},variant:"outline",size:"sm",disabled:Pe.length===ne.length,"data-testid":"button-select-all-accommodations",children:"Select All"}),e.jsx(h,{onClick:()=>{Ee([])},variant:"outline",size:"sm",disabled:0===Pe.length,"data-testid":"button-deselect-all-accommodations",children:"Deselect All"}),e.jsx(h,{onClick:async()=>{if(0===Pe.length)return;if(confirm(`Are you sure you want to delete ${Pe.length} accommodation(s)? This action cannot be undone.`)){Fe(!0);try{const e=Pe.map(e=>l("DELETE",`/api/accommodations/${e}`));await Promise.all(e),re(e=>e.filter(e=>!Pe.includes(e.id))),Ee([]),Ae(!1),b.invalidateQueries({queryKey:["/api/accommodations"]}),b.invalidateQueries({queryKey:["/api/accommodations",a]}),Ss({title:"Success",description:`${Pe.length} accommodation(s) deleted successfully.`})}catch(e){console.error("Error deleting accommodations:",e),Ss({title:"Error",description:"Failed to delete some accommodations. Please try again.",variant:"destructive"})}finally{Fe(!1)}}},variant:"destructive",size:"sm",disabled:0===Pe.length||Ie,"data-testid":"button-delete-selected-accommodations",children:Ie?e.jsx(e.Fragment,{children:"Deleting..."}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"h-4 w-4 mr-1"}),"Delete (",Pe.length,")"]})})]}),e.jsx(h,{onClick:()=>{Ae(!ke),Ee([])},variant:ke?"secondary":"outline",size:"sm","data-testid":"button-toggle-selection-mode",children:ke?e.jsx(e.Fragment,{children:"Cancel"}):e.jsx(e.Fragment,{children:"Select"})})]})]}),e.jsxs(m,{children:["Documented accommodations and modifications for this student",ke&&Pe.length>0&&e.jsxs("span",{className:"ml-2 text-primary font-medium",children:["• ",Pe.length," selected"]})]})]}),e.jsx(u,{children:ne.length>0?e.jsx("div",{className:"space-y-4",children:ne.map(s=>{const t=Pe.includes(s.id);return e.jsx("div",{className:"border rounded-lg p-4 transition-all "+(ke?t?"border-primary bg-primary/5 shadow-sm":"border-muted hover:border-primary/50":""),"data-testid":`accommodation-card-${s.id}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[ke&&e.jsx("div",{className:"mr-3 mt-1",children:e.jsx(O,{checked:t,onCheckedChange:e=>((e,s)=>{Ee(s?s=>[...s,e]:s=>s.filter(s=>s!==e))})(s.id,e),"data-testid":`checkbox-accommodation-${s.id}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.accommodation_type}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description}),s.implementation_notes&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[e.jsx("strong",{children:"Implementation:"})," ",s.implementation_notes]})]}),e.jsx(w,{className:"active"===s.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","data-testid":`status-${s.id}`,children:s.status})]})},s.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Accommodations Documented"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"IEP accommodations and modifications will appear here once they are documented."})]})})]})}),"emotions"===Le&&e.jsx("div",{className:"space-y-6",children:e.jsx(Ke,{selectedStudentId:a})}),"autism"===Le&&e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🧩"}),"Autism Support Tools & Accommodations"]}),e.jsx(w,{variant:"secondary",className:"bg-blue-500/20 text-blue-300 border-blue-400",children:"Professional Tools"})]}),e.jsx(m,{children:"Comprehensive autism support tools for professional advocacy and IEP planning"})]}),e.jsxs(u,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(d,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>Xe(!0),children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg mr-3",children:e.jsx(ye,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm",children:"Sensory Assessment"}),e.jsx(m,{className:"text-xs",children:"Processing & regulation support"})]})]}),e.jsx(me,{className:"h-4 w-4 text-muted-foreground"})]})})}),e.jsx(d,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>ss(!0),children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg mr-3",children:e.jsx(le,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm",children:"Communication Support"}),e.jsx(m,{className:"text-xs",children:"AAC & social communication"})]})]}),e.jsx(me,{className:"h-4 w-4 text-muted-foreground"})]})})}),e.jsx(d,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>as(!0),children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg mr-3",children:e.jsx(X,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm",children:"Behavioral Strategies"}),e.jsx(m,{className:"text-xs",children:"Self-regulation & intervention"})]})]}),e.jsx(me,{className:"h-4 w-4 text-muted-foreground"})]})})}),e.jsx(d,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>ns(!0),children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-500 to-red-600 rounded-lg mr-3",children:e.jsx(ae,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm",children:"AI Autism Insights"}),e.jsx(m,{className:"text-xs",children:"Professional analysis & recommendations"})]})]}),e.jsx(me,{className:"h-4 w-4 text-muted-foreground"})]})})}),e.jsx(d,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 border-blue-200 dark:border-blue-800",children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg mr-3",children:e.jsx(ce,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm",children:"View Full Suite"}),e.jsx(m,{className:"text-xs",children:"Complete autism accommodations"})]})]}),e.jsx(me,{className:"h-4 w-4 text-muted-foreground"})]})})}),e.jsx(d,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-slate-500 to-gray-600 rounded-lg mr-3",children:e.jsx(je,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm",children:"Documentation Hub"}),e.jsx(m,{className:"text-xs",children:"Reports & advocacy materials"})]})]}),e.jsx(me,{className:"h-4 w-4 text-muted-foreground"})]})})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center",children:[e.jsx(se,{className:"h-4 w-4 mr-2 text-blue-600"}),"Professional Autism Support Summary"]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Access evidence-based autism support tools designed for advocates. These professional-grade assessments help document sensory needs, communication requirements, and behavioral supports for comprehensive IEP advocacy."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(w,{variant:"outline",className:"text-xs",children:"Sensory Processing"}),e.jsx(w,{variant:"outline",className:"text-xs",children:"Communication AAC"}),e.jsx(w,{variant:"outline",className:"text-xs",children:"Behavioral Plans"}),e.jsx(w,{variant:"outline",className:"text-xs",children:"AI Analysis"}),e.jsx(w,{variant:"outline",className:"text-xs",children:"IEP Documentation"})]})]})]})]})}),"communication"===Le&&e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 mr-2"}),"Communication & Messaging"]}),e.jsx(m,{children:"Connect with parents and track communication history for this student"})]}),e.jsx(u,{children:e.jsx("div",{className:"space-y-4",children:Q?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full",children:e.jsx(ue,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Parent Communication"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send messages and track conversations with ",Q.full_name,"'s parent"]})]})]}),e.jsx(h,{asChild:!0,children:e.jsxs(t,{to:`/advocate/messages?parent=${Q.parent_id||Q.user_id}&student=${Q.id}`,children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Open Messages"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(d,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(o,{className:"text-sm",children:"Quick Actions"})}),e.jsxs(u,{className:"space-y-2",children:[e.jsx(h,{asChild:!0,variant:"outline",size:"sm",className:"w-full justify-start",children:e.jsxs(t,{to:`/advocate/messages?parent=${Q.parent_id||Q.user_id}&student=${Q.id}`,children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Message Parent"]})}),e.jsx(h,{asChild:!0,variant:"outline",size:"sm",className:"w-full justify-start",children:e.jsxs(t,{to:"/advocate/messages",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"View All Messages"]})})]})]}),e.jsxs(d,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(o,{className:"text-sm",children:"Communication Tips"})}),e.jsx(u,{children:e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Schedule regular check-ins with parents"}),e.jsx("li",{children:"• Share progress updates and concerns"}),e.jsx("li",{children:"• Document important conversations"}),e.jsx("li",{children:"• Maintain professional communication"})]})})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ue,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Select a student to access communication tools"})]})})})]})}),"gifted"===Le&&e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{className:"premium-card",children:[e.jsxs(c,{children:[e.jsx(o,{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🎓"}),"Gifted & Twice-Exceptional Support"]})}),e.jsx(m,{children:"Advanced learning assessments and support for gifted and 2E learners"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 mt-6",children:(()=>{const s="AI Insights",t="Get intelligent analysis and recommendations",i="🤖",n="text-indigo-600",r="ai_insights",l=e=>{if(a)switch(e){case"cognitive":ls(!0);break;case"enrichment":cs(!0);break;case"2e_support":ms(!0);break;case"ai_insights":hs(!0);break;case"create":ps(!0)}else Ss({title:"Student Required",description:"Please select a student first.",variant:"destructive"})};return e.jsxs(e.Fragment,{children:[[{id:"cognitive",title:"Cognitive Assessment",description:"Track intellectual abilities and learning patterns",icon:"🧠",color:"text-blue-600",view:"cognitive"},{id:"enrichment",title:"Enrichment Needs",description:"Document advanced learning opportunities",icon:"⚡",color:"text-green-600",view:"enrichment"},{id:"twice_exceptional",title:"2E Support",description:"Address unique twice-exceptional needs",icon:"🎯",color:"text-purple-600",view:"2e_support"}].map(s=>e.jsxs("button",{onClick:()=>l(s.view),className:"bg-muted/30 p-4 rounded-lg border hover:bg-muted/50 transition-colors text-left group cursor-pointer","data-testid":`button-gifted-${s.id}`,children:[e.jsx("div",{className:`${s.color} mb-2 text-xl group-hover:scale-110 transition-transform`,children:s.icon}),e.jsx("h4",{className:"font-medium mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]},s.id)),e.jsxs("button",{onClick:()=>l(r),className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 p-4 rounded-lg border hover:from-indigo-200 hover:to-purple-200 dark:hover:from-indigo-800 dark:hover:to-purple-800 transition-colors text-left group cursor-pointer","data-testid":"button-gifted-ai-insights",children:[e.jsx("div",{className:`${n} mb-2 text-xl group-hover:scale-110 transition-transform`,children:i}),e.jsx("h4",{className:"font-medium mb-1",children:s}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t}),e.jsx(w,{variant:"secondary",className:"mt-2 text-xs",children:"NEW"})]}),e.jsxs("button",{onClick:()=>l("create"),className:"bg-orange-50 dark:bg-orange-950 p-4 rounded-lg border hover:bg-orange-100 dark:hover:bg-orange-900 transition-colors text-left group cursor-pointer","data-testid":"button-gifted-create-assessment",children:[e.jsx("div",{className:"text-orange-600 mb-2 text-xl group-hover:scale-110 transition-transform",children:"📝"}),e.jsx("h4",{className:"font-medium mb-1",children:"Quick Assessment"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a comprehensive assessment"})]})]})})()}),De.length>0&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Existing Assessments"}),e.jsx("div",{className:"grid gap-3",children:De.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h5",{className:"font-medium capitalize flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),s.assessment_type?.replace("_"," ")," Assessment"]}),e.jsx(w,{variant:"completed"===s.status?"default":"secondary",children:s.status})]}),s.giftedness_areas&&s.giftedness_areas.length>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Areas: "}),s.giftedness_areas.join(", ")]})]},s.id))})]}),De.length>0&&e.jsx("div",{className:"mt-6 p-4 bg-purple-50 dark:bg-purple-950 rounded-lg border",children:e.jsxs("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:["✅ You have ",De.length," gifted assessments for this student"]})})]})]})})]}):e.jsx(d,{className:"premium-card",children:e.jsxs(u,{className:"p-8 text-center",children:[e.jsx(be,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Student"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Choose a student from the dropdown above to access their IEP details, advocacy tools, and comprehensive resources."}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{children:"Emotion Tracking"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Autism Tools"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Gifted Assessments"})]})]})]})})})]}),e.jsx(G,{open:Re,onOpenChange:Be,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsx(K,{children:"Add New Student"}),e.jsx($,{children:"Add a new student to your client roster. Fill in the information below to create their profile."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"first_name",children:"First Name *"}),e.jsx(y,{id:"first_name",value:fs.first_name,onChange:e=>vs({...fs,first_name:e.target.value}),placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(y,{id:"last_name",value:fs.last_name,onChange:e=>vs({...fs,last_name:e.target.value}),placeholder:"Enter last name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"date_of_birth",children:"Date of Birth"}),e.jsx(y,{id:"date_of_birth",type:"date",value:fs.date_of_birth,onChange:e=>vs({...fs,date_of_birth:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"grade_level",children:"Grade Level"}),e.jsxs(S,{value:fs.grade_level,onValueChange:e=>vs({...fs,grade_level:e}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select grade"})}),e.jsxs(A,{children:[e.jsx(P,{value:"Pre-K",children:"Pre-K"}),e.jsx(P,{value:"K",children:"Kindergarten"}),e.jsx(P,{value:"1",children:"1st Grade"}),e.jsx(P,{value:"2",children:"2nd Grade"}),e.jsx(P,{value:"3",children:"3rd Grade"}),e.jsx(P,{value:"4",children:"4th Grade"}),e.jsx(P,{value:"5",children:"5th Grade"}),e.jsx(P,{value:"6",children:"6th Grade"}),e.jsx(P,{value:"7",children:"7th Grade"}),e.jsx(P,{value:"8",children:"8th Grade"}),e.jsx(P,{value:"9",children:"9th Grade"}),e.jsx(P,{value:"10",children:"10th Grade"}),e.jsx(P,{value:"11",children:"11th Grade"}),e.jsx(P,{value:"12",children:"12th Grade"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"School Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"school_name",children:"School Name"}),e.jsx(y,{id:"school_name",value:fs.school_name,onChange:e=>vs({...fs,school_name:e.target.value}),placeholder:"Enter school name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"district",children:"School District"}),e.jsx(y,{id:"district",value:fs.district,onChange:e=>vs({...fs,district:e.target.value}),placeholder:"Enter school district"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Parent Assignment"}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assigned_client",children:"Assign to Parent Client *"}),e.jsxs(S,{value:fs.assigned_client,onValueChange:e=>vs({...fs,assigned_client:e}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select parent client"})}),e.jsx(A,{children:M.map(s=>e.jsx(P,{value:s.client_id,children:s.full_name||s.email},s.id))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"IEP Status"}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"iep_status",children:"Current IEP Status"}),e.jsxs(S,{value:fs.iep_status,onValueChange:e=>vs({...fs,iep_status:e}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select IEP status"})}),e.jsxs(A,{children:[e.jsx(P,{value:"Active",children:"Active"}),e.jsx(P,{value:"Under Review",children:"Under Review"}),e.jsx(P,{value:"Expired",children:"Expired"}),e.jsx(P,{value:"Pending",children:"Pending"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"case_manager",children:"Case Manager"}),e.jsx(y,{id:"case_manager",value:fs.case_manager,onChange:e=>vs({...fs,case_manager:e.target.value}),placeholder:"Enter case manager name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"case_manager_email",children:"Case Manager Email"}),e.jsx(y,{id:"case_manager_email",type:"email",value:fs.case_manager_email,onChange:e=>vs({...fs,case_manager_email:e.target.value}),placeholder:"Enter case manager email"})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"notes",children:"Notes"}),e.jsx(L,{id:"notes",value:fs.notes,onChange:e=>vs({...fs,notes:e.target.value}),placeholder:"Enter any additional notes about the student...",rows:3})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>Be(!1),children:"Cancel"}),e.jsx(h,{onClick:async()=>{if(fs.first_name&&fs.last_name&&fs.assigned_client){Oe(!0);try{const e={...fs,full_name:`${fs.first_name} ${fs.last_name}`,parent_id:fs.assigned_client};(await l("POST","/api/students",e)).ok&&(Be(!1),Ds(),Gs(),Ss({title:"Success",description:"Student added successfully"}),setTimeout(()=>{window.location.reload()},1500))}catch(e){console.error("Error adding student:",e),Ss({title:"Error",description:"Failed to add student",variant:"destructive"})}finally{Oe(!1)}}},disabled:$e,children:$e?"Adding...":"Add Student"})]})]})}),e.jsx(G,{open:Me,onOpenChange:Ve,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsx(K,{children:"Edit Student Information"}),e.jsx($,{children:"Update the student's information below. All changes will be saved to their profile."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_first_name",children:"First Name *"}),e.jsx(y,{id:"edit_first_name",value:fs.first_name,onChange:e=>vs({...fs,first_name:e.target.value}),placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_last_name",children:"Last Name *"}),e.jsx(y,{id:"edit_last_name",value:fs.last_name,onChange:e=>vs({...fs,last_name:e.target.value}),placeholder:"Enter last name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_date_of_birth",children:"Date of Birth"}),e.jsx(y,{id:"edit_date_of_birth",type:"date",value:fs.date_of_birth,onChange:e=>vs({...fs,date_of_birth:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_grade_level",children:"Grade Level"}),e.jsxs(S,{value:fs.grade_level,onValueChange:e=>vs({...fs,grade_level:e}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select grade"})}),e.jsxs(A,{children:[e.jsx(P,{value:"Pre-K",children:"Pre-K"}),e.jsx(P,{value:"K",children:"Kindergarten"}),e.jsx(P,{value:"1",children:"1st Grade"}),e.jsx(P,{value:"2",children:"2nd Grade"}),e.jsx(P,{value:"3",children:"3rd Grade"}),e.jsx(P,{value:"4",children:"4th Grade"}),e.jsx(P,{value:"5",children:"5th Grade"}),e.jsx(P,{value:"6",children:"6th Grade"}),e.jsx(P,{value:"7",children:"7th Grade"}),e.jsx(P,{value:"8",children:"8th Grade"}),e.jsx(P,{value:"9",children:"9th Grade"}),e.jsx(P,{value:"10",children:"10th Grade"}),e.jsx(P,{value:"11",children:"11th Grade"}),e.jsx(P,{value:"12",children:"12th Grade"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"School Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_school_name",children:"School Name"}),e.jsx(y,{id:"edit_school_name",value:fs.school_name,onChange:e=>vs({...fs,school_name:e.target.value}),placeholder:"Enter school name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_district",children:"School District"}),e.jsx(y,{id:"edit_district",value:fs.district,onChange:e=>vs({...fs,district:e.target.value}),placeholder:"Enter school district"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"IEP Status"}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_iep_status",children:"Current IEP Status"}),e.jsxs(S,{value:fs.iep_status,onValueChange:e=>vs({...fs,iep_status:e}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select IEP status"})}),e.jsxs(A,{children:[e.jsx(P,{value:"Active",children:"Active"}),e.jsx(P,{value:"Under Review",children:"Under Review"}),e.jsx(P,{value:"Expired",children:"Expired"}),e.jsx(P,{value:"Pending",children:"Pending"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_case_manager",children:"Case Manager"}),e.jsx(y,{id:"edit_case_manager",value:fs.case_manager,onChange:e=>vs({...fs,case_manager:e.target.value}),placeholder:"Enter case manager name"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_case_manager_email",children:"Case Manager Email"}),e.jsx(y,{id:"edit_case_manager_email",type:"email",value:fs.case_manager_email,onChange:e=>vs({...fs,case_manager_email:e.target.value}),placeholder:"Enter case manager email"})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit_notes",children:"Notes"}),e.jsx(L,{id:"edit_notes",value:fs.notes,onChange:e=>vs({...fs,notes:e.target.value}),placeholder:"Enter any additional notes about the student...",rows:3})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>Ve(!1),children:"Cancel"}),e.jsx(h,{onClick:async()=>{if(Qe&&fs.first_name&&fs.last_name){Oe(!0);try{const e={...fs,full_name:`${fs.first_name} ${fs.last_name}`};(await l("PUT",`/api/students/${Qe.id}`,e)).ok&&(Ve(!1),Ue(null),Ds(),Gs(),Ss({title:"Success",description:"Student updated successfully"}))}catch(e){console.error("Error updating student:",e),Ss({title:"Error",description:"Failed to update student",variant:"destructive"})}finally{Oe(!1)}}},disabled:$e,children:$e?"Saving...":"Save Changes"})]})]})}),e.jsx(G,{open:We,onOpenChange:He,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5 text-blue-600"}),"Create Autism Support Profile"]}),e.jsx($,{children:"Document professional autism accommodations and support strategies for advocacy and IEP planning."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"autism_title",children:"Profile Title *"}),e.jsx(y,{id:"autism_title",value:_s.title,onChange:e=>Ns({..._s,title:e.target.value}),placeholder:"e.g., Comprehensive Autism Support Plan"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"autism_category",children:"Primary Category"}),e.jsxs(S,{value:_s.category,onValueChange:e=>Ns({..._s,category:e}),children:[e.jsx(C,{children:e.jsx(k,{})}),e.jsxs(A,{children:[e.jsx(P,{value:"sensory",children:"Sensory Processing Support"}),e.jsx(P,{value:"communication",children:"Communication Support"}),e.jsx(P,{value:"academic",children:"Academic Accommodations"}),e.jsx(P,{value:"behavioral",children:"Behavioral Support"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"autism_description",children:"Professional Description *"}),e.jsx(L,{id:"autism_description",value:_s.description,onChange:e=>Ns({..._s,description:e.target.value}),placeholder:"Document the specific autism-related needs, interventions, and accommodations required...",rows:4})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"autism_implementation",children:"Implementation Notes"}),e.jsx(L,{id:"autism_implementation",value:_s.implementation_notes,onChange:e=>Ns({..._s,implementation_notes:e.target.value}),placeholder:"Specific strategies for implementation, staff training needs, and monitoring protocols...",rows:3})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Professional Accommodation Categories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"sensory",title:"Sensory Processing Support",description:"Environmental and sensory accommodations",items:[{id:"noise-canceling",title:"Noise-Canceling Headphones",description:"Access to noise-canceling headphones for auditory sensitivities",iepLanguage:"Student will have access to noise-canceling headphones during instruction to manage auditory sensitivities and maintain focus."},{id:"sensory-breaks",title:"Sensory Regulation Breaks",description:"Scheduled sensory breaks every 30 minutes",iepLanguage:"Student will receive sensory regulation breaks every 30 minutes or as needed to prevent overstimulation and maintain self-regulation."},{id:"fidget-tools",title:"Sensory Fidget Tools",description:"Access to approved fidget tools during instruction",iepLanguage:"Student may use approved sensory fidget tools during instruction to support attention and self-regulation without disrupting learning."},{id:"lighting",title:"Lighting Modifications",description:"Preferential seating away from fluorescent lighting",iepLanguage:"Student will be provided seating away from fluorescent lights and access to natural lighting when possible to accommodate visual sensitivities."}]},{id:"communication",title:"Communication Support",description:"Augmentative and alternative communication strategies",items:[{id:"visual-schedules",title:"Visual Schedule Systems",description:"Visual schedules and transition supports",iepLanguage:"Student will be provided with visual schedules and transition supports to reduce anxiety and support executive functioning."},{id:"aac-device",title:"AAC Technology",description:"Access to augmentative communication device",iepLanguage:"Student will have access to appropriate augmentative and alternative communication (AAC) technology to support expressive communication needs."},{id:"social-scripts",title:"Social Communication Scripts",description:"Pre-written scripts for social interactions",iepLanguage:"Student will be provided with social communication scripts and prompts to support appropriate peer interactions and social skill development."}]},{id:"academic",title:"Academic Accommodations",description:"Learning and assessment modifications",items:[{id:"extended-time",title:"Extended Time",description:"Additional time for assignments and assessments",iepLanguage:"Student will receive extended time (1.5x) for assignments and assessments to accommodate processing differences."},{id:"task-chunking",title:"Task Breakdown",description:"Breaking complex tasks into smaller components",iepLanguage:"Complex assignments will be broken down into smaller, manageable components with clear step-by-step instructions."},{id:"visual-supports",title:"Visual Learning Supports",description:"Graphic organizers and visual aids",iepLanguage:"Student will be provided with graphic organizers, visual aids, and written instructions to support comprehension and organization."}]},{id:"behavioral",title:"Behavioral Support",description:"Positive behavior interventions and supports",items:[{id:"behavior-plan",title:"Individualized Behavior Plan",description:"Comprehensive positive behavior support plan",iepLanguage:"Student will have an individualized positive behavior support plan that includes antecedent strategies, replacement behaviors, and response protocols."},{id:"break-requests",title:"Self-Advocacy for Breaks",description:"Visual system for requesting breaks",iepLanguage:"Student will be taught and provided with a visual system to request breaks when feeling overwhelmed or overstimulated."},{id:"calming-strategies",title:"Self-Regulation Strategies",description:"Explicit instruction in calming techniques",iepLanguage:"Student will receive explicit instruction in self-regulation strategies including deep breathing, counting, and appropriate help-seeking behaviors."}]}].map(s=>e.jsxs(d,{className:"border-blue-200",children:[e.jsxs(c,{className:"pb-3",children:[e.jsx(o,{className:"text-sm flex items-center gap-2",children:s.title}),e.jsx(m,{className:"text-xs",children:s.description})]}),e.jsx(u,{className:"space-y-2",children:s.items.slice(0,2).map(s=>e.jsxs("div",{className:"text-xs p-2 bg-blue-50 rounded",children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsx("div",{className:"text-muted-foreground",children:s.description})]},s.id))})]},s.id))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>He(!1),children:"Cancel"}),e.jsx(h,{onClick:async()=>{if(a)if(_s.title&&_s.description){Oe(!0);try{const e={..._s,student_id:a,user_id:ws?.id},s=await l("POST","/api/autism_accommodations",e);if(s.ok){const e=await s.json();Ce(s=>[...s,e]),He(!1),Ns({title:"",description:"",category:"sensory",accommodation_type:"modification",implementation_notes:"",sensory_profile:{},communication_needs:{},social_supports:{},academic_supports:{},behavioral_triggers:{},environmental_modifications:{},technology_supports:{},status:"active"}),Ss({title:"Autism Support Profile Created",description:"Professional autism accommodations have been documented."})}}catch(e){console.error("Error creating autism accommodation:",e),Ss({title:"Error",description:"Failed to create autism support profile. Please try again.",variant:"destructive"})}finally{Oe(!1)}}else Ss({title:"Required Fields Missing",description:"Please fill in title and description.",variant:"destructive"});else Ss({title:"Student Required",description:"Please select a student first.",variant:"destructive"})},disabled:$e,children:$e?"Creating...":"Create Support Profile"})]})]})}),e.jsx(G,{open:Ye,onOpenChange:Je,children:e.jsxs(T,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-purple-600"}),"Create Gifted & Twice-Exceptional Assessment"]}),e.jsx($,{children:"Document comprehensive gifted assessment and twice-exceptional profile for educational planning."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assessment_type",children:"Assessment Type"}),e.jsxs(S,{value:ys.assessment_type,onValueChange:e=>bs({...ys,assessment_type:e}),children:[e.jsx(C,{children:e.jsx(k,{})}),e.jsxs(A,{children:[e.jsx(P,{value:"twice_exceptional",children:"Twice-Exceptional Profile"}),e.jsx(P,{value:"cognitive",children:"Cognitive Assessment"}),e.jsx(P,{value:"academic",children:"Academic Assessment"}),e.jsx(P,{value:"creative",children:"Creative Assessment"}),e.jsx(P,{value:"leadership",children:"Leadership Assessment"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Areas of Giftedness *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Es.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:`gifted_${s}`,checked:ys.giftedness_areas.includes(s),onCheckedChange:e=>{bs(e?{...ys,giftedness_areas:[...ys.giftedness_areas,s]}:{...ys,giftedness_areas:ys.giftedness_areas.filter(e=>e!==s)})}}),e.jsx(N,{htmlFor:`gifted_${s}`,className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Learning Differences (2e Profile)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Is.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:`diff_${s}`,checked:ys.learning_differences.includes(s),onCheckedChange:e=>{bs(e?{...ys,learning_differences:[...ys.learning_differences,s]}:{...ys,learning_differences:ys.learning_differences.filter(e=>e!==s)})}}),e.jsx(N,{htmlFor:`diff_${s}`,className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"strengths",children:"Identified Strengths"}),e.jsx(L,{id:"strengths",value:ys.strengths,onChange:e=>bs({...ys,strengths:e.target.value}),placeholder:"Document specific areas of exceptional ability and talent...",rows:4})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"challenges",children:"Areas of Challenge"}),e.jsx(L,{id:"challenges",value:ys.challenges,onChange:e=>bs({...ys,challenges:e.target.value}),placeholder:"Note specific learning challenges or areas requiring support...",rows:4})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"recommendations",children:"Professional Recommendations"}),e.jsx(L,{id:"recommendations",value:ys.recommendations,onChange:e=>bs({...ys,recommendations:e.target.value}),placeholder:"Specific educational recommendations and interventions...",rows:3})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"enrichment",children:"Enrichment Activities"}),e.jsx(L,{id:"enrichment",value:ys.enrichment_activities,onChange:e=>bs({...ys,enrichment_activities:e.target.value}),placeholder:"Suggested enrichment and acceleration opportunities...",rows:3})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"evaluator_notes",children:"Professional Evaluation Notes"}),e.jsx(L,{id:"evaluator_notes",value:ys.evaluator_notes,onChange:e=>bs({...ys,evaluator_notes:e.target.value}),placeholder:"Comprehensive professional notes on assessment findings, observations, and next steps...",rows:4})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>Je(!1),children:"Cancel"}),e.jsx(h,{onClick:Fs,disabled:$e,children:$e?"Creating...":"Create Assessment"})]})]})}),e.jsx(G,{open:Ze,onOpenChange:Xe,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🔊"}),"Sensory Accommodations Assessment"]}),e.jsx($,{children:"Document sensory processing needs and environmental modifications for advocacy and IEP planning."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Auditory Processing"})}),e.jsx(u,{className:"space-y-3",children:[{id:"noise-sensitivity",label:"Noise-canceling headphones needed",desc:"Reduces auditory distractions and sensory overload"},{id:"quiet-space",label:"Access to quiet workspace",desc:"Designated low-noise area for focused work"},{id:"audio-processing",label:"Extended processing time for audio instructions",desc:"Additional time to process verbal information"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Visual Processing"})}),e.jsx(u,{className:"space-y-3",children:[{id:"lighting",label:"Lighting modifications needed",desc:"Avoid fluorescent lights, provide natural lighting when possible"},{id:"visual-supports",label:"Enhanced visual supports",desc:"Visual schedules, graphic organizers, and written instructions"},{id:"screen-breaks",label:"Regular screen breaks",desc:"Scheduled breaks from digital devices to prevent eye strain"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Tactile & Movement"})}),e.jsx(u,{className:"space-y-3",children:[{id:"fidget-tools",label:"Approved fidget tools",desc:"Sensory fidgets to support attention and self-regulation"},{id:"movement-breaks",label:"Scheduled movement breaks",desc:"Regular opportunities for gross motor movement"},{id:"flexible-seating",label:"Alternative seating options",desc:"Standing desk, therapy ball, or wobble cushion"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Environmental"})}),e.jsx(u,{className:"space-y-3",children:[{id:"reduce-clutter",label:"Organized, clutter-free workspace",desc:"Minimize visual distractions in learning environment"},{id:"predictable-routine",label:"Consistent daily routine",desc:"Structured schedule with advance notice of changes"},{id:"calm-down-space",label:"Access to regulation space",desc:"Quiet area for self-regulation when overwhelmed"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"sensory-notes",children:"Professional Assessment Notes"}),e.jsx(L,{id:"sensory-notes",placeholder:"Document specific sensory triggers, effective strategies observed, and recommended accommodations for IEP team consideration...",rows:4})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to document sensory accommodations."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>Xe(!1),children:"Cancel"}),e.jsx(h,{onClick:()=>{Ss({title:"Sensory Assessment Saved",description:"Sensory accommodation recommendations have been documented for advocacy use."}),Xe(!1)},disabled:!a,children:"Save Assessment"})]})]})}),e.jsx(G,{open:es,onOpenChange:ss,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"💬"}),"Communication Support Assessment"]}),e.jsx($,{children:"Evaluate communication needs and document support strategies for effective advocacy."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Expressive Communication"})}),e.jsx(u,{className:"space-y-3",children:[{id:"aac-device",label:"AAC technology support",desc:"Speech-generating device or communication app access"},{id:"visual-supports",label:"Visual communication aids",desc:"Picture cards, visual schedules, and choice boards"},{id:"extra-response-time",label:"Extended response time",desc:"Additional time to formulate and express responses"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Receptive Communication"})}),e.jsx(u,{className:"space-y-3",children:[{id:"simplified-language",label:"Clear, simplified instructions",desc:"Concise directions with concrete language"},{id:"multiple-modalities",label:"Multi-modal instruction delivery",desc:"Visual, auditory, and written instruction formats"},{id:"comprehension-checks",label:"Regular comprehension monitoring",desc:"Frequent check-ins to ensure understanding"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Social Communication"})}),e.jsx(u,{className:"space-y-3",children:[{id:"social-scripts",label:"Pre-written social scripts",desc:"Structured language for common social interactions"},{id:"peer-support",label:"Peer communication buddy system",desc:"Trained peer support for social interactions"},{id:"social-stories",label:"Social stories and role-playing",desc:"Explicit instruction in social communication norms"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"communication-goals",children:"Communication Goals & Progress"}),e.jsx(L,{id:"communication-goals",placeholder:"Document current communication abilities, specific goals, and progress observed. Include recommended services and supports...",rows:4})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to assess communication needs."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>ss(!1),children:"Cancel"}),e.jsx(h,{onClick:()=>{Ss({title:"Communication Assessment Saved",description:"Communication support strategies have been documented successfully."}),ss(!1)},disabled:!a,children:"Save Assessment"})]})]})}),e.jsx(G,{open:ts,onOpenChange:as,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🎭"}),"Behavioral Strategies & Support Plan"]}),e.jsx($,{children:"Document behavioral interventions and positive support strategies for comprehensive advocacy."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Antecedent Strategies"})}),e.jsx(u,{className:"space-y-3",children:[{id:"environmental-mods",label:"Environmental modifications",desc:"Adjust setting to prevent challenging behaviors"},{id:"visual-schedule",label:"Predictable visual schedule",desc:"Clear schedule with advance notice of changes"},{id:"choice-making",label:"Structured choice opportunities",desc:"Provide meaningful choices to increase engagement"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Teaching Strategies"})}),e.jsx(u,{className:"space-y-3",children:[{id:"replacement-behaviors",label:"Teach replacement behaviors",desc:"Explicitly teach appropriate alternative behaviors"},{id:"self-regulation",label:"Self-regulation skills training",desc:"Coping strategies and emotional regulation techniques"},{id:"social-skills",label:"Explicit social skills instruction",desc:"Direct teaching of social interaction skills"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Reinforcement & Response"})}),e.jsx(u,{className:"space-y-3",children:[{id:"positive-reinforcement",label:"Individualized reinforcement system",desc:"Motivating rewards for appropriate behaviors"},{id:"break-system",label:"Self-advocacy break system",desc:"Student can request breaks when feeling overwhelmed"},{id:"de-escalation",label:"Consistent de-escalation protocol",desc:"Calm, predictable response to challenging behaviors"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"behavior-plan",children:"Behavioral Intervention Plan"}),e.jsx(L,{id:"behavior-plan",placeholder:"Document target behaviors, functional assessment results, intervention strategies, and data collection methods for IEP team...",rows:4})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"crisis-plan",children:"Crisis Prevention & Response"}),e.jsx(L,{id:"crisis-plan",placeholder:"Outline early warning signs, prevention strategies, and appropriate response protocols for crisis situations...",rows:3})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to develop behavioral strategies."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>as(!1),children:"Cancel"}),e.jsx(h,{onClick:()=>{Ss({title:"Behavioral Plan Saved",description:"Behavioral intervention strategies have been documented for advocacy use."}),as(!1)},disabled:!a,children:"Save Intervention Plan"})]})]})}),e.jsx(G,{open:is,onOpenChange:ns,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🤖"}),"AI Autism Insights & Recommendations"]}),e.jsx($,{children:"Generate intelligent autism-specific analysis and advocacy recommendations based on student profile."})]}),e.jsx("div",{className:"space-y-6 py-4",children:e.jsx(qe,{selectedStudentId:a})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>ns(!1),children:"Close"}),e.jsx(h,{onClick:()=>{Ss({title:"AI Insights Saved",description:"Autism-specific recommendations have been saved for advocacy documentation."}),ns(!1)},disabled:!a||!gs,children:"Save Insights"})]})]})}),e.jsx(G,{open:rs,onOpenChange:ls,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🧠"}),"Cognitive Assessment & Intellectual Profile"]}),e.jsx($,{children:"Comprehensive cognitive assessment for gifted identification and educational planning."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Intellectual Strengths"})}),e.jsx(u,{className:"space-y-3",children:[{id:"verbal-reasoning",label:"Verbal reasoning & comprehension",desc:"Advanced language processing and abstract reasoning"},{id:"mathematical-thinking",label:"Mathematical reasoning",desc:"Complex problem-solving and quantitative skills"},{id:"spatial-abilities",label:"Visual-spatial processing",desc:"Strong spatial visualization and pattern recognition"},{id:"memory-skills",label:"Working memory capacity",desc:"Ability to hold and manipulate information mentally"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Processing Speed & Attention"})}),e.jsx(u,{className:"space-y-3",children:[{id:"processing-speed",label:"Rapid information processing",desc:"Quick cognitive processing and response time"},{id:"sustained-attention",label:"Sustained attention span",desc:"Ability to maintain focus on complex tasks"},{id:"selective-attention",label:"Selective attention skills",desc:"Filter irrelevant information effectively"},{id:"cognitive-flexibility",label:"Cognitive flexibility",desc:"Adapt thinking strategies and switch between concepts"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-sm",children:"Creativity Indicators"})}),e.jsx(u,{children:e.jsxs("ul",{className:"text-xs space-y-1",children:[e.jsx("li",{children:"• Original thinking patterns"}),e.jsx("li",{children:"• Divergent problem-solving"}),e.jsx("li",{children:"• Imaginative expression"}),e.jsx("li",{children:"• Novel solution generation"})]})})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-sm",children:"Learning Characteristics"})}),e.jsx(u,{children:e.jsxs("ul",{className:"text-xs space-y-1",children:[e.jsx("li",{children:"• Rapid skill acquisition"}),e.jsx("li",{children:"• Deep content mastery"}),e.jsx("li",{children:"• Independent learning"}),e.jsx("li",{children:"• Complex reasoning ability"})]})})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-sm",children:"Social-Emotional"})}),e.jsx(u,{children:e.jsxs("ul",{className:"text-xs space-y-1",children:[e.jsx("li",{children:"• Heightened sensitivity"}),e.jsx("li",{children:"• Perfectionist tendencies"}),e.jsx("li",{children:"• Intense interests"}),e.jsx("li",{children:"• Emotional complexity"})]})})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"cognitive-assessment",children:"Professional Cognitive Assessment"}),e.jsx(L,{id:"cognitive-assessment",placeholder:"Document specific cognitive strengths, assessment results, learning patterns, and educational implications for gifted programming consideration...",rows:4})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to conduct cognitive assessment."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>ls(!1),children:"Cancel"}),e.jsx(h,{onClick:async()=>{if(!a)return void Ss({title:"Error",description:"Please select a student first.",variant:"destructive"});const e=(()=>{const e=["verbal-reasoning","mathematical-thinking","spatial-abilities","memory-skills"].filter(e=>{const s=document.getElementById(e);return s?.checked}),s=["processing-speed","sustained-attention","selective-attention","cognitive-flexibility"].filter(e=>{const s=document.getElementById(e);return s?.checked}),t=document.getElementById("cognitive-assessment")?.value||"";return{assessment_type:"cognitive",strengths:{intellectual_strengths:e,processing_skills:s,notes:t},giftedness_areas:["Intellectual"],evaluator_notes:t,status:"completed"}})();ks.mutate(e)},disabled:!a||ks.isPending,children:ks.isPending?"Saving...":"Save Assessment"})]})]})}),e.jsx(G,{open:ds,onOpenChange:cs,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"⚡"}),"Enrichment & Acceleration Planning"]}),e.jsx($,{children:"Document advanced learning opportunities and acceleration needs for gifted programming."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Academic Acceleration"})}),e.jsx(u,{className:"space-y-3",children:[{id:"grade-skip",label:"Grade-level acceleration",desc:"Advancement to higher grade level for appropriate challenge"},{id:"subject-acceleration",label:"Single-subject acceleration",desc:"Advanced placement in specific subject areas"},{id:"curriculum-compacting",label:"Curriculum compacting",desc:"Streamlined content to allow time for enrichment"},{id:"early-entry",label:"Early program entry",desc:"Early admission to advanced programs or classes"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Enrichment Strategies"})}),e.jsx(u,{className:"space-y-3",children:[{id:"independent-study",label:"Independent research projects",desc:"Self-directed deep dive into areas of interest"},{id:"mentorship",label:"Expert mentorship programs",desc:"Connection with professionals in field of interest"},{id:"competitions",label:"Academic competitions",desc:"Opportunities for intellectual challenge and recognition"},{id:"dual-enrollment",label:"Dual enrollment options",desc:"College-level coursework while in high school"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Specialized Programs & Services"})}),e.jsx(u,{className:"space-y-3",children:[{id:"pull-out-program",label:"Gifted pull-out program",desc:"Specialized instruction with intellectual peers"},{id:"cluster-grouping",label:"Cluster grouping",desc:"Placement with other high-ability students"},{id:"magnet-programs",label:"Magnet or specialty programs",desc:"Specialized schools or programs for gifted learners"},{id:"summer-programs",label:"Summer enrichment programs",desc:"Intensive summer learning opportunities"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"enrichment-plan",children:"Comprehensive Enrichment Plan"}),e.jsx(L,{id:"enrichment-plan",placeholder:"Detail specific enrichment recommendations, acceleration considerations, timeline for implementation, and measures for monitoring progress...",rows:4})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to plan enrichment activities."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>cs(!1),children:"Cancel"}),e.jsx(h,{onClick:async()=>{if(!a)return void Ss({title:"Error",description:"Please select a student first.",variant:"destructive"});const e=(()=>{const e=["grade-skip","subject-acceleration","curriculum-compacting","early-entry"].filter(e=>{const s=document.getElementById(e);return s?.checked}),s=["independent-study","mentorship","competitions","dual-enrollment"].filter(e=>{const s=document.getElementById(e);return s?.checked}),t=["pull-out-program","cluster-grouping","magnet-programs","summer-programs"].filter(e=>{const s=document.getElementById(e);return s?.checked}),a=document.getElementById("enrichment-plan")?.value||"";return{assessment_type:"creative",strengths:{academic_acceleration:e,enrichment_strategies:s,specialized_programs:t,notes:a},enrichment_activities:{academic_acceleration:e,enrichment_strategies:s,specialized_programs:t,notes:a},giftedness_areas:["Creative"],evaluator_notes:a,status:"completed"}})();As.mutate(e)},disabled:!a||As.isPending,children:As.isPending?"Saving...":"Save Plan"})]})]})}),e.jsx(G,{open:os,onOpenChange:ms,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🎯"}),"Twice-Exceptional (2E) Support Planning"]}),e.jsx($,{children:"Comprehensive support for students who are both gifted and have learning differences or disabilities."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Strength-Based Approaches"})}),e.jsx(u,{className:"space-y-3",children:[{id:"strength-focus",label:"Leverage intellectual strengths",desc:"Use gifted abilities to support areas of challenge"},{id:"interest-integration",label:"Integrate special interests",desc:"Incorporate passions into remediation efforts"},{id:"bypass-strategies",label:"Bypass deficit areas",desc:"Alternative methods to demonstrate knowledge"},{id:"technology-tools",label:"Assistive technology",desc:"Tools to support areas of learning difference"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Accommodation Strategies"})}),e.jsx(u,{className:"space-y-3",children:[{id:"processing-time",label:"Extended processing time",desc:"Additional time for complex task completion"},{id:"alternative-assessment",label:"Alternative assessment formats",desc:"Varied ways to demonstrate mastery"},{id:"executive-support",label:"Executive function support",desc:"Organization and planning scaffolds"},{id:"social-emotional",label:"Social-emotional support",desc:"Address perfectionism and anxiety"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(o,{className:"text-lg",children:"Dual Programming Needs"})}),e.jsx(u,{className:"space-y-3",children:[{id:"concurrent-services",label:"Concurrent gifted and special education services",desc:"Both enrichment and remediation support"},{id:"coordinated-team",label:"Coordinated support team",desc:"Collaboration between gifted and special education staff"},{id:"individualized-pace",label:"Flexible pacing",desc:"Acceleration in strengths, support in challenge areas"},{id:"self-advocacy",label:"Self-advocacy training",desc:"Help student understand and communicate needs"}].map(s=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{id:s.id}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(N,{htmlFor:s.id,className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"2e-assessment",children:"Twice-Exceptional Profile Assessment"}),e.jsx(L,{id:"2e-assessment",placeholder:"Document the complex interplay between giftedness and disability, specific strengths and challenges, and comprehensive support recommendations...",rows:4})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"2e-goals",children:"Integrated Support Goals"}),e.jsx(L,{id:"2e-goals",placeholder:"Outline goals that address both gifted potential and learning differences, with specific strategies for achievement...",rows:3})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to develop 2E support strategies."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>ms(!1),children:"Cancel"}),e.jsx(h,{onClick:async()=>{if(!a)return void Ss({title:"Error",description:"Please select a student first.",variant:"destructive"});const e=(()=>{const e=["strength-focus","interest-integration","bypass-strategies","technology-tools"].filter(e=>{const s=document.getElementById(e);return s?.checked}),s=["processing-time","alternative-assessment","executive-support","social-emotional"].filter(e=>{const s=document.getElementById(e);return s?.checked}),t=["concurrent-services","coordinated-team","individualized-pace","self-advocacy"].filter(e=>{const s=document.getElementById(e);return s?.checked}),a=document.getElementById("2e-assessment")?.value||"",i=document.getElementById("2e-goals")?.value||"";return{assessment_type:"academic",giftedness_areas:["Twice-Exceptional"],strengths:{strength_based_approaches:e,accommodation_strategies:s,dual_programming_needs:t,notes:a},learning_differences:["Twice-Exceptional"],recommendations:{notes:i},evaluator_notes:`${a}\n\nIntegrated Goals:\n${i}`,status:"completed"}})();Ps.mutate(e)},disabled:!a||Ps.isPending,children:Ps.isPending?"Saving...":"Save 2E Plan"})]})]})}),e.jsx(G,{open:us,onOpenChange:hs,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🤖"}),"AI Gifted Education Insights"]}),e.jsx($,{children:"Generate intelligent analysis and recommendations for gifted and twice-exceptional programming."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsx(e.Fragment,{children:e.jsx(Te,{selectedStudentId:a||void 0,students:R,isAdvocateView:!0,showStudentSelector:!1})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to generate gifted education insights."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>hs(!1),children:"Close"}),e.jsx(h,{onClick:async()=>{if(a)try{const e=await l("POST","/api/gifted-assessments/save-insights",{student_id:a}),s=await e.json();if(!s.success)throw new Error(s.error||"Failed to save insights");b.invalidateQueries({queryKey:["/api/accommodations"]}),b.invalidateQueries({queryKey:["/api/accommodations",a]}),Ss({title:"AI Insights Saved Successfully! 🎉",description:s.saved_accommodations>0?`${s.saved_accommodations} accommodations saved to the Accommodations tab from AI insights.`:"AI insights processed but no new accommodations found to save."}),hs(!1)}catch(e){console.error("Error saving AI insights:",e),Ss({title:"Error Saving Insights",description:"Failed to save AI insights. Please ensure AI analysis has been generated and try again.",variant:"destructive"})}else Ss({title:"No Student Selected",description:"Please select a student to save insights for.",variant:"destructive"})},disabled:!a,"data-testid":"button-save-insights",children:"Save Insights"})]})]})}),e.jsx(G,{open:xs,onOpenChange:ps,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsxs(K,{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"📋"}),"Create New Gifted Assessment"]}),e.jsx($,{children:"Comprehensive assessment creation for gifted identification and programming decisions."})]}),e.jsx("div",{className:"space-y-6 py-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assessment-type",children:"Assessment Type"}),e.jsxs(S,{value:ys.assessment_type,onValueChange:e=>bs({...ys,assessment_type:e}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select assessment type"})}),e.jsxs(A,{children:[e.jsx(P,{value:"initial_screening",children:"Initial Gifted Screening"}),e.jsx(P,{value:"comprehensive_evaluation",children:"Comprehensive Evaluation"}),e.jsx(P,{value:"twice_exceptional",children:"Twice-Exceptional Assessment"}),e.jsx(P,{value:"program_review",children:"Program Review & Monitoring"}),e.jsx(P,{value:"transition_planning",children:"Transition Planning Assessment"})]})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assessment-date",children:"Assessment Date"}),e.jsx(y,{id:"assessment-date",type:"date",defaultValue:(new Date).toISOString().split("T")[0]})]})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Areas of Giftedness (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-2",children:Es.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:s,checked:ys.giftedness_areas.includes(s),onCheckedChange:e=>{bs(e?{...ys,giftedness_areas:[...ys.giftedness_areas,s]}:{...ys,giftedness_areas:ys.giftedness_areas.filter(e=>e!==s)})}}),e.jsx(N,{htmlFor:s,className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Learning Differences or Disabilities (If applicable)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-2",children:Is.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:s,checked:ys.learning_differences.includes(s),onCheckedChange:e=>{bs(e?{...ys,learning_differences:[...ys.learning_differences,s]}:{...ys,learning_differences:ys.learning_differences.filter(e=>e!==s)})}}),e.jsx(N,{htmlFor:s,className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assessment-strengths",children:"Identified Strengths"}),e.jsx(L,{id:"assessment-strengths",value:ys.strengths,onChange:e=>bs({...ys,strengths:e.target.value}),placeholder:"Document specific areas of exceptional ability, advanced skills, and notable talents...",rows:4})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assessment-challenges",children:"Areas of Challenge"}),e.jsx(L,{id:"assessment-challenges",value:ys.challenges,onChange:e=>bs({...ys,challenges:e.target.value}),placeholder:"Note specific learning challenges, areas requiring support, or barriers to success...",rows:4})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assessment-recommendations",children:"Professional Recommendations"}),e.jsx(L,{id:"assessment-recommendations",value:ys.recommendations,onChange:e=>bs({...ys,recommendations:e.target.value}),placeholder:"Specific educational recommendations, programming suggestions, and intervention strategies...",rows:4})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"assessment-notes",children:"Comprehensive Assessment Notes"}),e.jsx(L,{id:"assessment-notes",value:ys.evaluator_notes,onChange:e=>bs({...ys,evaluator_notes:e.target.value}),placeholder:"Detailed professional observations, assessment findings, and comprehensive analysis for gifted programming decisions...",rows:5})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Please select a student first to create a new assessment."})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{variant:"outline",onClick:()=>ps(!1),children:"Cancel"}),e.jsx(h,{onClick:Fs,disabled:!a||0===ys.giftedness_areas.length||$e,children:$e?"Creating...":"Create Assessment"})]})]})})]}):e.jsx("div",{children:"Please log in to view client students."})};export{$e as default};
