import{j as e}from"./chunk-DsWtD-um.js";import{r as t,L as s}from"./chunk--CdJ9rTh.js";import{b as a,u as i,c as r}from"./chunk-DiCKXT8z.js";import{T as n}from"./chunk-B5EZda-P.js";import{a as o,C as d,d as l,e as c,f as m,h as p,B as h,m as u}from"../assets/index-DmH44GAo.js";import{B as g}from"./chunk-0mWKUDnJ.js";import{S as x}from"./chunk-Cl3oUr_D.js";import{T as f,x as v,y as b,ac as j,ae as N,L as y,a1 as w,ad as k,A as S,B as T}from"./chunk-CIO6T0Sb.js";import"./chunk-CeW2BF6N.js";const P=()=>{const[P,B]=t.useState(""),[A,C]=t.useState([]),[E,q]=t.useState(!1),{toast:M}=o(),R=a(),{data:F}=i({queryKey:["/api/students"],queryFn:async()=>(await u("GET","/api/students")).json()}),L=[{id:"behavioral-supports",title:"Behavioral Support Strategies",icon:e.jsx(b,{className:"h-5 w-5"}),description:"Positive behavior support and self-regulation techniques",items:[{id:"behavior-plan",title:"Positive Behavior Support Plan",description:"Individualized positive behavior support plan with teaching strategies",recommended:!0,parentTip:"Focuses on teaching replacement behaviors rather than just stopping problem behaviors",category:"Plan"},{id:"break-cards",title:"Break Request Cards",description:"Visual cards to request breaks when feeling overwhelmed",recommended:!0,parentTip:"Gives your child a way to communicate needs before reaching a breaking point",category:"Communication"},{id:"calm-down-space",title:"Access to Calm Down Space",description:"Designated calm down space when needing self-regulation time",recommended:!1,parentTip:"Provides a safe space for self-regulation without punishment",category:"Environment"},{id:"self-monitoring",title:"Self-Monitoring Tools",description:"Tools to help student monitor their own behavior and emotions",recommended:!1,parentTip:"Builds self-awareness and independence in behavior management",category:"Self-Regulation"},{id:"routine-supports",title:"Routine and Transition Supports",description:"Structured supports for transitions and routine changes",recommended:!0,parentTip:"Helps reduce anxiety around changes in schedule or routine",category:"Transitions"}]},{id:"academic-supports",title:"Academic & Learning Supports",icon:e.jsx(T,{className:"h-5 w-5"}),description:"Academic accommodations to support learning success",items:[{id:"extended-time",title:"Extended Time",description:"Extended time for assignments and tests (typically 1.5x or double time)",recommended:!0,parentTip:"Accounts for processing differences and reduces anxiety around time pressure",category:"Time"},{id:"chunking",title:"Task Chunking",description:"Breaking assignments into smaller, manageable chunks with breaks",recommended:!0,parentTip:"Prevents overwhelm and builds success through manageable steps",category:"Task Modification"},{id:"visual-supports",title:"Visual Learning Supports",description:"Visual supports and graphic organizers for learning concepts",recommended:!0,parentTip:"Helps with organization, understanding, and memory of information",category:"Visual"},{id:"repetition",title:"Repeated Instructions",description:"Repeated instructions and clarification as needed",recommended:!1,parentTip:"Ensures understanding before starting tasks and reduces anxiety",category:"Clarification"},{id:"reduced-assignments",title:"Modified Assignment Length",description:"Reduced length or modified assignments while maintaining learning objectives",recommended:!1,parentTip:"Focuses on quality over quantity while meeting learning goals",category:"Modification"},{id:"alternative-assessments",title:"Alternative Assessment Methods",description:"Alternative ways to demonstrate knowledge (oral, project-based, etc.)",recommended:!1,parentTip:"Allows students to show what they know in their strongest modality",category:"Assessment"}]}],I=r({mutationFn:async e=>(await u("POST","/api/autism_accommodations/behavioral",e)).json(),onSuccess:()=>{q(!0),R.invalidateQueries({queryKey:["/api/students"]}),M({title:"Behavioral Profile Saved! ðŸŽ‰",description:"Your child's behavioral strategies have been saved to their profile"})},onError:e=>{console.error("Error saving behavioral profile:",e),M({title:"Error saving profile",description:"Please try again",variant:"destructive"})}}),z=F?.find(e=>e.id===P)?.full_name||"your child",V=L.flatMap(e=>e.items).length,G=Math.round(A.length/V*100);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx(n,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full mb-4",children:e.jsx(f,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Behavioral Strategies"}),e.jsxs("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:["Build behavioral support and academic accommodation strategies for ",z,". Select evidence-based approaches that promote positive behavior and academic success."]})]}),e.jsxs(d,{className:"mb-6",children:[e.jsxs(l,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5 text-purple-600"}),"Student Selection"]}),e.jsx(m,{children:"Choose the student to build a behavioral profile for"})]}),e.jsx(p,{children:e.jsx(x,{selectedStudent:P,onStudentSelect:B,students:F,placeholder:"Select student for behavioral strategies",className:"max-w-md","data-testid":"select-student"})})]}),A.length>0&&e.jsx(d,{className:"mb-6 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-950 dark:to-indigo-950 border-purple-200 dark:border-purple-800",children:e.jsxs(p,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Behavioral Profile Progress"}),e.jsxs("span",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:[A.length," of ",V," strategies selected"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 h-3 rounded-full transition-all duration-300",style:{width:`${G}%`}})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Building a comprehensive behavioral support profile"})]})}),e.jsx("div",{className:"space-y-8",children:L.map(t=>e.jsxs(d,{className:"shadow-lg",children:[e.jsx(l,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-950 dark:to-indigo-950 border-b",children:e.jsxs(c,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.title}),e.jsx(m,{className:"mt-1",children:t.description})]})]})}),e.jsx(p,{className:"p-6",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2",children:t.items.map(t=>{const s=A.includes(t.id);return e.jsx(d,{className:"transition-all duration-200 cursor-pointer hover:shadow-md "+(s?"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800":"hover:bg-muted/30"),onClick:()=>{return s?(e=t.id,C(t=>t.filter(t=>t!==e)),void M({title:"Removed from profile",description:"Accommodation has been removed"})):(e=>{if(!A.includes(e)){C(t=>[...t,e]);const t=L.flatMap(e=>e.items).find(t=>t.id===e);M({title:"Added to Behavioral Profile! ðŸŽ¯",description:`${t?.title} has been added`})}})(t.id);var e},"data-testid":`accommodation-${t.id}`,children:e.jsx(p,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 "+(s?"text-green-600 dark:text-green-400":"text-muted-foreground"),children:s?e.jsx(b,{className:"h-5 w-5"}):e.jsx(j,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:t.title}),t.recommended&&e.jsxs(g,{className:"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 text-xs",children:[e.jsx(N,{className:"h-3 w-3 mr-1"}),"Recommended"]}),e.jsx(g,{variant:"outline",className:"text-xs",children:t.category})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.description}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400 italic",children:[e.jsx("strong",{children:"Parent Tip:"})," ",t.parentTip]})]})]})]})})})},t.id)})})})]},t.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center mt-8 pt-6 border-t",children:[e.jsx(h,{asChild:!0,variant:"ghost","data-testid":"button-back-to-autism-hub",children:e.jsxs(s,{to:"/parent/autism-tools",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Back to Autism Tools"]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(h,{onClick:()=>{P?0!==A.length?I.mutate({student_id:P,accommodations:A}):M({title:"No accommodations selected",description:"Please add some accommodations first",variant:"destructive"}):M({title:"Please select a student",description:"Choose a student to save their behavioral profile",variant:"destructive"})},disabled:!P||0===A.length||I.isPending,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700","data-testid":"button-save-behavioral-profile",children:I.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Save Behavioral Profile"]})}),e.jsx(h,{asChild:!0,variant:"outline","data-testid":"button-continue-to-ai-insights",children:e.jsxs(s,{to:"/parent/autism-tools/ai-insights",className:"flex items-center gap-2",children:["Get AI Insights",e.jsx(S,{className:"h-4 w-4"})]})})]})]}),E&&e.jsx(d,{className:"mt-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx(b,{className:"h-8 w-8 text-green-600 dark:text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Behavioral Profile Saved Successfully!"}),e.jsx("p",{className:"text-muted-foreground",children:"Your child's behavioral strategies have been saved. Complete your autism support profile by getting AI-powered insights that analyze all three areas."})]})})]})]})};export{P as default};
