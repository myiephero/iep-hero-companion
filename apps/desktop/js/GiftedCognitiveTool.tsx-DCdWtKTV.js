import{j as e}from"./chunk-DsWtD-um.js";import{r as s,L as t}from"./chunk--CdJ9rTh.js";import{b as i,u as a,c as n}from"./chunk-DiCKXT8z.js";import{T as r}from"./chunk-CDIoFw0s.js";import{a as o,C as d,d as l,e as c,f as m,h as g,B as p,m as x}from"../assets/index-BuUqvl4a.js";import{B as h}from"./chunk-DjC-ACAS.js";import{S as u}from"./chunk-CYVQfTVu.js";import{B as f,x as b,y as v,ac as j,ae as y,L as N,a1 as k,ad as w,A as S,Z as R,a$ as C}from"./chunk-CIO6T0Sb.js";import"./chunk-CqIUznKi.js";const A=()=>{const[A,P]=s.useState(""),[T,I]=s.useState([]),[M,E]=s.useState(!1),{toast:q}=o(),L=i(),{data:B}=a({queryKey:["/api/students"],queryFn:async()=>(await x("GET","/api/students")).json()}),F=[{id:"intellectual-abilities",title:"Intellectual Abilities",icon:e.jsx(f,{className:"h-5 w-5"}),description:"Assess general intellectual functioning and IQ",items:[{id:"full-scale-iq",title:"Full Scale IQ Assessment",description:"Comprehensive intellectual ability assessment (WISC-V, WAIS-IV)",recommended:!0,parentTip:"Most comprehensive measure of intellectual giftedness",category:"IQ Testing",scoreRange:"130+ indicates giftedness"},{id:"verbal-comprehension",title:"Verbal Comprehension Index",description:"Language-based reasoning and acquired knowledge",recommended:!0,parentTip:"Strong indicator of verbal giftedness and academic potential",category:"Verbal",scoreRange:"130+ superior range"},{id:"perceptual-reasoning",title:"Perceptual Reasoning Index",description:"Visual-spatial processing and fluid reasoning abilities",recommended:!0,parentTip:"Important for mathematical and spatial giftedness",category:"Non-Verbal",scoreRange:"130+ superior range"},{id:"working-memory",title:"Working Memory Index",description:"Ability to temporarily hold and manipulate information",recommended:!1,parentTip:"Critical for academic success and learning efficiency",category:"Processing",scoreRange:"130+ superior range"},{id:"processing-speed",title:"Processing Speed Index",description:"Speed of mental processing and visual-motor coordination",recommended:!1,parentTip:"Can identify twice-exceptional learners if low despite high IQ",category:"Processing",scoreRange:"Watch for discrepancies"}]},{id:"advanced-reasoning",title:"Advanced Reasoning Abilities",icon:e.jsx(R,{className:"h-5 w-5"}),description:"Higher-order thinking and problem-solving skills",items:[{id:"abstract-reasoning",title:"Abstract Reasoning",description:"Ability to think about concepts and relationships without concrete referents",recommended:!0,parentTip:"Key indicator of advanced intellectual development",category:"Reasoning",scoreRange:"Above grade level"},{id:"logical-reasoning",title:"Logical Problem-Solving",description:"Systematic approach to complex problems and puzzles",recommended:!0,parentTip:"Shows advanced analytical thinking skills",category:"Problem-Solving",scoreRange:"Complex problem solving"},{id:"pattern-recognition",title:"Pattern Recognition",description:"Identifying complex patterns and sequences",recommended:!1,parentTip:"Important for mathematical and scientific thinking",category:"Reasoning",scoreRange:"Advanced pattern complexity"},{id:"analogical-reasoning",title:"Analogical Reasoning",description:"Making connections between different concepts and situations",recommended:!1,parentTip:"Shows depth of understanding and transfer ability",category:"Reasoning",scoreRange:"Complex analogies"}]},{id:"processing-abilities",title:"Processing & Memory",icon:e.jsx(C,{className:"h-5 w-5"}),description:"Cognitive processing strengths and memory abilities",items:[{id:"rapid-processing",title:"Rapid Information Processing",description:"Speed and efficiency of cognitive processing",recommended:!1,parentTip:"Fast learners often show rapid processing abilities",category:"Speed",scoreRange:"Above average speed"},{id:"long-term-memory",title:"Long-term Memory Retrieval",description:"Ability to store and retrieve learned information",recommended:!1,parentTip:"Excellent memory often accompanies giftedness",category:"Memory",scoreRange:"Superior recall"},{id:"attention-span",title:"Sustained Attention",description:"Ability to maintain focus on complex or interesting tasks",recommended:!1,parentTip:"May show intense focus on areas of interest",category:"Attention",scoreRange:"Extended focus periods"}]}],Q=n({mutationFn:async e=>(await x("POST","/api/gifted_assessments/cognitive",e)).json(),onSuccess:()=>{E(!0),L.invalidateQueries({queryKey:["/api/students"]}),L.invalidateQueries({queryKey:["/api/gifted_assessments"]}),q({title:"Cognitive Profile Saved! ðŸŽ‰",description:"Your child's cognitive assessment profile has been saved"})},onError:e=>{console.error("Error saving cognitive profile:",e),q({title:"Error saving profile",description:"Please try again",variant:"destructive"})}}),V=B?.find(e=>e.id===A)?.full_name||"your child",K=F.flatMap(e=>e.items).length,W=Math.round(T.length/K*100);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx(r,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full mb-4",children:e.jsx(f,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Cognitive Assessment"}),e.jsxs("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:["Evaluate ",V,"'s intellectual abilities, processing strengths, and cognitive patterns. Build a comprehensive cognitive profile to identify giftedness and educational needs."]})]}),e.jsxs(d,{className:"mb-6",children:[e.jsxs(l,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-purple-600"}),"Student Selection"]}),e.jsx(m,{children:"Choose the student to build a cognitive assessment profile for"})]}),e.jsx(g,{children:e.jsx(u,{selectedStudent:A,onStudentSelect:P,students:B,placeholder:"Select student for cognitive assessment",className:"max-w-md","data-testid":"select-student"})})]}),T.length>0&&e.jsx(d,{className:"mb-6 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-950 dark:to-indigo-950 border-purple-200 dark:border-purple-800",children:e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Cognitive Profile Progress"}),e.jsxs("span",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:[T.length," of ",K," assessments selected"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 h-3 rounded-full transition-all duration-300",style:{width:`${W}%`}})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Building a comprehensive cognitive assessment profile"})]})}),e.jsx("div",{className:"space-y-8",children:F.map(s=>e.jsxs(d,{className:"shadow-lg",children:[e.jsx(l,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-950 dark:to-indigo-950 border-b",children:e.jsxs(c,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s.title}),e.jsx(m,{className:"mt-1",children:s.description})]})]})}),e.jsx(g,{className:"p-6",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2",children:s.items.map(s=>{const t=T.includes(s.id);return e.jsx(d,{className:"transition-all duration-200 cursor-pointer hover:shadow-md "+(t?"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800":"hover:bg-muted/30"),onClick:()=>{return t?(e=s.id,I(s=>s.filter(s=>s!==e)),void q({title:"Removed from profile",description:"Assessment has been removed"})):(e=>{if(!T.includes(e)){I(s=>[...s,e]);const s=F.flatMap(e=>e.items).find(s=>s.id===e);q({title:"Added to Cognitive Profile! ðŸ§ ",description:`${s?.title} has been added`})}})(s.id);var e},"data-testid":`assessment-${s.id}`,children:e.jsx(g,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 "+(t?"text-green-600 dark:text-green-400":"text-muted-foreground"),children:t?e.jsx(v,{className:"h-5 w-5"}):e.jsx(j,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:s.title}),s.recommended&&e.jsxs(h,{className:"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 text-xs",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"Recommended"]}),e.jsx(h,{variant:"outline",className:"text-xs",children:s.category})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400 italic",children:[e.jsx("strong",{children:"Parent Tip:"})," ",s.parentTip]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:[e.jsx("strong",{children:"Score Range:"})," ",s.scoreRange]})]})]})]})]})})})},s.id)})})})]},s.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center mt-8 pt-6 border-t",children:[e.jsx(p,{asChild:!0,variant:"ghost","data-testid":"button-back-to-gifted-hub",children:e.jsxs(t,{to:"/parent/gifted-tools",className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Back to Gifted Tools"]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(p,{onClick:()=>{A?0!==T.length?Q.mutate({student_id:A,assessments:T}):q({title:"No assessments selected",description:"Please add some cognitive assessments first",variant:"destructive"}):q({title:"Please select a student",description:"Choose a student to save their cognitive profile",variant:"destructive"})},disabled:!A||0===T.length||Q.isPending,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700","data-testid":"button-save-cognitive-profile",children:Q.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Save Cognitive Profile"]})}),e.jsx(p,{asChild:!0,variant:"outline","data-testid":"button-continue-to-academic",children:e.jsxs(t,{to:"/parent/gifted-tools/academic",className:"flex items-center gap-2",children:["Continue to Academic",e.jsx(S,{className:"h-4 w-4"})]})})]})]}),M&&e.jsx(d,{className:"mt-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800",children:e.jsxs(g,{className:"p-6 text-center",children:[e.jsx(v,{className:"h-8 w-8 text-green-600 dark:text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Cognitive Profile Saved Successfully!"}),e.jsx("p",{className:"text-muted-foreground",children:"Your child's cognitive assessment profile has been saved. Continue building their complete gifted profile with Academic, Creative, and Leadership assessments."})]})})]})]})};export{A as default};
