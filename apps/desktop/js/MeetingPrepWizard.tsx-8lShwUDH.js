import{j as e}from"./chunk-DsWtD-um.js";import{d as s,u as a,r as t,L as i}from"./chunk--CdJ9rTh.js";import{a as r,D as n,B as l,C as c,h as o,d,e as m,f as h,L as p,I as x,T as u,r as j,t as g,v as f,w as v,x as N,y,z as b,A as w,q as P}from"../assets/index-BO9uTDme.js";import{B as S}from"./chunk-qxwVooB6.js";import{T as k}from"./chunk-BZjdROIr.js";import{S as C,a as q,b as T,c as D,d as M}from"./chunk-BJKDjCst.js";import{C as R}from"./chunk-nudLLAGO.js";import{P as E}from"./chunk-D0h9MBRh.js";import{S as F}from"./chunk-H8J8tpqv.js";import{a as I}from"./chunk-CbYvpwVq.js";import{a1 as A,b as B,aa as $,Y as _,U as L,A as z,f as O,T as V,x as W,M as Y,y as G,i as U,aN as Q,v as H,av as J,ad as K,aS as X,ap as Z,aT as ee,L as se,ae,a2 as te,z as ie}from"./chunk-CIO6T0Sb.js";import"./chunk-DiCKXT8z.js";const re=()=>{const{toast:re}=r(),ne=s(),le=a(),[ce,oe]=t.useState(1),[de,me]=t.useState({}),[he,pe]=t.useState(""),xe=le.state?.meeting;le.state;const[ue,je]=t.useState(!1),[ge,fe]=t.useState(!0),[ve,Ne]=t.useState("pdf"),ye=[{id:"annual-review",title:"Annual IEP Review",description:"Yearly review of IEP goals and services",duration:"90-120 minutes",participants:"Full IEP Team",urgency:"Scheduled"},{id:"goal-review",title:"IEP Goal Review",description:"Progress check on specific goals",duration:"45-60 minutes",participants:"Core Team",urgency:"Standard"},{id:"placement-meeting",title:"Placement Discussion",description:"Reviewing educational placement",duration:"60-90 minutes",participants:"Extended Team",urgency:"Important"},{id:"transition-planning",title:"Transition Planning",description:"Planning for next educational phase",duration:"90-120 minutes",participants:"Transition Team",urgency:"Critical"},{id:"behavior-meeting",title:"Behavioral Intervention",description:"Addressing behavioral concerns",duration:"60-90 minutes",participants:"Behavior Team",urgency:"Urgent"},{id:"dispute-resolution",title:"Dispute Resolution",description:"Resolving disagreements",duration:"120+ minutes",participants:"Full Team + Facilitator",urgency:"Critical"}],be={2:{title:"Meeting Basics",questions:[{id:"student-name",type:"text",label:"Student Name",required:!0,placeholder:"Enter student's full name"},{id:"meeting-date",type:"date",label:"Meeting Date",required:!0},{id:"meeting-time",type:"time",label:"Meeting Time",required:!0},{id:"meeting-location",type:"text",label:"Meeting Location",required:!0,placeholder:"School name and room number"},{id:"attendees",type:"textarea",label:"Expected Attendees",placeholder:"List who will be attending (teachers, specialists, administrators, etc.)",rows:3}]},3:{title:"Current Concerns & Priorities",questions:[{id:"main-concerns",type:"textarea",label:"What are your main concerns or questions?",placeholder:"Describe your primary concerns about your child's education...",rows:4,required:!0},{id:"priority-areas",type:"checkbox-group",label:"Priority Areas (select all that apply)",options:["Academic Progress","Behavioral Support","Social Skills Development","Communication Skills","Independent Living Skills","Transition Planning","Related Services (OT, PT, Speech)","Classroom Accommodations","Testing Modifications","Placement Options"]},{id:"specific-goals",type:"textarea",label:"Specific goals you want to discuss",placeholder:"What specific outcomes are you hoping for?",rows:3}]},4:{title:"Progress & Observations",questions:[{id:"home-observations",type:"textarea",label:"What have you observed at home?",placeholder:"Describe your child's strengths, challenges, and behaviors at home...",rows:4,required:!0},{id:"successful-strategies",type:"textarea",label:"Strategies that work well at home",placeholder:"What approaches, tools, or strategies have been successful?",rows:3},{id:"challenging-areas",type:"textarea",label:"Areas that remain challenging",placeholder:"What continues to be difficult for your child?",rows:3},{id:"outside-services",type:"textarea",label:"Outside services or evaluations",placeholder:"List any private therapy, tutoring, or recent evaluations...",rows:3}]},5:{title:"Questions & Requests",questions:[{id:"questions-for-team",type:"textarea",label:"Questions for the IEP team",placeholder:"List specific questions you want to ask...",rows:4,required:!0},{id:"service-requests",type:"checkbox-group",label:"Service changes you're considering",options:["Increase speech therapy frequency","Add occupational therapy","Modify behavioral plan","Change classroom placement","Add assistive technology","Increase aide support","Modify testing accommodations","Add social skills training","Increase counseling services","Add transition services"]},{id:"documentation-requests",type:"checkbox-group",label:"Documents you want to request",options:["Current progress data","Classroom observation reports","Assessment results","Behavior tracking sheets","Work samples","Teacher input forms","Related service reports","Prior written notice","Meeting recordings permission"]}]}},we=async()=>{je(!0);try{await new Promise(e=>setTimeout(e,2e3)),re({title:"Prep Sheet Generated!",description:"Your meeting preparation sheet has been created successfully."})}catch(e){re({title:"Error",description:"Failed to generate prep sheet. Please try again.",variant:"destructive"})}finally{je(!1)}},Pe=async e=>{je(!0);try{const s={meetingType:he,responses:de,currentStep:ce,timestamp:(new Date).toISOString(),preparedBy:"IEP Hero Platform"},a={title:`Meeting Prep - ${ye.find(e=>e.id===he)?.title||"IEP Meeting"}`,description:`Meeting preparation materials created on ${(new Date).toLocaleDateString()}`,file_name:`meeting_prep_${he}_${Date.now()}.${e}`,file_path:`/vault/meeting_prep/${he}/`,file_type:"pdf"===e?"application/pdf":"application/json",file_size:JSON.stringify(s).length,category:"Meeting Preparation",tags:["meeting-prep",he,"iep-planning"],content:JSON.stringify(s),confidential:!0};await I.createDocument(a),P.invalidateQueries({queryKey:["documents"]}),re({title:"Saved to Vault!",description:`Meeting prep results saved as ${e.toUpperCase()} to your document vault.`})}catch(s){console.error("Error saving to vault:",s),re({title:"Save Failed",description:"Failed to save to vault. Please try again.",variant:"destructive"})}finally{je(!1)}},Se=async()=>{je(!0);try{await new Promise(e=>setTimeout(e,1e3)),re({title:"Email Sent!",description:"Meeting prep materials have been emailed to your team."})}catch(e){re({title:"Error",description:"Failed to send email. Please try again.",variant:"destructive"})}finally{je(!1)}},ke=()=>{ce<6&&oe(ce+1)},Ce=()=>{ce>1&&oe(ce-1)};return e.jsx(n,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[xe&&e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>ne("/parent/schedule"),"data-testid":"button-back-to-schedule",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"Back to Schedule"]}),e.jsx("h1",{className:"text-3xl font-bold",children:xe?`Prepare for ${xe.title}`:"Meeting Prep Wizard"})]}),e.jsx("p",{className:"text-muted-foreground",children:xe?`Meeting scheduled for ${new Date(xe.scheduled_date).toLocaleDateString()} - Guided preparation with printable prep sheet`:"Guided preparation for your IEP meeting with printable prep sheet"}),xe&&e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(S,{variant:"outline",className:"text-xs",children:xe.meeting_type?.replace("_"," ")||"Meeting"}),e.jsx(S,{variant:"outline",className:"text-xs",children:xe.status})]})]}),e.jsxs(S,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),"AI-Powered"]})]}),e.jsx(c,{children:e.jsxs(o,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm font-medium",children:"Preparation Progress"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",ce," of 6"]})]}),e.jsx(E,{value:ce/6*100,className:"mb-4"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:ce>=1?"text-primary font-medium":"",children:"Meeting Type"}),e.jsx("span",{className:ce>=2?"text-primary font-medium":"",children:"Details"}),e.jsx("span",{className:ce>=3?"text-primary font-medium":"",children:"Concerns"}),e.jsx("span",{className:ce>=4?"text-primary font-medium":"",children:"Observations"}),e.jsx("span",{className:ce>=5?"text-primary font-medium":"",children:"Questions"}),e.jsx("span",{className:ce>=6?"text-primary font-medium":"",children:"Review"})]})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsxs("div",{className:"lg:col-span-3",children:[1===ce&&e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Select Meeting Type"]}),e.jsx(h,{children:"Choose the type of IEP meeting you're preparing for"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:ye.map(s=>e.jsxs("div",{onClick:()=>pe(s.id),className:"p-4 border rounded-lg cursor-pointer transition-all hover:shadow-md "+(he===s.id?"border-primary bg-primary/5":"border-muted"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsx(S,{variant:"Critical"===s.urgency||"Urgent"===s.urgency?"destructive":"Important"===s.urgency?"secondary":"outline",children:s.urgency})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-3 w-3"}),e.jsxs("span",{children:["Duration: ",s.duration]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsxs("span",{children:["Team: ",s.participants]})]})]})]},s.id))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs(l,{onClick:ke,disabled:!he,children:["Continue",e.jsx(z,{className:"h-4 w-4 ml-2"})]})})]})]}),ce>=2&&ce<=5&&e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[2===ce&&e.jsx(O,{className:"h-5 w-5"}),3===ce&&e.jsx(V,{className:"h-5 w-5"}),4===ce&&e.jsx(W,{className:"h-5 w-5"}),5===ce&&e.jsx(Y,{className:"h-5 w-5"}),be[ce]?.title]}),e.jsx(h,{children:"Complete this section to build your comprehensive prep sheet"})]}),e.jsxs(o,{className:"space-y-6",children:[be[ce]?.questions.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{htmlFor:s.id,children:[s.label,s.required&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),"text"===s.type&&e.jsx(x,{id:s.id,placeholder:s.placeholder,required:s.required}),"date"===s.type&&e.jsx(x,{id:s.id,type:"date",required:s.required}),"time"===s.type&&e.jsx(x,{id:s.id,type:"time",required:s.required}),"textarea"===s.type&&e.jsx(k,{id:s.id,placeholder:s.placeholder,rows:s.rows||3,required:s.required}),"checkbox-group"===s.type&&e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.options?.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{id:`${s.id}-${a}`}),e.jsx(p,{htmlFor:`${s.id}-${a}`,className:"text-sm",children:a})]},a))})]},s.id)),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(l,{variant:"outline",onClick:Ce,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs(l,{onClick:ke,children:["Continue",e.jsx(z,{className:"h-4 w-4 ml-2"})]})]})]})]}),6===ce&&e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Review & Generate Prep Sheet"]}),e.jsx(h,{children:"Review your responses and generate your meeting preparation materials"})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"Preparation Complete!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"You've completed all preparation steps. Your comprehensive prep sheet includes:"}),e.jsxs("ul",{className:"text-sm text-green-700 mt-2 space-y-1",children:[e.jsx("li",{children:"• Meeting logistics and attendee information"}),e.jsx("li",{children:"• Your priority concerns and questions"}),e.jsx("li",{children:"• Home observations and successful strategies"}),e.jsx("li",{children:"• Specific service requests and documentation needs"}),e.jsx("li",{children:"• Meeting tips and legal reminders"})]})]})]})}),e.jsxs(u,{children:[e.jsxs(c,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Save Settings"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{htmlFor:"auto-save",className:"text-sm text-blue-700",children:"Auto-save to vault"}),e.jsx(F,{id:"auto-save",checked:ge,onCheckedChange:fe})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"text-sm text-blue-700",children:"Format:"}),e.jsxs(C,{value:ve,onValueChange:Ne,children:[e.jsx(q,{className:"w-32",children:e.jsx(T,{})}),e.jsxs(D,{children:[e.jsx(M,{value:"pdf",children:"PDF"}),e.jsx(M,{value:"docx",children:"Word"}),e.jsx(M,{value:"txt",children:"Text"})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(c,{className:"p-3 md:p-4",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-sm md:text-base",children:[e.jsx(Q,{className:"h-4 w-4"}),"Download Options"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(j,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(l,{className:"w-full button-premium",disabled:ue,children:[ue?e.jsx(H,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Download PDF Prep Sheet",e.jsx(J,{className:"h-4 w-4 ml-auto"})]})}),e.jsxs(f,{className:"w-56",children:[e.jsxs(v,{onClick:we,children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Standard PDF"]}),e.jsxs(v,{onClick:()=>we(),children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"PDF with Notes"]}),e.jsx(N,{}),e.jsxs(v,{onClick:()=>Pe("pdf"),children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Save to Vault"]})]})]}),e.jsxs(y,{children:[e.jsx(b,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:"w-full",disabled:ue,children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Print Version"]})}),e.jsx(w,{children:e.jsx("p",{children:"Print-optimized format"})})]})]})]}),e.jsxs(c,{className:"p-3 md:p-4",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-sm md:text-base",children:[e.jsx(Z,{className:"h-4 w-4"}),"Share & Follow-up"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(j,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:"w-full",disabled:ue,children:[ue?e.jsx(H,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Email to Team",e.jsx(J,{className:"h-4 w-4 ml-auto"})]})}),e.jsxs(f,{className:"w-56",children:[e.jsxs(v,{onClick:Se,children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Send to IEP Team"]}),e.jsxs(v,{onClick:Se,children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Send to Advocate"]}),e.jsxs(v,{onClick:Se,children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Send with Message"]})]})]}),e.jsxs(y,{children:[e.jsx(b,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:"w-full",onClick:async()=>{je(!0);try{await new Promise(e=>setTimeout(e,800)),re({title:"Reminder Set!",description:"Follow-up reminders have been scheduled."})}catch(e){re({title:"Error",description:"Failed to set reminder. Please try again.",variant:"destructive"})}finally{je(!1)}},disabled:ue,children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Set Follow-up Reminders"]})}),e.jsx(w,{children:e.jsx("p",{children:"Schedule post-meeting reminders"})})]})]})]})]}),e.jsx(c,{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900",children:"Meeting Prep Results Vault"}),e.jsx("p",{className:"text-sm text-green-700",children:"All your prep materials are automatically saved here"})]})]}),e.jsxs(l,{variant:"ghost",className:"text-green-700 hover:bg-green-100",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"View Vault"]})]})})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(l,{variant:"outline",onClick:Ce,disabled:ue,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Back to Edit"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",onClick:()=>Pe(ve),disabled:ue,className:"hidden sm:flex",children:[ue?e.jsx(H,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(K,{className:"h-4 w-4 mr-2"}),"Save to Vault"]}),e.jsxs(l,{onClick:()=>{ge&&Pe(ve),re({title:"Meeting Prep Complete!",description:"Your preparation materials have been generated successfully."})},disabled:ue,className:"button-premium",children:[ue?e.jsx(H,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(G,{className:"h-4 w-4 mr-2"}),"Complete Preparation"]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Prep Tips"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-2",children:{1:["Choose the meeting type that best matches your situation","Different meeting types have different time allocations","Some meetings require specific team members"],2:["Confirm all meeting details in advance","Ask for a list of attendees beforehand","Request agenda items if available"],3:["Be specific about your concerns","Prioritize your most important issues","Think about desired outcomes"],4:["Concrete examples are most helpful","Include both positive and concerning observations","Mention any successful strategies"],5:["Prepare questions in advance","Don't hesitate to ask for clarification","Request documentation of decisions"],6:["Review your prep sheet before the meeting","Bring extra copies for the team","Take notes during the meeting"]}[ce]?.map((s,a)=>e.jsxs("div",{className:"text-sm p-2 bg-muted/50 rounded flex items-start gap-2",children:[e.jsx(ae,{className:"h-3 w-3 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},a))})})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Your Rights"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(G,{className:"h-3 w-3 text-green-600 mt-0.5"}),e.jsx("span",{children:"Right to meaningful participation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(G,{className:"h-3 w-3 text-green-600 mt-0.5"}),e.jsx("span",{children:"Right to bring advocates/support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(G,{className:"h-3 w-3 text-green-600 mt-0.5"}),e.jsx("span",{children:"Right to request interpreters"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(G,{className:"h-3 w-3 text-green-600 mt-0.5"}),e.jsx("span",{children:"Right to record meetings"})]})]}),e.jsx(i,{to:"/parent/tools/idea-rights-guide",children:e.jsxs(l,{variant:"outline",size:"sm",className:"w-full justify-start bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300 text-blue-900 font-medium shadow-sm transition-all duration-200",children:[e.jsx(ie,{className:"h-4 w-4 mr-2 text-blue-600"}),"📖 Full Rights Guide"]})})]})]})]})]})]})})};export{re as default};
