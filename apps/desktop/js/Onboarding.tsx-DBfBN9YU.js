import{j as e}from"./chunk-DsWtD-um.js";import{r as s,d as a}from"./chunk--CdJ9rTh.js";import{u as t,a as r,C as c,d as n,e as i,f as l,h as d,B as o}from"../assets/index-DhCC2x2k.js";import{B as m}from"./chunk-hdVtyTqo.js";import{b as x,c as u}from"./chunk-DiCKXT8z.js";import{I as h,y as p,a6 as j,A as g}from"./chunk-CIO6T0Sb.js";const N=()=>{const[N,f]=s.useState(null),v=a(),{user:y}=t(),{toast:w}=r(),b=x(),P=e=>{f(e)},k=u({mutationFn:async e=>{const s=await fetch("/api/onboarding/setup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({role:e,subscriptionPlan:"free"})});if(!s.ok)throw new Error("Failed to setup account");return s.json()},onSuccess:e=>{w({title:"Welcome aboard!",description:`Your ${N} account has been set up successfully.`}),b.invalidateQueries({queryKey:["/api/auth/user"]}),v(`/${N}/dashboard`)},onError:e=>{console.error("Setup error:",e),w({title:"Setup Error",description:"There was an issue setting up your account. Please try again.",variant:"destructive"})}});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-surface via-background to-surface",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(m,{variant:"secondary",className:"mb-4",children:"Welcome to My IEP Hero"}),e.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:["Welcome",y?.firstName?`, ${y.firstName}`:"","!"]}),e.jsx("p",{className:"text-xl text-muted-foreground mb-2",children:"Let's get your account set up to provide you with the best experience."}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"First, tell us your role so we can customize your experience:"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[e.jsxs(c,{className:"cursor-pointer transition-all duration-300 hover:scale-105 "+("parent"===N?"ring-2 ring-primary border-primary shadow-lg":"hover:shadow-md"),onClick:()=>P("parent"),"data-testid":"role-card-parent",children:[e.jsxs(n,{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mx-auto mb-4 "+("parent"===N?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx(h,{className:"h-8 w-8"})}),e.jsx(i,{className:"text-2xl",children:"I'm a Parent"}),e.jsx(l,{children:"I have a child with special education needs and want tools to advocate effectively"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"AI-powered IEP analysis and review"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Secure document storage and management"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Connect with certified advocates"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"IEP meeting preparation tools"})]})]})})]}),e.jsxs(c,{className:"cursor-pointer transition-all duration-300 hover:scale-105 "+("advocate"===N?"ring-2 ring-primary border-primary shadow-lg":"hover:shadow-md"),onClick:()=>P("advocate"),"data-testid":"role-card-advocate",children:[e.jsxs(n,{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mx-auto mb-4 "+("advocate"===N?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx(j,{className:"h-8 w-8"})}),e.jsx(i,{className:"text-2xl",children:"I'm an Advocate"}),e.jsx(l,{children:"I'm a certified special education advocate who helps families navigate the IEP process"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Client management dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Secure family communication tools"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Professional advocacy resources"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Join our network of experts"})]})]})})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(o,{size:"lg",onClick:()=>{N&&k.mutate(N)},disabled:!N||k.isPending,className:"text-lg px-8 py-6","data-testid":"button-continue-onboarding",children:k.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Setting up your account..."]}):e.jsxs(e.Fragment,{children:["Continue as ",N?"parent"===N?"Parent":"Advocate":"...",e.jsx(g,{className:"ml-2 h-5 w-5"})]})}),!N&&!k.isPending&&e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Please select your role to continue"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm text-muted-foreground mt-12",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-success"}),"HIPAA Secure"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-success"}),"Certified Advocates"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-success"}),"Bank-Level Security"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-success"}),"Supports IDEA/FAPE"]})]})]})})})};export{N as default};
