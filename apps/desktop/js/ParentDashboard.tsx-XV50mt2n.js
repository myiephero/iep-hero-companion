import{j as e}from"./chunk-DsWtD-um.js";import{r as s,d as t,L as a}from"./chunk--CdJ9rTh.js";import{a as r,u as l,n as i,B as n,C as o,h as d,L as c,I as m,d as x,e as g,f as h,j as p}from"../assets/index-BuUqvl4a.js";import{B as u}from"./chunk-DjC-ACAS.js";import{P as j}from"./chunk-Cb7gmwpp.js";import{D as b,a as y,b as v,c as f,d as N,e as w}from"./chunk-BFEROTJb.js";import{T as _}from"./chunk-CKRZgYDG.js";import{S as k,a as S,b as C,c as A,d as E}from"./chunk-CqIUznKi.js";import{T as P,c as I}from"./chunk-BqgcbhW6.js";import{a as D}from"./chunk-Dd2JnJS2.js";import{M,C as z,P as F}from"./chunk-CM5WrtKZ.js";import{S as T}from"./chunk-DQvWbN_r.js";import{a7 as G,a8 as $,U as R,f as L,n as U,M as O,a9 as V,r as B,T as W,aa as H,ab as Y,b as q,g as K,ac as Q,Y as J,v as X,ad as Z,B as ee,w as se,N as te,o as ae,ae as re,af as le,z as ie}from"./chunk-CIO6T0Sb.js";import"./chunk-DiCKXT8z.js";function ne({plan:ne}){const[oe,de]=s.useState([]),[ce,me]=s.useState([]),[xe,ge]=s.useState([]),[he,pe]=s.useState([]),[ue,je]=s.useState(!0),[be,ye]=s.useState(!1),[ve,fe]=s.useState(!1),[Ne,we]=s.useState("goals"),{toast:_e}=r(),{user:ke}=l(),Se=t(),Ce=ne||i(ke?.subscriptionPlan);p(Ce);const[Ae,Ee]=s.useState({title:"",description:"",goal_type:void 0,target_date:"",status:"not_started"}),[Pe,Ie]=s.useState({title:"",description:"",scheduled_date:"",location:"",meeting_type:"iep"}),[De,Me]=s.useState(""),[ze,Fe]=s.useState(""),[Te,Ge]=s.useState(""),[$e,Re]=s.useState(!1);s.useState("");const[Le,Ue]=s.useState(!1),Oe=e=>{if(!e)return"Unknown Student";const s=he.find(s=>s.id===e);return s?.full_name||"Unknown Student"};s.useEffect(()=>{Ve();const e=localStorage.getItem("pendingSubscription");if(e&&ke)try{const s=JSON.parse(e);localStorage.removeItem("pendingSubscription");const t=new URLSearchParams({plan:s.planId,role:s.role,priceId:s.priceId,planName:s.planName});_e({title:"Resuming Subscription",description:`Continuing with ${s.planName} plan setup...`}),setTimeout(()=>{window.location.replace(`/subscription-setup?${t.toString()}`)},1500)}catch(s){console.error("Error parsing pending subscription:",s),localStorage.removeItem("pendingSubscription")}},[ke]);const Ve=async()=>{try{const e=await D.getGoals(),s=await D.getMeetings(),t=await D.getAIReviews(),a=await D.getStudents();de((e||[]).map(e=>({...e,id:e.id||"",status:e.status,current_progress:e.current_progress||0,target_date:e.target_date||"",goal_type:e.goal_type||"",notes:e.notes||"",created_at:e.created_at||""}))),me((s||[]).map(e=>({...e,id:e.id||"",status:e.status,description:e.description||"",location:e.location||"",meeting_type:e.meeting_type||"",created_at:e.created_at||""}))),ge((t||[]).map(e=>{let s=[],t=[],a=[];try{if(e.ai_analysis&&"object"==typeof e.ai_analysis){const r=e.ai_analysis;r?.sensory_needs_analysis?.sensory_processing_patterns&&Array.isArray(r.sensory_needs_analysis.sensory_processing_patterns)&&(s=r.sensory_needs_analysis.sensory_processing_patterns),r?.sensory_needs_analysis?.environmental_modifications&&Array.isArray(r.sensory_needs_analysis.environmental_modifications)&&(t=r.sensory_needs_analysis.environmental_modifications),r?.sensory_needs_analysis?.learning_accommodations&&Array.isArray(r.sensory_needs_analysis.learning_accommodations)&&(a=r.sensory_needs_analysis.learning_accommodations)}}catch(r){console.warn("Error processing AI analysis data:",r)}return Array.isArray(e.areas_of_concern)&&e.areas_of_concern.length>0&&(s=e.areas_of_concern),Array.isArray(e.strengths)&&e.strengths.length>0&&(t=e.strengths),Array.isArray(e.recommendations)&&e.recommendations.length>0&&(a=e.recommendations),{...e,id:e.id||"",areas_of_concern:s,strengths:t,recommendations:a,created_at:e.created_at||"",review_type:e.review_type||"quality"}})),pe(a||[])}catch(e){console.error("Error fetching data:",e),_e({title:"Error",description:"Failed to load dashboard data. Please try again.",variant:"destructive"})}finally{je(!1)}};s.useEffect(()=>{if(!ue&&oe.length>=0&&ce.length>=0&&xe.length>=0){const e=setTimeout(()=>{Ue(!0),console.log("🎯 Dashboard event handlers initialized")},100);return()=>clearTimeout(e)}},[ue,oe,ce,xe]);const Be=async(e,s)=>{try{await D.updateGoal(e,{current_progress:s}),de(t=>t.map(t=>t.id===e?{...t,current_progress:s}:t)),_e({title:"Progress Updated",description:`Goal progress set to ${s}%`}),Ve()}catch(t){console.error("Error updating goal progress:",t),_e({title:"Error",description:"Failed to update goal progress.",variant:"destructive"})}},We=e=>{switch(e){case"completed":return"bg-green-500";case"in_progress":return"bg-blue-500";case"on_hold":return"bg-yellow-500";default:return"bg-gray-500"}},He=e=>{switch(e){case"not_started":return"Not Started";case"in_progress":return"In Progress";case"completed":return"Completed";case"on_hold":return"On Hold";default:return e}},Ye=oe.filter(e=>"completed"===e.status).length,qe=oe.length,Ke=ce.filter(e=>new Date(e.scheduled_date)>new Date).length,Qe=qe>0?Math.round(Ye/qe*100):0;return ue?e.jsx(M,{children:e.jsx(T,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-gray-500 dark:text-gray-400",children:"Loading your dashboard..."})})})}):e.jsx(M,{children:e.jsx(T,{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:e.jsxs(z,{className:"space-y-6",children:[e.jsxs(F,{variant:"gradient",className:"relative overflow-hidden mx-4 mt-6 mb-6",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/80 via-purple-50/60 to-indigo-50/80 dark:from-blue-950/50 dark:via-purple-950/40 dark:to-indigo-950/50"}),e.jsxs("div",{className:"relative p-6 text-center z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-primary to-secondary rounded-xl shadow-lg",children:e.jsx(G,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent text-center sm:text-left",children:ke?.firstName?`Welcome back, ${ke.firstName}!`:"Premium Dashboard"})]}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-2xl mx-auto mb-6 sm:mb-8 px-2",children:"Your premium command center for advocacy excellence, real-time progress tracking, and comprehensive IEP management."}),e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 justify-center max-w-4xl mx-auto px-4",children:[e.jsx(n,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white shadow-lg hover:shadow-xl transition-all duration-300 px-4 sm:px-6 py-4 sm:py-3 cursor-pointer min-h-[44px] text-sm sm:text-base font-medium","data-testid":"button-explore-premium-tools",children:e.jsxs(a,{to:"/parent/tools/emergent",children:[e.jsx($,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Explore Premium Tools"]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs(n,{variant:"outline",size:"lg",className:"border-2 border-primary/30 hover:border-primary text-primary hover:bg-primary/5 px-4 sm:px-6 py-4 sm:py-3 cursor-pointer min-h-[44px] text-sm sm:text-base font-medium",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("👥 Manage Students clicked!");try{Se("/parent/students")}catch(s){console.error("Navigation error:",s),window.location.replace("/parent/students")}},"data-testid":"button-manage-students",children:[e.jsx(R,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Manage Students"]}),e.jsxs(n,{variant:"outline",size:"lg",className:"border-2 border-purple-500/30 hover:border-purple-500 text-purple-600 hover:bg-purple-50 px-4 sm:px-6 py-4 sm:py-3 cursor-pointer min-h-[44px] text-sm sm:text-base font-medium",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("📁 Document Vault clicked!");try{Se("/parent/tools/document-vault")}catch(s){console.error("Navigation error:",s),window.location.replace("/parent/tools/document-vault")}},"data-testid":"button-document-vault",children:[e.jsx(L,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Document Vault"]}),e.jsxs(n,{variant:"outline",size:"lg",className:"border-2 border-green-500/30 hover:border-green-500 text-green-600 hover:bg-green-50 px-4 sm:px-6 py-4 sm:py-3 cursor-pointer min-h-[44px] text-sm sm:text-base font-medium",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("🔍 Find Advocates clicked!");try{Se("/parent/matching")}catch(s){console.error("Navigation error:",s),window.location.replace("/parent/matching")}},"data-testid":"button-find-advocates",children:[e.jsx(U,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Find Advocates"]}),e.jsxs(n,{variant:"outline",size:"lg",className:"border-2 border-orange-500/30 hover:border-orange-500 text-orange-600 hover:bg-orange-50 px-4 sm:px-6 py-4 sm:py-3 cursor-pointer min-h-[44px] text-sm sm:text-base font-medium",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("💬 Messages clicked!");try{Se("/parent/messages")}catch(s){console.error("Navigation error:",s),window.location.replace("/parent/messages")}},"data-testid":"button-messages",children:[e.jsx(O,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Messages"]})]})]})]})]}),"free"===Ce&&e.jsx("div",{className:"px-4 sm:px-6 py-6 sm:py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(o,{className:"border-0 shadow-xl bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white overflow-hidden",children:e.jsx(d,{className:"p-4 sm:p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6 md:gap-8",children:[e.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-2 sm:gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:e.jsx($,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsx(u,{variant:"secondary",className:"bg-white/20 text-white border-white/30 font-semibold text-xs sm:text-sm",children:"Free Plan Active"})]}),e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-3",children:"🚀 Unlock Premium IEP Tools"}),e.jsx("p",{className:"text-white/90 mb-4 sm:mb-6 text-sm sm:text-base md:text-lg",children:"Test our payment system! Get AI-powered analysis, smart letters, and expert advocate matching."}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap justify-center lg:justify-start gap-3 sm:gap-6 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-300"}),e.jsx("span",{className:"font-medium",children:"AI Document Analysis"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-300"}),e.jsx("span",{className:"font-medium",children:"Smart Letter Generator"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-300"}),e.jsx("span",{className:"font-medium",children:"Expert Advocate Network"})]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 w-full sm:min-w-[280px] lg:w-auto",children:e.jsxs(n,{onClick:e=>{e.preventDefault(),e.stopPropagation();try{Se("/parent/pricing")}catch(s){console.error("Navigation error:",s),window.location.replace("/parent/pricing")}},size:"lg",className:"bg-white text-purple-600 hover:bg-white/90 font-bold text-sm sm:text-base md:text-lg py-4 px-6 sm:px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 min-h-[44px]","data-testid":"button-parent-upgrade",children:[e.jsx(B,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Upgrade Now"]})})]})})})})}),e.jsx("div",{className:"px-4 sm:px-6 pb-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 mx-4 mb-6",children:[{icon:W,title:qe,subtitle:"Active Goals",badge:`${Ye} completed`,color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",index:0},{icon:H,title:Ke,subtitle:"Upcoming Meetings",badge:"Auto reminders on",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",index:1},{icon:Y,title:`${Qe}%`,subtitle:"Completion Rate",badge:Qe>75?"Excellent!":Qe>50?"Great!":"Keep going!",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900",index:2},{icon:q,title:xe.length,subtitle:"Deep Analysis",badge:"Full IEP review",color:"from-orange-500 to-orange-600",bgColor:"from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900",index:3}].map(({icon:s,title:t,subtitle:a,badge:r,color:l,bgColor:i,index:n})=>e.jsxs(F,{variant:"elevated",className:"text-center relative overflow-hidden min-h-[140px] "+(Le?"cursor-pointer":"cursor-wait"),onClick:()=>{if(!Le)return void console.log("⚠️ Dashboard not initialized yet, skipping card click");const e=[()=>{console.log("📊 Goals card clicked!");try{Se("/parent/tools/goal-generator")}catch(e){console.error("Navigation error:",e),window.location.replace("/parent/tools/goal-generator")}},()=>{console.log("📅 Meetings card clicked!");try{Se("/parent/schedule")}catch(e){console.error("Navigation error:",e),window.location.replace("/parent/schedule")}},()=>{console.log("📈 Progress card clicked!");try{setTimeout(()=>{const e=document.querySelector('[data-section="goals"]');e?.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(e){console.error("Scroll error:",e)}},()=>{console.log("🔍 Deep Analysis card clicked!");try{Se("/parent/tools/iep-master-suite")}catch(e){console.error("Navigation error:",e),window.location.replace("/parent/tools/iep-master-suite")}}];try{e[n]?.()}catch(s){console.error("Action execution error:",s)}},"data-testid":`card-stat-${n}`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i} opacity-50`}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-white/20 to-transparent rounded-full transform translate-x-8 -translate-y-8"}),e.jsxs("div",{className:"relative z-10 p-6 space-y-3",children:[e.jsx("div",{className:`w-14 h-14 mx-auto rounded-2xl bg-gradient-to-br ${l} flex items-center justify-center shadow-lg`,children:e.jsx(s,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a})]}),e.jsx("div",{className:"pt-2",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium bg-white/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-300 shadow-sm",children:r})})]})]},n))}),e.jsx(F,{variant:"glass",className:"relative overflow-hidden",children:e.jsxs(P,{value:Ne,onValueChange:we,className:"w-full",children:[e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"relative rounded-2xl bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-1 shadow-xl",children:e.jsxs("div",{className:"flex bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-xl p-2 gap-2",children:[e.jsxs("button",{onClick:()=>we("goals"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 md:px-4 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base "+("goals"===Ne?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),"data-testid":"tab-goal-tracking",children:[e.jsx(W,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Goal Tracking"}),e.jsx("span",{className:"sm:hidden",children:"Goals"})]}),e.jsxs("button",{onClick:()=>we("meetings"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 md:px-4 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base "+("meetings"===Ne?"bg-gradient-to-r from-green-500 to-teal-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),"data-testid":"tab-meetings",children:[e.jsx(H,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Meetings"}),e.jsx("span",{className:"sm:hidden",children:"Meetings"})]}),e.jsxs("button",{onClick:()=>we("emotions"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 md:px-4 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base "+("emotions"===Ne?"bg-gradient-to-r from-pink-500 to-rose-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),"data-testid":"tab-emotions",children:[e.jsx(K,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Emotions"}),e.jsx("span",{className:"sm:hidden",children:"Emotions"})]}),e.jsxs("button",{onClick:()=>we("insights"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 md:px-4 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium transition-all duration-200 flex-1 justify-center min-h-[44px] text-xs sm:text-sm md:text-base "+("insights"===Ne?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),"data-testid":"tab-ai-insights",children:[e.jsx(q,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Quick Insights"}),e.jsx("span",{className:"sm:hidden",children:"Insights"})]})]})})}),e.jsxs(I,{value:"goals",className:"p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6 relative",style:{zIndex:20},children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"IEP Goals"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Track and celebrate your child's progress"})]}),e.jsxs(n,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl px-4 sm:px-6 py-3 min-h-[44px] text-sm sm:text-base font-medium w-full sm:w-auto",onClick:()=>{ye(!0)},"data-testid":"button-add-new-goal",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Add New Goal"]}),e.jsx(b,{open:be,onOpenChange:ye,children:e.jsxs(y,{className:"max-w-md border-0 shadow-2xl bg-white/95 backdrop-blur-sm max-h-[90vh] overflow-y-auto",children:[e.jsxs(v,{className:"px-1",children:[e.jsx(f,{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Create New Goal"}),e.jsx(N,{className:"text-sm sm:text-base text-gray-600",children:"Set up a new IEP goal to track your child's progress."})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"goal-title",className:"text-sm font-medium text-gray-700",children:"Goal Title"}),e.jsx(m,{id:"goal-title",value:Ae.title,onChange:e=>Ee({...Ae,title:e.target.value}),placeholder:"Enter goal title",className:"mt-2 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-lg min-h-[44px] text-base"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"goal-description",className:"text-sm font-medium text-gray-700",children:"Description"}),e.jsx(_,{id:"goal-description",value:Ae.description,onChange:e=>Ee({...Ae,description:e.target.value}),placeholder:"Describe the goal",className:"mt-2 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-lg min-h-[88px] text-base resize-none",rows:3})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"goal-type",className:"text-sm font-medium text-gray-700",children:"Goal Type"}),e.jsxs(k,{value:Ae.goal_type,onValueChange:e=>Ee({...Ae,goal_type:e}),children:[e.jsx(S,{className:"mt-2 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-lg min-h-[44px] text-base",children:e.jsx(C,{placeholder:"Select goal type"})}),e.jsxs(A,{className:"bg-white border-gray-200 shadow-xl rounded-lg",children:[e.jsx(E,{value:"academic",children:"📚 Academic"}),e.jsx(E,{value:"behavioral",children:"🎯 Behavioral"}),e.jsx(E,{value:"social",children:"👥 Social"}),e.jsx(E,{value:"communication",children:"💬 Communication"}),e.jsx(E,{value:"life_skills",children:"🌟 Life Skills"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"target-date",className:"text-sm font-medium text-gray-700",children:"Target Date"}),e.jsx(m,{id:"target-date",type:"date",value:Ae.target_date,onChange:e=>Ee({...Ae,target_date:e.target.value}),className:"mt-2 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-lg min-h-[44px] text-base"})]}),e.jsx(n,{onClick:async()=>{try{await D.createGoal({...Ae,student_id:ke?.id||"placeholder"}),_e({title:"Success",description:"Goal created successfully!"}),ye(!1),Ee({title:"",description:"",goal_type:"",target_date:"",status:"not_started"}),Ve()}catch(e){console.error("Error creating goal:",e),_e({title:"Error",description:"Failed to create goal. Please try again.",variant:"destructive"})}},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg py-4 font-medium min-h-[48px] text-base mt-6",children:"Create Goal"})]})]})})]}),e.jsx("div",{className:"grid gap-6","data-section":"goals",children:0===oe.length?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F,{variant:"glass",className:"text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/80 via-indigo-50/60 to-purple-50/80"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/20 to-indigo-400/20 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-xl"}),e.jsxs("div",{className:"relative z-10 py-12 px-8 space-y-6",children:[e.jsxs("div",{className:"relative mb-4 sm:mb-6",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full blur-xl opacity-30 animate-pulse"}),e.jsx(W,{className:"h-12 w-12 sm:h-16 sm:w-16 md:h-20 md:w-20 mx-auto text-blue-600 relative drop-shadow-lg"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2 sm:mb-3 text-gray-900",children:"Let's Start Your IEP Journey!"}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 mb-6 sm:mb-8 max-w-2xl mx-auto leading-relaxed",children:"Track your child's progress, celebrate achievements, and stay organized with personalized IEP goal management designed for families like yours."}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(n,{onClick:()=>ye(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 rounded-xl px-6 sm:px-8 py-4 text-sm sm:text-base md:text-lg font-semibold min-h-[48px] w-full sm:w-auto","data-testid":"button-create-first-goal",children:[e.jsx(Q,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Create Your First Goal"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(F,{variant:"elevated",className:"group",children:e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl group-hover:scale-110 transition-transform duration-300",children:e.jsx(V,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start Simple"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Begin with one meaningful goal from your child's current IEP. Focus on something you can track daily or weekly."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(u,{variant:"secondary",className:"bg-green-50 text-green-700 border-green-200",children:"📚 Reading fluency"}),e.jsx(u,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200",children:"🎯 Focus time"}),e.jsx(u,{variant:"secondary",className:"bg-purple-50 text-purple-700 border-purple-200",children:"💬 Communication"})]})]})]})})}),e.jsx(F,{variant:"elevated",className:"group",children:e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl group-hover:scale-110 transition-transform duration-300",children:e.jsx(Y,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Track Progress"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Update goal progress regularly and celebrate small wins. Visual progress tracking helps motivate both you and your child."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Weekly check-ins"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Milestone celebrations"})]})]})]})]})})})]}),e.jsxs(F,{variant:"gradient",className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-50/90 to-gray-100/90"}),e.jsxs("div",{className:"relative z-10 p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Common IEP Goal Categories"}),e.jsx("p",{className:"text-gray-600",children:"Choose the type that best matches your child's current focus areas"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group min-h-[100px] sm:min-h-[120px] flex flex-col justify-center",onClick:()=>Ee({...Ae,goal_type:"academic"}),children:[e.jsx("div",{className:"text-xl sm:text-2xl mb-2 group-hover:scale-110 transition-transform duration-200",children:"📚"}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Academic"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Reading, Math, Writing"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group min-h-[100px] sm:min-h-[120px] flex flex-col justify-center",onClick:()=>Ee({...Ae,goal_type:"behavioral"}),children:[e.jsx("div",{className:"text-xl sm:text-2xl mb-2 group-hover:scale-110 transition-transform duration-200",children:"🎯"}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Behavioral"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Self-regulation, Focus"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group min-h-[100px] sm:min-h-[120px] flex flex-col justify-center",onClick:()=>Ee({...Ae,goal_type:"social"}),children:[e.jsx("div",{className:"text-xl sm:text-2xl mb-2 group-hover:scale-110 transition-transform duration-200",children:"👥"}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Social"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Peer interaction, Teamwork"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group min-h-[100px] sm:min-h-[120px] flex flex-col justify-center",onClick:()=>Ee({...Ae,goal_type:"communication"}),children:[e.jsx("div",{className:"text-xl sm:text-2xl mb-2 group-hover:scale-110 transition-transform duration-200",children:"💬"}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Communication"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Speech, Language"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group min-h-[100px] sm:min-h-[120px] flex flex-col justify-center",onClick:()=>Ee({...Ae,goal_type:"life_skills"}),children:[e.jsx("div",{className:"text-xl sm:text-2xl mb-2 group-hover:scale-110 transition-transform duration-200",children:"🌟"}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Life Skills"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Independence, Daily tasks"})]})]})]})]})]}):oe.map(s=>e.jsxs(F,{variant:"interactive",className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 via-indigo-50/30 to-purple-50/50"}),e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-blue-400/10 to-transparent rounded-full"}),e.jsxs("div",{className:"relative z-10 p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between mb-4 gap-3 lg:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-full border border-blue-200",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-blue-700",children:Oe(s.student_id||"")})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${We(s.status)} shadow-sm`}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:s.title})]}),e.jsx(u,{variant:"outline",className:"capitalize bg-gray-50 text-gray-700 border-gray-200 text-xs sm:text-sm self-start sm:self-auto",children:s.goal_type?.replace("_"," ")})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:s.description})]}),e.jsxs(k,{value:s.status,onValueChange:e=>(async(e,s)=>{try{await D.updateGoal(e,{status:s}),_e({title:"Success",description:"Goal status updated!"}),Ve()}catch(t){console.error("Error updating goal:",t),_e({title:"Error",description:"Failed to update goal status.",variant:"destructive"})}})(s.id,e),children:[e.jsx(S,{className:"w-full lg:w-36 border-gray-300 focus:border-blue-500 rounded-lg min-h-[44px] text-sm sm:text-base",children:e.jsx(C,{})}),e.jsxs(A,{className:"bg-white border-gray-200 shadow-xl rounded-lg",children:[e.jsx(E,{value:"not_started",children:"Not Started"}),e.jsx(E,{value:"in_progress",children:"In Progress"}),e.jsx(E,{value:"completed",children:"✅ Completed"}),e.jsx(E,{value:"on_hold",children:"On Hold"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:He(s.status)}),e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-blue-600",children:[s.current_progress||0,"%"]})]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(j,{value:s.current_progress||0,className:"h-2 sm:h-3 bg-gray-100"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full transition-all duration-500",style:{width:`${s.current_progress||0}%`}})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500 min-w-[50px] sm:min-w-[60px]",children:"Progress:"}),e.jsx("input",{type:"range",min:"0",max:"100",value:s.current_progress||0,onChange:e=>Be(s.id,parseInt(e.target.value)),className:"flex-1 h-3 sm:h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${s.current_progress||0}%, #e5e7eb ${s.current_progress||0}%, #e5e7eb 100%)`},"data-testid":`slider-progress-${s.id}`}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{size:"sm",variant:"outline",onClick:()=>Be(s.id,Math.max(0,(s.current_progress||0)-10)),className:"h-8 w-8 sm:h-6 sm:w-6 p-0 text-xs min-h-[32px] sm:min-h-[24px]","data-testid":`button-decrease-progress-${s.id}`,children:"-"}),e.jsx(n,{size:"sm",variant:"outline",onClick:()=>Be(s.id,Math.min(100,(s.current_progress||0)+10)),className:"h-8 w-8 sm:h-6 sm:w-6 p-0 text-xs min-h-[32px] sm:min-h-[24px]","data-testid":`button-increase-progress-${s.id}`,children:"+"})]})]})]}),s.target_date&&e.jsxs("div",{className:"text-left lg:text-right",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Target Date"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:new Date(s.target_date).toLocaleDateString()})]})]}),"completed"===s.status&&e.jsxs("div",{className:"mt-3 sm:mt-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-green-800",children:"🎉 Goal completed! Great job!"})]})]})]},s.id))})]}),e.jsxs(I,{value:"meetings",className:"p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"Meeting Schedule"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Stay organized with automated reminders"})]}),e.jsxs(b,{open:ve,onOpenChange:fe,children:[e.jsx(w,{asChild:!0,children:e.jsxs(n,{className:"bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl px-4 sm:px-6 py-3 min-h-[44px] text-sm sm:text-base font-medium w-full sm:w-auto",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})}),e.jsxs(y,{className:"max-w-md border-0 shadow-2xl bg-white/95 backdrop-blur-sm max-h-[90vh] overflow-y-auto",children:[e.jsxs(v,{children:[e.jsx(f,{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Schedule IEP Meeting"}),e.jsx(N,{className:"text-sm sm:text-base text-gray-600",children:"Schedule a meeting and get automatic email reminders."})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"meeting-title",className:"text-sm font-medium text-gray-700",children:"Meeting Title"}),e.jsx(m,{id:"meeting-title",value:Pe.title,onChange:e=>Ie({...Pe,title:e.target.value}),placeholder:"Enter meeting title",className:"mt-2 border-gray-300 focus:border-purple-500 focus:ring-purple-500 rounded-lg min-h-[44px] text-base"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"meeting-description",className:"text-sm font-medium text-gray-700",children:"Description"}),e.jsx(_,{id:"meeting-description",value:Pe.description,onChange:e=>Ie({...Pe,description:e.target.value}),placeholder:"Meeting agenda or notes",className:"mt-2 border-gray-300 focus:border-purple-500 focus:ring-purple-500 rounded-lg min-h-[88px] text-base resize-none",rows:3})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"meeting-date",className:"text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsx(m,{id:"meeting-date",type:"datetime-local",value:Pe.scheduled_date,onChange:e=>Ie({...Pe,scheduled_date:e.target.value}),className:"mt-2 border-gray-300 focus:border-purple-500 focus:ring-purple-500 rounded-lg min-h-[44px] text-base"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"meeting-location",className:"text-sm font-medium text-gray-700",children:"Location"}),e.jsx(m,{id:"meeting-location",value:Pe.location,onChange:e=>Ie({...Pe,location:e.target.value}),placeholder:"Meeting location",className:"mt-2 border-gray-300 focus:border-purple-500 focus:ring-purple-500 rounded-lg min-h-[44px] text-base"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"meeting-type",className:"text-sm font-medium text-gray-700",children:"Meeting Type"}),e.jsxs(k,{value:Pe.meeting_type,onValueChange:e=>Ie({...Pe,meeting_type:e}),children:[e.jsx(S,{className:"mt-1 border-gray-300 focus:border-purple-500 focus:ring-purple-500 rounded-lg",children:e.jsx(C,{})}),e.jsxs(A,{className:"bg-white border-gray-200 shadow-xl rounded-lg",children:[e.jsx(E,{value:"iep",children:"🎯 IEP Meeting"}),e.jsx(E,{value:"504",children:"📋 504 Plan Meeting"}),e.jsx(E,{value:"evaluation",children:"📊 Evaluation Meeting"}),e.jsx(E,{value:"review",children:"📅 Annual Review"}),e.jsx(E,{value:"other",children:"📝 Other"})]})]})]}),e.jsx(n,{onClick:async()=>{try{await D.createMeeting({...Pe,student_id:ke?.id||"placeholder"}),_e({title:"Success",description:"Meeting scheduled successfully! Reminders will be sent automatically."}),fe(!1),Ie({title:"",description:"",scheduled_date:"",location:"",meeting_type:"iep"}),Ve()}catch(e){console.error("Error scheduling meeting:",e),_e({title:"Error",description:"Failed to schedule meeting. Please try again.",variant:"destructive"})}},className:"w-full bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white rounded-lg py-3 font-medium",children:"Schedule Meeting"})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:0===ce.length?e.jsxs(F,{variant:"glass",className:"text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/80 to-violet-50/80"}),e.jsxs("div",{className:"relative z-10 py-12 px-8 space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-violet-400 rounded-full blur-xl opacity-20 animate-pulse"}),e.jsx(H,{className:"h-16 w-16 mx-auto text-purple-500 mb-4 relative"})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Schedule your first meeting"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Never miss an important IEP meeting with automated email reminders."}),e.jsxs(n,{onClick:()=>fe(!0),className:"bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl px-8 py-3",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Schedule Your First Meeting"]})]})]}):ce.map(s=>e.jsxs(F,{variant:"glass",className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/50 via-violet-50/30 to-indigo-50/50"}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-purple-400/10 to-transparent rounded-full"}),e.jsxs("div",{className:"relative z-10 p-6 space-y-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(H,{className:"h-4 w-4 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title}),e.jsx(u,{variant:"outline",className:"capitalize bg-purple-50 text-purple-700 border-purple-200",children:s.meeting_type?.replace("_"," ")})]}),e.jsx("p",{className:"text-gray-600",children:s.description})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(H,{className:"h-4 w-4 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(s.scheduled_date).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"Date"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(J,{className:"h-4 w-4 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(s.scheduled_date).toLocaleTimeString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"Time"})]})]})]}),s.location&&e.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Location"}),e.jsx("div",{className:"text-sm text-gray-600",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(V,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Email reminders: 7, 3, and 1 day before"})]})]})]},s.id))})]}),e.jsxs(I,{value:"emotions",className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emotion Tracking"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your child's emotional well-being and daily mood"})]})}),e.jsxs(F,{variant:"gradient",className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-50/90 to-rose-50/90"}),e.jsxs(x,{className:"relative z-10",children:[e.jsxs(g,{className:"flex items-center gap-2 text-gray-900",children:[e.jsx(K,{className:"h-5 w-5 text-pink-600"}),"Select Student for Emotion Tracking"]}),e.jsx(h,{className:"text-gray-600",children:"Choose which child you want to track emotions for today"})]}),e.jsxs(d,{children:[e.jsxs(k,{value:De,onValueChange:Me,children:[e.jsx(S,{className:"w-full",children:e.jsx(C,{placeholder:"Select a student..."})}),e.jsx(A,{children:he.map(s=>e.jsxs(E,{value:s.id,children:[s.full_name," ",s.grade_level&&`- ${s.grade_level}`]},s.id))})]}),De&&e.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["✓ Tracking emotions for ",Oe(De)]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(o,{className:"border-0 shadow-lg",children:[e.jsxs(x,{children:[e.jsxs(g,{className:"flex items-center gap-2 text-gray-900",children:[e.jsx(K,{className:"h-5 w-5 text-blue-600"}),"Current Mood Status"]}),e.jsx(h,{className:"text-gray-800 font-medium",children:"Quick overview of today's emotional state"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[{emoji:"😊",label:"Happy",color:"bg-green-100"},{emoji:"😐",label:"Neutral",color:"bg-blue-100"},{emoji:"😟",label:"Worried",color:"bg-yellow-100"},{emoji:"😠",label:"Angry",color:"bg-orange-100"},{emoji:"😢",label:"Sad",color:"bg-red-100"}].map((s,t)=>e.jsxs("div",{className:`text-center p-3 ${s.color} rounded-lg`,children:[e.jsx("div",{className:"text-2xl mb-1",style:{fontFamily:"Apple Color Emoji, Segoe UI Emoji, Noto Color Emoji, Emoji, sans-serif"},children:s.emoji}),e.jsx("p",{className:"text-xs font-medium",children:s.label})]},t))}),e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:'Last recorded: Today at 2:30 PM - "Doing well after lunch break"'}),e.jsxs(b,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(n,{className:"w-full bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700",disabled:!De,onClick:()=>{_e(De?{title:"Mood Recording",description:"Opening mood recording interface...",variant:"default"}:{title:"Student Required",description:"Please select a student first to record their mood.",variant:"destructive"})},children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Record New Mood"]})}),e.jsxs(y,{className:"max-w-md",children:[e.jsxs(v,{children:[e.jsx(f,{children:"Record Daily Mood"}),e.jsx(N,{children:"Document your child's current emotional state and daily mood patterns"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Current Mood"}),e.jsx("div",{className:"grid grid-cols-5 gap-2 mt-2",children:["😊","😐","😟","😠","😢"].map((s,t)=>e.jsx(n,{variant:ze===s?"default":"outline",className:"h-12 text-xl",style:{fontFamily:"Apple Color Emoji, Segoe UI Emoji, Noto Color Emoji, Emoji, sans-serif"},onClick:()=>Fe(s),children:s},t))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{htmlFor:"mood-note",children:"Additional Notes"}),e.jsxs(n,{type:"button",variant:"ghost",size:"sm",onClick:async()=>{ze&&(Re(!0),setTimeout(()=>{Ge(`${{"😊":"Student appeared happy and engaged today.","😐":"Student showed neutral emotional state.","😟":"Student displayed signs of worry or anxiety.","😠":"Student exhibited frustration or anger.","😢":"Student seemed sad or upset."}[ze]} Additional observations: Student's emotional state seemed consistent with typical patterns for this time of day. Consider environmental factors and recent events that may have influenced mood.`),Re(!1),_e({title:"AI Draft Generated",description:"Please review and edit the professional note before saving.",variant:"default"})},1500))},disabled:$e||!ze,className:"text-xs",children:[$e?e.jsx(X,{className:"h-3 w-3 mr-1 animate-spin"}):e.jsx(q,{className:"h-3 w-3 mr-1"}),"AI Draft"]})]}),e.jsx(_,{id:"mood-note",value:Te,onChange:e=>Ge(e.target.value),placeholder:"Any additional observations or context...",className:"mt-2"}),Te&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 Review and edit this draft before saving"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(n,{onClick:()=>{De?(_e({title:"Mood Recorded",description:`Mood entry saved for ${Oe(De)}`,variant:"default"}),Fe(""),Ge("")):_e({title:"Student Required",description:"Please select a student first.",variant:"destructive"})},className:"flex-1",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Save Entry"]})})]})]})]})]})]})})]}),e.jsxs(o,{className:"border-0 shadow-lg",children:[e.jsxs(x,{children:[e.jsxs(g,{className:"flex items-center gap-2 text-gray-900",children:[e.jsx(Y,{className:"h-5 w-5 text-green-600"}),"Weekly Emotional Trends"]}),e.jsx(h,{className:"text-gray-800 font-medium",children:"Patterns and insights from this week"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Overall Mood"}),e.jsx(u,{className:"bg-green-100 text-green-800",children:"Positive"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Most Common"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-lg",children:"😊"}),e.jsx("span",{className:"text-sm",children:"Happy (4 days)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Improvement Areas"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Morning transitions"})]}),e.jsxs(n,{variant:"outline",className:"w-full mt-4",onClick:()=>{_e({title:"Detailed Analysis",description:"Opening comprehensive emotional analysis dashboard...",variant:"default"}),Se("/parent/tools/emotion-tracker")},children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"View Detailed Analysis"]})]})})]})]}),e.jsxs(o,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-50 to-indigo-50",children:[e.jsxs(x,{children:[e.jsx(g,{className:"text-gray-900",children:"Emotional Support Tools"}),e.jsx(h,{className:"text-gray-600",children:"Quick access to coping strategies and intervention resources"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(n,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>{_e({title:"Coping Strategies",description:"Opening breathing exercises and relaxation techniques...",variant:"default"}),Se("/parent/tools/coping-strategies")},children:[e.jsx(ee,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Coping Strategies"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Breathing & relaxation"})]}),e.jsxs(n,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>{_e({title:"Warning Signs",description:"Opening early intervention guidance and warning signals...",variant:"default"}),Se("/parent/tools/warning-signs")},children:[e.jsx(se,{className:"h-6 w-6 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Warning Signs"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Early intervention"})]}),e.jsxs(n,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>{_e({title:"Support Schedule",description:"Opening daily check-in schedule and routine management...",variant:"default"}),Se("/parent/tools/support-schedule")},children:[e.jsx(H,{className:"h-6 w-6 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Support Schedule"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Daily check-ins"})]})]})})]})]}),e.jsxs(I,{value:"insights",className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"AI-Powered Insights"}),e.jsx("p",{className:"text-gray-800 font-medium mt-1",children:"Data-driven analysis of your child's IEP documents"})]}),0===xe.length?e.jsx(o,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-orange-50 overflow-hidden",children:e.jsxs(d,{className:"text-center py-12",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400 to-orange-400 rounded-full blur-xl opacity-20 animate-pulse"}),e.jsx(q,{className:"h-16 w-16 mx-auto text-amber-500 mb-4 relative"})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Discover AI insights"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Upload and analyze IEP documents to get data-driven insights and recommendations."}),e.jsx(n,{asChild:!0,className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl px-8 py-3",children:e.jsxs("a",{href:"/parent/tools/unified-iep-review",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Analyze IEP Document"]})})]})}):e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(o,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[e.jsxs(x,{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200",children:[e.jsxs(g,{className:"text-xl text-gray-900 flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-amber-600"}),"Recent Analysis Summary"]}),e.jsx(h,{className:"text-gray-600",children:"Key insights from your latest IEP reviews"})]}),e.jsxs(d,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(te,{className:"h-5 w-5 text-orange-600"})}),e.jsx("span",{className:"text-gray-900",children:"Areas of Focus"})]}),e.jsx("div",{className:"grid gap-3",children:xe.length>0?xe.slice(0,3).map((s,t)=>{let a=[];if(Array.isArray(s.areas_of_concern)&&s.areas_of_concern.length>0)a=s.areas_of_concern;else if(s.ai_analysis&&"object"==typeof s.ai_analysis){const e=s.ai_analysis;e.key_findings&&Array.isArray(e.key_findings)?a=e.key_findings.slice(0,2):e.immediate_actions&&Array.isArray(e.immediate_actions)?a=e.immediate_actions.slice(0,2):e.detailed_analysis&&(a=[e.detailed_analysis])}return a.slice(0,2).map((s,a)=>e.jsxs("div",{className:"group hover:shadow-md transition-all duration-200 flex items-start gap-4 p-4 bg-orange-50 border border-orange-200 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-orange-900 mb-1",children:"string"==typeof s?s:s.title||s.area||"Focus area identified"}),e.jsx("p",{className:"text-xs text-orange-700",children:"From your recent IEP analysis"})]}),e.jsx(ae,{className:"h-4 w-4 text-orange-400 group-hover:text-orange-600 transition-colors"})]},`${t}-${a}`))}).flat():e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[e.jsx(te,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No recent IEP analyses available."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload and analyze an IEP document to see insights here."})]})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Y,{className:"h-5 w-5 text-green-600"})}),e.jsx("span",{className:"text-gray-900",children:"Key Strengths"})]}),e.jsx("div",{className:"grid gap-3",children:xe.length>0?xe.slice(0,3).map((s,t)=>{let a=[];if(Array.isArray(s.strengths)&&s.strengths.length>0)a=s.strengths;else if(s.ai_analysis&&"object"==typeof s.ai_analysis){const e=s.ai_analysis;e.environmental_modifications&&Array.isArray(e.environmental_modifications)?a=e.environmental_modifications.slice(0,2):e.summary&&"string"==typeof e.summary&&(a=[e.summary.substring(0,120)+"..."])}return a.slice(0,2).map((s,a)=>e.jsxs("div",{className:"group hover:shadow-md transition-all duration-200 flex items-start gap-4 p-4 bg-green-50 border border-green-200 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"string"==typeof s?s:s.title||s.area||"Strength identified"}),e.jsx("p",{className:"text-xs text-green-700",children:"From your recent analysis"})]}),e.jsx(re,{className:"h-4 w-4 text-green-400 group-hover:text-green-600 transition-colors"})]},`${t}-${a}`))}).flat():e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[e.jsx(Y,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No documented strengths available."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Complete an IEP analysis to identify student strengths."})]})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(W,{className:"h-5 w-5 text-blue-600"})}),e.jsx("span",{className:"text-gray-900",children:"AI Recommendations"})]}),e.jsx("div",{className:"grid gap-3",children:xe.length>0?xe.slice(0,3).map((s,t)=>{let a=[];if(Array.isArray(s.recommendations)&&s.recommendations.length>0)a=s.recommendations;else if(s.ai_analysis&&"object"==typeof s.ai_analysis){const e=s.ai_analysis;e.recommendations&&Array.isArray(e.recommendations)?a=e.recommendations.slice(0,2):e.environmental_modifications&&Array.isArray(e.environmental_modifications)?a=e.environmental_modifications.slice(0,2):e.immediate_actions&&Array.isArray(e.immediate_actions)&&(a=e.immediate_actions.slice(0,2))}return a.slice(0,2).map((s,a)=>e.jsxs("div",{className:"group hover:shadow-md transition-all duration-200 flex items-start gap-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"string"==typeof s?s:s.title||s.recommendation||"Recommendation available"}),e.jsx("p",{className:"text-xs text-blue-700",children:"AI-generated suggestion from analysis"})]}),e.jsx(le,{className:"h-4 w-4 text-blue-400 group-hover:text-blue-600 transition-colors"})]},`${t}-${a}`))}).flat():e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[e.jsx(W,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No AI recommendations available."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Analyze an IEP document to receive personalized recommendations."})]})})]})]})]}),e.jsxs(o,{className:"border-0 shadow-lg bg-white",children:[e.jsxs(x,{children:[e.jsx(g,{className:"text-lg text-gray-900",children:"Analysis History"}),e.jsx(h,{className:"text-gray-600",children:"Your recent IEP document reviews"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:xe.map(s=>e.jsxs("button",{className:"group hover:shadow-md transition-all duration-200 flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:border-gray-300 w-full text-left cursor-pointer hover:bg-gray-50",onClick:()=>{try{Se("/parent/tools/document-vault")}catch(e){console.error("Navigation error:",e),window.location.replace("/parent/tools/document-vault")}},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(ie,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium capitalize text-gray-900",children:[s.review_type," Analysis"]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(u,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Analyzed"]}),e.jsx(ae,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]},s.id))})})]})]})]})]})})]})})]})})})}export{ne as default};
