import{j as e}from"./chunk-DsWtD-um.js";import{u as s,d as t,r as a}from"./chunk--CdJ9rTh.js";import{C as r,h as l,B as n}from"../assets/index-BO9uTDme.js";import{p as c,b as i,a3 as d,r as o,A as m,U as x}from"./chunk-CIO6T0Sb.js";import"./chunk-DiCKXT8z.js";function h(){const h=s(),u=t(),[p,f]=a.useState(!0),[g,j]=a.useState(10),[N,b]=a.useState(!1),v=new URLSearchParams(h.search),y=v.get("session_id"),w=v.get("plan"),k=v.get("role");a.useEffect(()=>{(async()=>{if(y&&!N)try{(await fetch("/api/process-checkout-success",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:y,planId:w,role:k})})).ok&&b(!0)}catch(e){console.error("Error processing checkout success:",e)}})()},[y,w,k,N]),a.useEffect(()=>{setTimeout(()=>f(!1),5e3)},[]),a.useEffect(()=>{if(!N)return;const e=setInterval(()=>{j(e=>e<=1?(u("/"),0):e-1)},1e3);return()=>clearInterval(e)},[u,N]);const P=()=>{if(!p)return null;const s=Array.from({length:100},(s,t)=>e.jsx("div",{className:"confetti-piece",style:{left:100*Math.random()+"%",backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#f97316"][Math.floor(6*Math.random())],animationDelay:3*Math.random()+"s",width:10*Math.random()+5+"px",height:10*Math.random()+5+"px"}},t));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:s})},C=h.pathname.includes("parent")||h.search.includes("parent");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:[e.jsx(P,{}),e.jsxs("div",{className:"max-w-2xl w-full space-y-8 animate-bounce-in",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center animate-pulse",children:e.jsx(c,{className:"w-12 h-12 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 gradient-text-primary",children:"ðŸŽ‰ Payment Successful!"}),e.jsx("p",{className:"text-xl text-gray-600",children:N?"Check email to authenticate account.":"Setting up your account..."})]})]}),e.jsx(r,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-2xl",children:e.jsxs(l,{className:"p-8 space-y-6",children:[y&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(c,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900",children:"Payment Confirmed"})]}),e.jsxs("p",{className:"text-sm text-green-700",children:["Session ID: ",y.slice(-12)]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(i,{className:"h-6 w-6 text-primary"}),"What's Next?"]}),e.jsx("div",{className:"grid gap-4",children:C?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Upload Your IEP Documents"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Get AI-powered analysis and insights within minutes"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-purple-900",children:"Connect with Advocates"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Find certified advocates in your area"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-green-900",children:"Prepare for Success"}),e.jsx("p",{className:"text-sm text-green-700",children:"Use AI tools to prepare for IEP meetings"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Set Up Your Practice"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Complete your advocate profile and service areas"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-purple-900",children:"Connect with Families"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Start receiving client referrals in your area"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-green-900",children:"Grow Your Practice"}),e.jsx("p",{className:"text-sm text-green-700",children:"Use AI tools to scale your advocacy work"})]})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(d,{className:"h-5 w-5 text-amber-600"}),e.jsx("span",{className:"font-medium text-amber-900",children:"Welcome Bonus!"})]}),e.jsx("p",{className:"text-sm text-amber-800 mb-3",children:C?"Get your first IEP analysis free! Upload a document to see our AI in action.":"Your first month includes premium client management tools at no extra charge."}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700",children:[e.jsx(o,{className:"h-3 w-3"}),e.jsx("span",{children:"Premium subscriber exclusive"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsxs(n,{size:"lg",className:"flex-1 bg-gradient-to-r from-primary to-primary-light hover:from-primary-dark hover:to-primary text-white",onClick:()=>{if(C){const e=user?.subscriptionPlan?.toLowerCase().replace(/\s+/g,"")||"free";u(`/parent/dashboard-${e}`)}else{const e={starter:"starter",pro:"pro",agency:"agency","agency plus":"agency-plus",agencyplus:"agency-plus"}[user?.subscriptionPlan?.toLowerCase()]||"starter";u(`/advocate/dashboard-${e}`)}},children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Go to Dashboard"]}),e.jsxs(n,{variant:"outline",size:"lg",className:"flex-1",onClick:()=>u(C?"/parent/tools":"/advocate/tools"),children:[e.jsx(i,{className:"w-5 h-5 mr-2"}),"Explore Tools"]})]}),e.jsxs("div",{className:"text-center pt-4 border-t",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Redirecting to your dashboard in ",g," seconds..."]}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>j(0),className:"mt-2",children:"Go now"})]})]})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"h-4 w-4"}),e.jsx("span",{children:"10,000+ families served"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"h-4 w-4"}),e.jsx("span",{children:"FERPA compliant"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:"Award-winning platform"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your data is secure and your privacy is protected"})]})]})]})}export{h as default};
