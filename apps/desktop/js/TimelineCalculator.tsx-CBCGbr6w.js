import{j as e}from"./chunk-DsWtD-um.js";import{d as s,r as a,L as l}from"./chunk--CdJ9rTh.js";import{u as t,a as r,B as n,C as i,d,e as c,f as m,h as o,L as x,I as u}from"../assets/index-DmH44GAo.js";import{B as h}from"./chunk-0mWKUDnJ.js";import{S as j,a as p,b as y,c as g,d as N}from"./chunk-CeW2BF6N.js";import{a1 as f,aa as b,aW as v,aN as w,a$ as D,Y as R,bd as E,ba as M,y as q,w as S,be as k,bf as T}from"./chunk-CIO6T0Sb.js";import"./chunk-DiCKXT8z.js";function C(){const{profile:C}=t(),$="advocate"===C?.role,P=s(),{toast:z}=r(),[A,F]=a.useState(""),[I,B]=a.useState(""),[_,L]=a.useState([]),U=[{value:"ferpa",label:"FERPA Records Request",days:45,businessDays:!1},{value:"evaluation",label:"Special Education Evaluation",days:60,businessDays:!1},{value:"iep_development",label:"IEP Development",days:30,businessDays:!1},{value:"prior_notice",label:"Prior Written Notice",days:10,businessDays:!0},{value:"due_process",label:"Due Process Complaint",days:30,businessDays:!1},{value:"mediation",label:"Mediation Request",days:30,businessDays:!1},{value:"504_evaluation",label:"504 Plan Evaluation",days:"reasonable",businessDays:!1}],W=e=>{switch(e){case"overdue":return"bg-red-100 text-red-800 border-red-200";case"urgent":return"bg-orange-100 text-orange-800 border-orange-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},G=s=>{switch(s){case"overdue":return e.jsx(S,{className:"h-4 w-4 text-red-600"});case"urgent":return e.jsx(S,{className:"h-4 w-4 text-orange-600"});case"warning":return e.jsx(R,{className:"h-4 w-4 text-yellow-600"});default:return e.jsx(q,{className:"h-4 w-4 text-blue-600"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(l,{to:"/parent/tools/smart-letter-generator",children:e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Back to Tools"]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(b,{className:"h-8 w-8 text-primary"}),"Timeline Calculator",$&&e.jsx(h,{variant:"outline",className:"ml-2 bg-purple-50 text-purple-700 border-purple-200",children:"Professional"})]}),e.jsx("p",{className:"text-muted-foreground",children:$?"Calculate legal deadlines and compliance timeframes for special education processes":"Track important deadlines for special education requests and processes"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{variant:"outline",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(n,{children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{children:[e.jsxs(d,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Calculate Deadlines"]}),e.jsx(m,{children:"Enter your request details to calculate important deadlines and reminders"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"requestType",children:"Request Type"}),e.jsxs(j,{value:A,onValueChange:F,children:[e.jsx(p,{children:e.jsx(y,{placeholder:"Select request type"})}),e.jsx(g,{children:U.map(s=>e.jsx(N,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"requestDate",children:"Request Date"}),e.jsx(u,{id:"requestDate",type:"date",value:I,onChange:e=>B(e.target.value)})]})]}),e.jsxs(n,{onClick:()=>{if(!A||!I)return;const e=U.find(e=>e.value===A);if(!e)return;const s=new Date(I);let a,l,t;"reasonable"===e.days?(a=k(s,30),l=k(s,21),t=k(s,28)):e.businessDays?(a=T(s,e.days),l=T(s,Math.floor(.7*e.days)),t=T(s,e.days-2)):(a=k(s,e.days),l=k(s,Math.floor(.7*e.days)),t=k(s,e.days-3));const r=new Date,n=Math.ceil((a.getTime()-r.getTime())/864e5);let i="upcoming";n<0?i="overdue":n<=3?i="urgent":n<=7&&(i="warning"),L([{type:e.label,requestDate:s,deadlineDate:a,warningDate:l,urgentDate:t,daysRemaining:n,status:i,businessDays:e.businessDays,totalDays:e.days}])},disabled:!A||!I,children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Calculate Timeline"]})]})]}),_.length>0&&e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs(c,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Timeline Results"]}),_.length>0&&e.jsxs(n,{onClick:()=>(e=>{const s=$?"/advocate/schedule":"/parent/schedule",a={title:e.type,date:e.deadlineDate,description:`${e.type} response due`,type:"deadline",reminders:[{date:e.warningDate,type:"warning"},{date:e.urgentDate,type:"urgent"}]};P(s,{state:{newItem:a}}),z({title:"Added to Schedule",description:`${e.type} deadline has been added to your schedule.`})})(_[0]),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Add to Schedule"]})]})}),e.jsx(o,{className:"space-y-4",children:_.map((s,a)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold",children:s.type}),e.jsx(h,{className:W(s.status),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Request Submitted"})]}),e.jsx("p",{className:"text-lg font-semibold",children:M(s.requestDate,"MMM dd, yyyy")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:M(s.requestDate,"EEEE")})]}),e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[G(s.status),e.jsx("span",{className:"font-medium",children:"Response Due"})]}),e.jsx("p",{className:"text-lg font-semibold",children:M(s.deadlineDate,"MMM dd, yyyy")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:M(s.deadlineDate,"EEEE")})]})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Timeline Summary"})]}),e.jsxs("div",{className:"grid gap-2 md:grid-cols-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Total timeframe:"}),e.jsx("p",{className:"font-semibold",children:"reasonable"===s.totalDays?"Reasonable time":`${s.totalDays} ${s.businessDays?"business":"calendar"} days`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Days remaining:"}),e.jsx("p",{className:"font-semibold "+(s.daysRemaining<0?"text-red-600":s.daysRemaining<=3?"text-orange-600":"text-green-600"),children:s.daysRemaining<0?`${Math.abs(s.daysRemaining)} days overdue`:`${s.daysRemaining} days left`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx("p",{className:"font-semibold capitalize",children:s.status})]})]})]}),"overdue"!==s.status&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium",children:"Upcoming Reminders"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx(q,{className:"h-4 w-4 text-yellow-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Warning Reminder"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[M(s.warningDate,"MMM dd, yyyy")," - Follow up if no response"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx(S,{className:"h-4 w-4 text-orange-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Urgent Reminder"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[M(s.urgentDate,"MMM dd, yyyy")," - Escalation may be needed"]})]})]})]})]})]},a))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Quick Reference"]})}),e.jsx(o,{className:"space-y-3",children:U.map(s=>e.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:s.label}),e.jsx(h,{variant:"outline",className:"text-xs",children:"reasonable"===s.days?"Reasonable":`${s.days} ${s.businessDays?"bus.":"cal."} days`})]},s.value))})]}),e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Important Notes"]})}),e.jsx(o,{className:"space-y-3",children:e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Business Days:"})," Exclude weekends and federal holidays."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Calendar Days:"})," Include all days including weekends."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reasonable Time:"})," No specific deadline, but should be prompt and appropriate."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"State Variations:"})," Some states have shorter timeframes than federal requirements."]})]})})]}),e.jsxs(i,{children:[e.jsx(d,{children:e.jsx(c,{children:"Related Tools"})}),e.jsxs(o,{className:"space-y-2",children:[e.jsx(l,{to:"/parent/tools/smart-letter-generator",children:e.jsx(n,{variant:"ghost",size:"sm",className:"w-full justify-start",children:"Generate Follow-up Letter"})}),e.jsx(l,{to:"/idea-rights-guide",children:e.jsx(n,{variant:"ghost",size:"sm",className:"w-full justify-start",children:"IDEA Rights Guide"})}),e.jsx(l,{to:"/ferpa-overview",children:e.jsx(n,{variant:"ghost",size:"sm",className:"w-full justify-start",children:"FERPA Overview"})})]})]})]})]})]})}export{C as default};
