import{a as e,u as r,j as t,P as o,f as n,d as a,a9 as s,aa as c,b as d}from"./chunk-DsWtD-um.js";import{r as i}from"./chunk--CdJ9rTh.js";import{c as u}from"../assets/index-DhCC2x2k.js";import{p as l}from"./chunk-CIO6T0Sb.js";var f="Checkbox",[p,h]=e(f),[b,m]=p(f);function k(e){const{__scopeCheckbox:r,checked:o,children:n,defaultChecked:a,disabled:s,form:c,name:u,onCheckedChange:l,required:p,value:h="on",internal_do_not_use_render:m}=e,[k,C]=d({prop:o,defaultProp:a??!1,onChange:l,caller:f}),[x,v]=i.useState(null),[y,_]=i.useState(null),g=i.useRef(!1),j=!x||(!!c||!!x.closest("form")),E={checked:k,disabled:s,setChecked:C,control:x,setControl:v,name:u,form:c,value:h,hasConsumerStoppedPropagationRef:g,required:p,defaultChecked:!R(a)&&a,isFormControl:j,bubbleInput:y,setBubbleInput:_};return t.jsx(b,{scope:r,...E,children:w(m)?m(E):n})}var C="CheckboxTrigger",x=i.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:s,...c},d)=>{const{control:u,value:l,disabled:f,checked:p,required:h,setControl:b,setChecked:k,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:y}=m(C,e),_=r(d,b),g=i.useRef(p);return i.useEffect(()=>{const e=u?.form;if(e){const r=()=>k(g.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[u,k]),t.jsx(o.button,{type:"button",role:"checkbox","aria-checked":R(p)?"mixed":p,"aria-required":h,"data-state":E(p),"data-disabled":f?"":void 0,disabled:f,value:l,...c,ref:_,onKeyDown:n(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:n(s,e=>{k(e=>!!R(e)||!e),y&&v&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});x.displayName=C;var v=i.forwardRef((e,r)=>{const{__scopeCheckbox:o,name:n,checked:a,defaultChecked:s,required:c,disabled:d,value:i,onCheckedChange:u,form:l,...f}=e;return t.jsx(k,{__scopeCheckbox:o,checked:a,defaultChecked:s,disabled:d,required:c,onCheckedChange:u,name:n,form:l,value:i,internal_do_not_use_render:({isFormControl:e})=>t.jsxs(t.Fragment,{children:[t.jsx(x,{...f,ref:r,__scopeCheckbox:o}),e&&t.jsx(j,{__scopeCheckbox:o})]})})});v.displayName=f;var y="CheckboxIndicator",_=i.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:s,...c}=e,d=m(y,n);return t.jsx(a,{present:s||R(d.checked)||!0===d.checked,children:t.jsx(o.span,{"data-state":E(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:r,style:{pointerEvents:"none",...e.style}})})});_.displayName=y;var g="CheckboxBubbleInput",j=i.forwardRef(({__scopeCheckbox:e,...n},a)=>{const{control:d,hasConsumerStoppedPropagationRef:u,checked:l,defaultChecked:f,required:p,disabled:h,name:b,value:k,form:C,bubbleInput:x,setBubbleInput:v}=m(g,e),y=r(a,v),_=s(l),j=c(d);i.useEffect(()=>{const e=x;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,o=!u.current;if(_!==l&&t){const r=new Event("click",{bubbles:o});e.indeterminate=R(l),t.call(e,!R(l)&&l),e.dispatchEvent(r)}},[x,_,l,u]);const w=i.useRef(!R(l)&&l);return t.jsx(o.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??w.current,required:p,disabled:h,name:b,value:k,form:C,...n,tabIndex:-1,ref:y,style:{...n.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function w(e){return"function"==typeof e}function R(e){return"indeterminate"===e}function E(e){return R(e)?"indeterminate":e?"checked":"unchecked"}j.displayName=g;const N=i.forwardRef(({className:e,...r},o)=>t.jsx(v,{ref:o,className:u("peer h-5 w-5 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:t.jsx(_,{className:u("flex items-center justify-center text-current"),children:t.jsx(l,{className:"h-5 w-5"})})}));N.displayName=v.displayName;export{N as C};
