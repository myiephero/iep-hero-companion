const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BuUqvl4a.js","js/chunk-DsWtD-um.js","js/chunk--CdJ9rTh.js","js/chunk-CIO6T0Sb.js","js/chunk-DiCKXT8z.js","assets/index-CB6eufAz.css"])))=>i.map(i=>d[i]);
import{u as e,_ as s}from"../assets/index-BuUqvl4a.js";import{j as a}from"./chunk-DsWtD-um.js";import{r as t}from"./chunk--CdJ9rTh.js";import{S as n,a as d,b as l,c as r,d as o}from"./chunk-CqIUznKi.js";function c({selectedStudent:c,onStudentChange:i,placeholder:u="Select a student...",allowEmpty:h=!1}){const[m,x]=t.useState([]),[j,p]=t.useState(!0),{user:f}=e(),b=""===c?"no-student":c;t.useEffect(()=>{f&&(p(!0),x([]),g())},[f?.id]);const g=async()=>{if(f)try{const{apiRequest:e}=await s(async()=>{const{apiRequest:e}=await import("../assets/index-BuUqvl4a.js").then(e=>e.O);return{apiRequest:e}},__vite__mapDeps([0,1,2,3,4,5])),a=await e("GET","/api/students"),t=await a.json();x(t||[])}catch(e){console.error("Error fetching students:",e)}finally{p(!1)}};return j?a.jsx(n,{disabled:!0,children:a.jsx(d,{children:a.jsx(l,{placeholder:"Loading students..."})})}):a.jsxs(n,{value:b,onValueChange:e=>{i("no-student"===e?"":e)},children:[a.jsx(d,{className:"bg-background border-border",children:a.jsx(l,{placeholder:u})}),a.jsxs(r,{className:"bg-background border-border z-50",children:[h&&a.jsx(o,{value:"no-student",children:"No student selected"}),0===m.length?a.jsx(o,{value:"no-students-available",disabled:!0,children:"No students available"}):m.map(e=>a.jsx(o,{value:e.id,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:e.full_name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.grade_level?`Grade ${e.grade_level}`:"Grade not specified"," â€¢ ",e.school_name||"School not specified"]})]})},e.id))]})]})}export{c as S};
